<?xml version="1.0" encoding="UTF-8"?>
<reports>
	<reportSet rtype="clinicalCare">   <!--   Type 1: Patient Status -->
	<title lang="en">Type 1: Patient Status</title>
	<title lang="fr">Type 1: Statut des Patients</title>
		<reportSubSet>
		<title lang="en">Type 1: Patient Status</title>
		<title lang="fr">Type 1: Statut des Patients</title>
			<report id="1591" patientStatus="62" treatmentStatus="1" testType="0">
				<title lang="en">Patient Status</title>
				<title lang="fr">Statut des Patients</title>
				<groupLevel>1</groupLevel>
				<otherLevel>1</otherLevel>
				<reportFile groupLevel="1" otherLevel="1">patientRpt.jasper</reportFile> 
				<reportFile groupLevel="1" otherLevel="2">patientGenderRpt.jasper</reportFile>
				<reportFile groupLevel="1" otherLevel="3">patientAgeRpt.jasper</reportFile> 
				<reportFile groupLevel="1" otherLevel="4">patientPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="1">clinicRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="2">clinicSexRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="3">clinicAgeRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="4">clinicPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="1">communeRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="2">communeSexRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="3">communeAgeRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="4">communePregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="1">departmentRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="2">departmentSexRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="3">departmentAgeRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="4">departmentPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="1">networkRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="2">networkSexRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="3">networkAgeRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="4">networkPregnancyRpt.jasper</reportFile>
				<targetList>distinct ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, p.patientID, p.nationalID, ltrim(rtrim(p.fname)) as fName, ltrim(rtrim(p.lname)) as lName, $localized_gender as sex, $computed_age AS age, case when lower('$lang') = 'en' then statusDescEn else statusDescFr end as statusDesc,t.maxDate as  LastDate,max(nxt_dispd) as 'Dernier Randez-vous ARV', CONCAT_WS('|', p.addrDistrict, p.addrSection, p.addrTown) AS Address, p.telephone AS Phone, p.contact AS Contact, l.reasonDesc$lang AS failList</targetList>
				<aggregateItemsOld>count(distinct p.clinicPatientID+fname+lname+ageYears+nationalID) as 'Compte', left(count(distinct p.clinicPatientID+fname+lname+ageYears+nationalID)/$total. * 100),4) as 'Pour cent'</aggregateItemsOld>
				<aggregateItems>count(distinct p.patientID) as 'Compte', round(count(distinct p.patientID) / $total * 100.00, 2) as 'Pour cent'</aggregateItems>
				<fromClause>temp$user t, #tempStatus1$user s, patientStatusLookup q, clinicLookup a, v_patients p LEFT JOIN discTable d ON p.patientID = d.patientid LEFT JOIN discReasonLookup l ON d.discType = l.discType left join patientDispenses p2 on p2.patientID=p.patientID</fromClause>
				<whereClause>t.patientID = p.patientID  and a.sitecode = p.sitecode and a.sitecode like '$site' and p.encounterType in (10, 15) and p.patientID = s.patientId and q.statusValue = s.status</whereClause>
				<groupBy>1,2</groupBy>
				<havingClause/>
				<orderBy>1,3,4</orderBy>
				<query>$query</query>
				<description>Generic placeholder for active/inactive patient reports</description>
			</report>
			<report id="589">
				<title lang="en">Type 1: Patient Status</title>
				<title lang="fr">Type 1: Statut des Patients</title>
				<reportFile>siteReport.jasper</reportFile>
				<query>select CASE WHEN sex = 1 THEN 'Femme' WHEN sex = 2 THEN 'Homme' ELSE 'Autre' END as sex,count(distinct lname+fname+dobyy+dobmm+dobdd+fnamemother+clinicPatientID) as 'Count', round(count(distinct lname+fname+dobyy+dobmm+dobdd+fnamemother+clinicPatientID) / $total * 100.00, 2) as 'Pour cent' from $temptable t, v_patients p, entityAccess a where t.patientID = p.patientID and a.siteCode = p.siteCode and a.username = '$username' and a.siteCode = '$clinic' group by CASE WHEN sex = 1 THEN 'Femme' WHEN sex = 2 THEN 'Homme' ELSE 'Autre' END order by 2 desc</query>
				<description />
			</report>
			<report id="590">
				<title lang="en">Type 1: Patient Status</title>
				<title lang="fr">Type 1: Statut des Patients</title>
				<reportFile>groupByGender.jasper</reportFile>
				<query>select CASE WHEN sex = 1 THEN 'Femme' WHEN sex = 2 THEN 'Homme' ELSE 'Autre' END as sex,count(distinct lname+fname+dobyy+dobmm+dobdd+fnamemother+clinicPatientID) as 'Count', left(convert(float,count(distinct lname+fname+dobyy+dobmm+dobdd+fnamemother+clinicPatientID)/$total*100),4) as 'Pour cent' from $temptable t, v_patients p, entityAccess a where t.patientID = p.patientID and a.siteCode = p.siteCode and a.username = '$username' and a.siteCode = '$clinic' group by CASE WHEN sex = 1 THEN 'Femme' WHEN sex = 2 THEN 'Homme' ELSE 'Autre' END order by 2 desc</query>
				<description />
			</report>
			<report id="591">
				<title lang="en">Type 1: Patient Status</title>
				<title lang="fr">Type 1: Statut des Patients</title>
				<reportFile>genderList.jasper</reportFile>
				<query>select CASE WHEN sex = 1 THEN 'Femme' WHEN sex = 2 THEN 'Homme' ELSE 'Autre' END as sex,count(distinct lname+fname+dobyy+dobmm+dobdd+fnamemother+clinicPatientID) as 'Count', left(convert(float,count(distinct lname+fname+dobyy+dobmm+dobdd+fnamemother+clinicPatientID)/$total*100),4) as 'Pour cent' from $temptable t, v_patients p, entityAccess a where t.patientID = p.patientID and a.siteCode = p.siteCode and a.username = '$username' and a.siteCode = '$clinic' group by CASE WHEN sex = 1 THEN 'Femme' WHEN sex = 2 THEN 'Homme' ELSE 'Autre' END order by 2 desc</query>
				<description />
			</report>
		</reportSubSet>
	</reportSet>	
	<reportSet rtype="dailyCase"> <!--  Daily case reports -->
		<title lang="en">Daily Report summary</title>
		<title lang="fr">Rapports journaliers</title>
		<reportSubSet><!--  care summaries -->
			<title lang="en">Daily Report summary</title>
			<title lang="fr">Rapports journaliers</title>	
				<report id="545" patientStatus="0" treatmentStatus="0" testType="0">
				  <title lang="en">Daily Report summary</title>
				  <title lang="fr">Rapports journaliers</title>
				   <reportFile></reportFile>
				     <groupLevel>1</groupLevel>
				             <otherLevel>0</otherLevel>
                                <menuSelection>dateSelect</menuSelection>
			    </report>	
		    </reportSubSet>
	</reportSet>	
	<reportSet rtype="individualCase"> <!--  Individual case reports -->
		<title lang="en">Patient care summaries</title>
		<title lang="fr">Rapports de cas particulier</title>
		<reportSubSet><!--  care summaries -->
			<title lang="en">Patient care summaries</title>
			<title lang="fr">Cas particulier</title>
                        <!--
			<report id="201" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Patient Profile (pdf format)</title>
				<title lang="fr">Profil de patient (le format de pdf)</title>
				<reportFile>ppr.jasper</reportFile>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
                <query>select top 1 p.patientID, p.nationalID, ltrim(rtrim(p.lname)), ltrim(rtrim(p.fname)), p.sex, p.clinicPatientID, s.siteName from v_patients p, clinicLookup s where p.patientid = '$pid' and e.siteCode = s.siteCode order by p.visitDate</query>
				<description/>
			</report>
                        -->
			<report id="202" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Vital Sign history</title>
				<title lang="fr">Signes vitaux (historique)</title>
				<reportFile></reportFile>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select distinct visitdate as 'Date de visite', vitalTemp as Temp, vitalBp1 + '/' + vitalBp2 as TA, vitalHr as HR, vitalWeight as Poids, case when vitalWeightUnits = 1 then 'kgs' when vitalWeightUnits = 2 then 'lbs' else 'inconnu' end as 'en', vitalRr as FR, vitalHeight + '.' + vitalHeightCm as Taille from v_vitals where patientid = '$pid' and vitalTemp is not null and vitalTemp != '' order by 1 desc</query>
				<description/>
			</report>
			<report id="204" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Medication history</title>
				<title lang="fr">Médicaments prescrits (historique)</title>
				<reportFile></reportFile>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select visitdateyy + visitdatemm + visitdatedd as 'Date de visite', l.drugName as Medication, drugGroup as Type, startYy+startMm as 'Date de début', isContinued as 'Util. courante', stopYy+stopMm as 'Date de arrêt', toxicity as Tox, intolerance as Intol, failureVir as EchVir, failureImm as EchImm, failureClin as EchClin, stockout as Rs, pregnancy as Gros, patientHospitalized as Hop, lackMoney as Arg, alternativeTreatments as Alt, missedVisit as Suiv,  patientPreference as Pref from drugs d, druglookup l where d.drugid = l.drugid and patientid = '$pid' union select visitdateyy + visitdatemm + visitdatedd, drugName as Medication, 'Other', startYy+startMm, isContinued, stopYy+stopMm, toxicity, intolerance, failureVir, failureImm, failureClin, stockout, pregnancy , patientHospitalized, lackMoney, alternativeTreatments, missedVisit, patientPreference from otherDrugs where patientid = '$pid' union select substring(convert(varchar,visitDate,112),3,6), l.drugName, drugGroup, 'xxxx', null, 'xxxx', null,null,null,null,null,null,null,null,null,null,null,null from drugTable d, druglookup l where d.drugid = l.drugid and patientid = '$pid' order by 1 desc</query>
				<description/>
			</report>
			<report id="205" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Lab Test History</title>
				<title lang="fr">Analyses de laboratoire (historique)</title>
				<reportFile></reportFile>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select distinct testNameFr as 'Test', visitDate as 'Date de visite', Result, case when resultAbnormal = 1 then 'X' else '' end as AbnormalResult from v_labs where patientid = '$pid' order by 1,2</query>
				<description/>
			</report>
			<report id="203" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Diagnosis History</title>
				<title lang="fr">Diagnostics (historique)</title>
				<reportFile></reportFile>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select distinct visitdate as 'Date de visite', conditionYy + conditionMm as OnsetDate, conditionName$lang as 'Condition', case when conditionActive = 1 then 'Actif' when conditionActive = 2 then 'Gueri' when conditionActive = 3 then '???' when conditionActive = 4 then 'Dx Aujourd''hui' when conditionActive = 5 then 'Actif/Dx Aujourd''hui' when conditionActive > 5 then '???' else '???' end as 'Statut' from v_conditions where patientid = '$pid' order by 1 desc</query>
				<description/>
			</report>
                        <report id="206" patientStatus="0" treatmentStatus="0" testType="0">
                                <title lang="en">Patient Care Summary (pdf)</title>
                                <title lang="fr">Resumé du Dossier Médical (pdf)</title>
                                <reportFile>clinsum.jasper</reportFile>
                                <groupLevel>0</groupLevel>
                                <otherLevel>0</otherLevel>
                                <menuSelection>dateNo</menuSelection>
                                <query>select top 1 p.patientID, p.nationalID, ltrim(rtrim(p.lname)) as lname, ltrim(rtrim(p.fname)) as fname, p.sex, p.isPediatric, p.clinicPatientID, s.clinic as siteName, s.siteCode from v_patients p, clinicLookup s where p.patientid = '$pid' and p.siteCode = s.siteCode order by visitDate desc</query>
                                <description/>
                        </report>
                        <report id="207" patientStatus="0" treatmentStatus="0" testType="0">
                                <title lang="en">CD4 History Graph</title>
                                <title lang="fr">Historique de CD4 graphique</title>
                                <reportFile>clinsum_cd4_chart.jasper</reportFile>
                                <groupLevel>0</groupLevel>
                                <otherLevel>0</otherLevel>
                                <menuSelection>dateNo</menuSelection>
                                <query>select distinct cd4, visitdate from cd4Table where patientid = '$pid' and visitdate between dateadd(mm, -24, getdate()) and getdate() order by visitdate desc</query>
                                <description/>
                        </report>
                        <report id="208" patientStatus="0" treatmentStatus="0" testType="0">
                                <title lang="en">Weight History Graph</title>
                                <title lang="fr">Historique de poids graphique</title>
                                <reportFile>clinsum_wt_chart.jasper</reportFile>
                                <groupLevel>0</groupLevel>
                                <otherLevel>0</otherLevel>
                                <menuSelection>dateNo</menuSelection>
                                <query>select case when v.vitalWeightUnits = 1 then round(convert(float, replace(ltrim(rtrim(v.vitalWeight)), ',', '.')) * 2.20462262, 0) else replace(ltrim(rtrim(v.vitalWeight)), ',', '.') end as vitalWeight, v.visitdate from v_vitals v where v.patientID = '$pid' and v.encounterType in (1, 2, 16, 17) and isnumeric(v.vitalWeight) = 1 and v.vitalWeightUnits > 0 and v.visitdate between dateadd(mm, -24, getdate()) and getdate() order by v.visitdate desc</query>
                                <description/>
                        </report>
                        <report id="209" patientStatus="0" treatmentStatus="0" testType="0">
                                <title lang="en">History Graphs</title>
                                <title lang="fr">Histoires graphiques</title>
                                <reportFile>clinsum_hist_chart.jasper</reportFile>
                                <groupLevel>0</groupLevel>
                                <otherLevel>0</otherLevel>
                                <menuSelection>dateNo</menuSelection>
                                <query></query>
                                <description/>
                        </report>
                        <report id="210" patientStatus="0" treatmentStatus="0" testType="0">
			  <title lang="en">HIVQUAL Chart</title>
			  <title lang="fr">Histogramme HIVQUAL</title>
			  <reportFile>hivQual_6.3_chart.jasper</reportFile>
			  <groupLevel>0</groupLevel>
			  <otherLevel>0</otherLevel>
			  <menuSelection></menuSelection>
			  <query>select h.endDate,
                            sum(h.ind1_num) as ind1_num,
                            sum(h.ind1_den) as ind1_den,
                            case when sum(h.ind1_den) = 0 then 0 else
                            cast(cast(sum(h.ind1_num) as decimal) /
                            cast(sum(h.ind1_den) as decimal) * 100
                            as decimal(5,1)) end as ind1_ratio,
                            sum(h.ind2_num) as ind2_num,
                            sum(h.ind2_den) as ind2_den,
                            case when sum(h.ind2_den) = 0 then 0 else
                            cast(cast(sum(h.ind2_num) as decimal) /
                            cast(sum(h.ind2_den) as decimal) * 100
                            as decimal(5,1)) end as ind2_ratio,
                            sum(h.ind3_num) as ind3_num,
                            sum(h.ind3_den) as ind3_den,
                            case when sum(h.ind3_den) = 0 then 0 else
                            cast(cast(sum(h.ind3_num) as decimal) /
                            cast(sum(h.ind3_den) as decimal) * 100
                            as decimal(5,1)) end as ind3_ratio,
                            sum(h.ind4A_num) as ind4A_num,
                            sum(h.ind4A_den) as ind4A_den,
                            case when sum(h.ind4A_den) = 0 then 0 else
                            cast(cast(sum(h.ind4A_num) as decimal) /
                            cast(sum(h.ind4A_den) as decimal) * 100
                            as decimal(5,1)) end as ind4A_ratio,
                            sum(h.ind4B_num) as ind4B_num,
                            sum(h.ind4B_den) as ind4B_den,
                            case when sum(h.ind4B_den) = 0 then 0 else
                            cast(cast(sum(h.ind4B_num) as decimal) /
                            cast(sum(h.ind4B_den) as decimal) * 100
                            as decimal(5,1)) end as ind4B_ratio,
                            sum(h.ind5_num) as ind5_num,
                            sum(h.ind5_den) as ind5_den,
                            case when sum(h.ind5_den) = 0 then 0 else
                            cast(cast(sum(h.ind5_num) as decimal) /
                            cast(sum(h.ind5_den) as decimal) * 100
                            as decimal(5,1)) end as ind5_ratio,
                            sum(h.ind6_num) as ind6_num,
                            sum(h.ind6_den) as ind6_den,
                            case when sum(h.ind6_den) = 0 then 0 else
                            cast(cast(sum(h.ind6_num) as decimal) /
                            cast(sum(h.ind6_den) as decimal) * 100
                            as decimal(5,1)) end as ind6_ratio,
                            sum(h.ind7_num) as ind7_num,
                            sum(h.ind7_den) as ind7_den,
                            case when sum(h.ind7_den) = 0 then 0 else
                            cast(cast(sum(h.ind7_num) as decimal) /
                            cast(sum(h.ind7_den) as decimal) * 100
                            as decimal(5,1)) end as ind7_ratio,
                            sum(h.ind8_num) as ind8_num,
                            sum(h.ind8_den) as ind8_den,
                            case when sum(h.ind8_den) = 0 then 0 else
                            cast(cast(sum(h.ind8_num) as decimal) /
                            cast(sum(h.ind8_den) as decimal) * 100
                            as decimal(5,1)) end as ind8_ratio,
                            sum(h.ind9_num) as ind9_num,
                            sum(h.ind9_den) as ind9_den,
                            case when sum(h.ind9_den) = 0 then 0 else
                            cast(cast(sum(h.ind9_num) as decimal) /
                            cast(sum(h.ind9_den) as decimal) * 100
                            as decimal(5,1)) end as ind9_ratio,
                            sum(h.ind10_num) as ind10_num,
                            sum(h.ind10_den) as ind10_den,
                            case when sum(h.ind10_den) = 0 then 0 else
                            cast(cast(sum(h.ind10_num) as decimal) /
                            cast(sum(h.ind10_den) as decimal) * 100
                            as decimal(5,1)) end as ind10_ratio
			    from staticReportData t, hivQual h 
			    where h.siteCode = '$site'
			    and t.reportNumber = 504
			    and t.username = '$user'
			    and t.value1 = h.startDate
			    and t.value2 = h.endDate
                            and (h.row_type IN (0,2) OR h.row_type IS NULL)
                            group by h.endDate
			    order by h.endDate
			  </query>
                        </report>
                        <report id="211" patientStatus="0" treatmentStatus="0" testType="0">
			  <title lang="en">HIVQUAL Report</title>
			  <title lang="fr">Rapport HIVQUAL</title>
			  <reportFile>hivQual_main_paginated.jasper</reportFile>
			  <groupLevel>2</groupLevel>
			  <otherLevel>0</otherLevel>
			  <menuSelection>dateSelect</menuSelection>
			  <query>
			    select username, value1 as startDate, value2 as endDate, value3 as siteList
			    from staticReportData
			    where reportNumber = 504 and username = '$user'
			  </query>
                        </report>
                        <report id="212" patientStatus="0" treatmentStatus="0" testType="0">
			  <title lang="en">HIVQUAL Chart</title>
			  <title lang="fr">Histogramme HIVQUAL</title>
			  <reportFile>hivQual_6.3_chart_dept.jasper</reportFile>
			  <groupLevel>0</groupLevel>
			  <otherLevel>0</otherLevel>
			  <menuSelection></menuSelection>
			  <query>
                            select h.endDate,
                            avg(z.ind1_ratio) as ind1_ratio,
                            avg(z.ind2_ratio) as ind2_ratio,
                            avg(z.ind3_ratio) as ind3_ratio,
                            avg(z.ind4A_ratio) as ind4A_ratio,
                            avg(z.ind4B_ratio) as ind4B_ratio,
                            avg(z.ind5_ratio) as ind5_ratio,
                            avg(z.ind6_ratio) as ind6_ratio,
                            avg(z.ind7_ratio) as ind7_ratio,
                            avg(z.ind8_ratio) as ind8_ratio,
                            avg(z.ind9_ratio) as ind9_ratio,
                            avg(z.ind10_ratio) as ind10_ratio
			    from staticReportData t, hivQual h, (select
                             h.siteCode,
                             case when sum(h.ind1_den) = 0 then 0 else
                             cast(cast(sum(h.ind1_num) as decimal) /
                             cast(sum(h.ind1_den) as decimal) * 100
                             as decimal(5,1)) end as ind1_ratio,
                             case when sum(h.ind2_den) = 0 then 0 else
                             cast(cast(sum(h.ind2_num) as decimal) /
                             cast(sum(h.ind2_den) as decimal) * 100
                             as decimal(5,1)) end as ind2_ratio,
                             case when sum(h.ind3_den) = 0 then 0 else
                             cast(cast(sum(h.ind3_num) as decimal) /
                             cast(sum(h.ind3_den) as decimal) * 100
                             as decimal(5,1)) end as ind3_ratio,
                             case when sum(h.ind4A_den) = 0 then 0 else
                             cast(cast(sum(h.ind4A_num) as decimal) /
                             cast(sum(h.ind4A_den) as decimal) * 100
                             as decimal(5,1)) end as ind4A_ratio,
                             case when sum(h.ind4B_den) = 0 then 0 else
                             cast(cast(sum(h.ind4B_num) as decimal) /
                             cast(sum(h.ind4B_den) as decimal) * 100
                             as decimal(5,1)) end as ind4B_ratio,
                             case when sum(h.ind5_den) = 0 then 0 else
                             cast(cast(sum(h.ind5_num) as decimal) /
                             cast(sum(h.ind5_den) as decimal) * 100
                             as decimal(5,1)) end as ind5_ratio,
                             case when sum(h.ind6_den) = 0 then 0 else
                             cast(cast(sum(h.ind6_num) as decimal) /
                             cast(sum(h.ind6_den) as decimal) * 100
                             as decimal(5,1)) end as ind6_ratio,
                             case when sum(h.ind7_den) = 0 then 0 else
                             cast(cast(sum(h.ind7_num) as decimal) /
                             cast(sum(h.ind7_den) as decimal) * 100
                             as decimal(5,1)) end as ind7_ratio,
                             case when sum(h.ind8_den) = 0 then 0 else
                             cast(cast(sum(h.ind8_num) as decimal) /
                             cast(sum(h.ind8_den) as decimal) * 100
                             as decimal(5,1)) end as ind8_ratio,
                             case when sum(h.ind9_den) = 0 then 0 else
                             cast(cast(sum(h.ind9_num) as decimal) /
                             cast(sum(h.ind9_den) as decimal) * 100
                             as decimal(5,1)) end as ind9_ratio,
                             case when sum(h.ind10_den) = 0 then 0 else
                             cast(cast(sum(h.ind10_num) as decimal) /
                             cast(sum(h.ind10_den) as decimal) * 100
                             as decimal(5,1)) end as ind10_ratio
                             from clinicLookup l, hivQual h, staticReportData s
			     where l.department = 
			     (select department
			      from clinicLookup
			      where siteCode = '$site'
			     )
			     and charindex(h.siteCode, s.value3) > 0
			     and s.reportNumber = 504
			     and s.username = '$user'
                             group by h.siteCode
                            ) z
                            where z.siteCode = h.siteCode
			    and t.reportNumber = 504
			    and t.username = '$user'
                            and t.value1 = h.startDate
			    and t.value2 = h.endDate
                            and (h.row_type IN (0,2) OR h.row_type IS NULL)
			    group by h.endDate 
			    order by h.endDate
			  </query>
			</report>
                        <report id="213" patientStatus="0" treatmentStatus="0" testType="0">
			  <title lang="en">HIVQUAL Chart</title>
			  <title lang="fr">Histogramme HIVQUAL</title>
			  <reportFile>hivQual_6.3_chart_natl.jasper</reportFile>
			  <groupLevel>0</groupLevel>
			  <otherLevel>0</otherLevel>
			  <menuSelection></menuSelection>
			  <query>
                            select h.endDate,
                            avg(z.ind1_ratio) as ind1_ratio,
                            avg(z.ind2_ratio) as ind2_ratio,
                            avg(z.ind3_ratio) as ind3_ratio,
                            avg(z.ind4A_ratio) as ind4A_ratio,
                            avg(z.ind4B_ratio) as ind4B_ratio,
                            avg(z.ind5_ratio) as ind5_ratio,
                            avg(z.ind6_ratio) as ind6_ratio,
                            avg(z.ind7_ratio) as ind7_ratio,
                            avg(z.ind8_ratio) as ind8_ratio,
                            avg(z.ind9_ratio) as ind9_ratio,
                            avg(z.ind10_ratio) as ind10_ratio
			    from staticReportData t, hivQual h, (select
                             h.siteCode,
                             case when sum(h.ind1_den) = 0 then 0 else
                             cast(cast(sum(h.ind1_num) as decimal) /
                             cast(sum(h.ind1_den) as decimal) * 100
                             as decimal(5,1)) end as ind1_ratio,
                             case when sum(h.ind2_den) = 0 then 0 else
                             cast(cast(sum(h.ind2_num) as decimal) /
                             cast(sum(h.ind2_den) as decimal) * 100
                             as decimal(5,1)) end as ind2_ratio,
                             case when sum(h.ind3_den) = 0 then 0 else
                             cast(cast(sum(h.ind3_num) as decimal) /
                             cast(sum(h.ind3_den) as decimal) * 100
                             as decimal(5,1)) end as ind3_ratio,
                             case when sum(h.ind4A_den) = 0 then 0 else
                             cast(cast(sum(h.ind4A_num) as decimal) /
                             cast(sum(h.ind4A_den) as decimal) * 100
                             as decimal(5,1)) end as ind4A_ratio,
                             case when sum(h.ind4B_den) = 0 then 0 else
                             cast(cast(sum(h.ind4B_num) as decimal) /
                             cast(sum(h.ind4B_den) as decimal) * 100
                             as decimal(5,1)) end as ind4B_ratio,
                             case when sum(h.ind5_den) = 0 then 0 else
                             cast(cast(sum(h.ind5_num) as decimal) /
                             cast(sum(h.ind5_den) as decimal) * 100
                             as decimal(5,1)) end as ind5_ratio,
                             case when sum(h.ind6_den) = 0 then 0 else
                             cast(cast(sum(h.ind6_num) as decimal) /
                             cast(sum(h.ind6_den) as decimal) * 100
                             as decimal(5,1)) end as ind6_ratio,
                             case when sum(h.ind7_den) = 0 then 0 else
                             cast(cast(sum(h.ind7_num) as decimal) /
                             cast(sum(h.ind7_den) as decimal) * 100
                             as decimal(5,1)) end as ind7_ratio,
                             case when sum(h.ind8_den) = 0 then 0 else
                             cast(cast(sum(h.ind8_num) as decimal) /
                             cast(sum(h.ind8_den) as decimal) * 100
                             as decimal(5,1)) end as ind8_ratio,
                             case when sum(h.ind9_den) = 0 then 0 else
                             cast(cast(sum(h.ind9_num) as decimal) /
                             cast(sum(h.ind9_den) as decimal) * 100
                             as decimal(5,1)) end as ind9_ratio,
                             case when sum(h.ind10_den) = 0 then 0 else
                             cast(cast(sum(h.ind10_num) as decimal) /
                             cast(sum(h.ind10_den) as decimal) * 100
                             as decimal(5,1)) end as ind10_ratio
                             from hivQual h, staticReportData s
			     where charindex(h.siteCode, s.value3) > 0
			     and s.reportNumber = 504
			     and s.username = '$user'
                             group by h.siteCode
                            ) z
                            where z.siteCode = h.siteCode
			    and t.reportNumber = 504
			    and t.username = '$user'
                            and t.value1 = h.startDate
			    and t.value2 = h.endDate
			    group by h.endDate 
			    order by h.endDate
			  </query>
                        </report>
                        <report id="214" patientStatus="0" treatmentStatus="0" testType="0">
                                <title lang="en">Patient Transfer Summary</title>
                                <title lang="fr">Resumé de Transfert</title>
                                <reportFile>clinsum_xfer.jasper</reportFile>
                                <groupLevel>0</groupLevel>
                                <otherLevel>0</otherLevel>
                                <menuSelection>dateNo</menuSelection>
                                <query>select top 1 p.patientID, p.nationalID, ltrim(rtrim(p.lname)) as lname, ltrim(rtrim(p.fname)) as fname, p.sex, p.isPediatric, p.clinicPatientID, s.clinic as siteName, s.siteCode from v_patients p, clinicLookup s where p.patientid = '$pid' and p.siteCode = s.siteCode order by visitDate desc</query>
                                <description/>
                        </report>
                        <report id="215" patientStatus="0" treatmentStatus="0" testType="0">
			  <title lang="en">HEALTHQUAL Chart</title>
			  <title lang="fr">Histogramme HEALTHQUAL</title>
			  <reportFile>healthQual_12.3_chart.jasper</reportFile>
			  <groupLevel>0</groupLevel>
			  <otherLevel>0</otherLevel>
			  <menuSelection></menuSelection>
			  <query>select h.endDate,
                            sum(h.ind01_num_total) as ind1_num,
                            sum(h.ind01_den_total) as ind1_den,
                            case when sum(h.ind01_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind01_num_total) as decimal) /
                            cast(sum(h.ind01_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind1_ratio,
                            sum(h.ind02_num_total) as ind2_num,
                            sum(h.ind02_den_total) as ind2_den,
                            case when sum(h.ind02_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind02_num_total) as decimal) /
                            cast(sum(h.ind02_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind2_ratio,
                            sum(h.ind03_num_total) as ind3_num,
                            sum(h.ind03_den_total) as ind3_den,
                            case when sum(h.ind03_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind03_num_total) as decimal) /
                            cast(sum(h.ind03_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind3_ratio,
                            sum(h.ind04_num_total) as ind4_num,
                            sum(h.ind04_den_total) as ind4_den,
                            case when sum(h.ind04_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind04_num_total) as decimal) /
                            cast(sum(h.ind04_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind4_ratio,
                            sum(h.ind05_num_total) as ind5_num,
                            sum(h.ind05_den_total) as ind5_den,
                            case when sum(h.ind05_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind05_num_total) as decimal) /
                            cast(sum(h.ind05_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind5_ratio,
                            sum(h.ind06_num_total) as ind6_num,
                            sum(h.ind06_den_total) as ind6_den,
                            case when sum(h.ind06_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind06_num_total) as decimal) /
                            cast(sum(h.ind06_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind6_ratio,
                            sum(h.ind07_num_total) as ind7_num,
                            sum(h.ind07_den_total) as ind7_den,
                            case when sum(h.ind07_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind07_num_total) as decimal) /
                            cast(sum(h.ind07_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind7_ratio,
                            sum(h.ind08_num_total) as ind8_num,
                            sum(h.ind08_den_total) as ind8_den,
                            case when sum(h.ind08_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind08_num_total) as decimal) /
                            cast(sum(h.ind08_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind8_ratio,
                            sum(h.ind09_num_total) as ind9_num,
                            sum(h.ind09_den_total) as ind9_den,
                            case when sum(h.ind09_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind09_num_total) as decimal) /
                            cast(sum(h.ind09_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind9_ratio,
                            sum(h.ind10_num_total) as ind10_num,
                            sum(h.ind10_den_total) as ind10_den,
                            case when sum(h.ind10_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind10_num_total) as decimal) /
                            cast(sum(h.ind10_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind10_ratio,
                            sum(h.ind11_num_total) as ind11_num,
                            sum(h.ind11_den_total) as ind11_den,
                            case when sum(h.ind11_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind11_num_total) as decimal) /
                            cast(sum(h.ind11_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind11_ratio,
                            sum(h.ind12_num_total) as ind12_num,
                            sum(h.ind12_den_total) as ind12_den,
                            case when sum(h.ind12_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind12_num_total) as decimal) /
                            cast(sum(h.ind12_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind12_ratio,
                            sum(h.ind13_num_total) as ind13_num,
                            sum(h.ind13_den_total) as ind13_den,
                            case when sum(h.ind13_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind13_num_total) as decimal) /
                            cast(sum(h.ind13_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind13_ratio,
                            sum(h.ind14_num_total) as ind14_num,
                            sum(h.ind14_den_total) as ind14_den,
                            case when sum(h.ind14_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind14_num_total) as decimal) /
                            cast(sum(h.ind14_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind14_ratio,
                            sum(h.ind15_num_total) as ind15_num,
                            sum(h.ind15_den_total) as ind15_den,
                            case when sum(h.ind15_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind15_num_total) as decimal) /
                            cast(sum(h.ind15_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind15_ratio,
                            sum(h.ind16_num_total) as ind16_num,
                            sum(h.ind16_den_total) as ind16_den,
                            case when sum(h.ind16_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind16_num_total) as decimal) /
                            cast(sum(h.ind16_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind16_ratio,
                            sum(h.ind17_num_total) as ind17_num,
                            sum(h.ind17_den_total) as ind17_den,
                            case when sum(h.ind17_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind17_num_total) as decimal) /
                            cast(sum(h.ind17_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind17_ratio,
                            sum(h.ind18_num_total) as ind18_num,
                            sum(h.ind18_den_total) as ind18_den,
                            case when sum(h.ind18_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind18_num_total) as decimal) /
                            cast(sum(h.ind18_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind18_ratio,
                            sum(h.ind19_num_total) as ind19_num,
                            sum(h.ind19_den_total) as ind19_den,
                            case when sum(h.ind19_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind19_num_total) as decimal) /
                            cast(sum(h.ind19_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind19_ratio
			    from (select distinct value1, value2
                            from staticReportData where
                            reportNumber = 512
                            and username = '$user') t, healthQual h 
			    where h.siteCode = '$site'
			    and t.value1 = h.startDate
			    and t.value2 = h.endDate
                            and h.row_type IN (1,2)
                            group by h.endDate
			    order by h.endDate
			  </query>
                        </report>
                        <report id="216" patientStatus="0" treatmentStatus="0" testType="0">
			  <title lang="en">HEALTHQUAL Report</title>
			  <title lang="fr">Rapport HEALTHQUAL</title>
			  <reportFile>healthQual_main_paginated.jasper</reportFile>
			  <groupLevel>2</groupLevel>
			  <otherLevel>0</otherLevel>
			  <menuSelection>dateSelect</menuSelection>
			  <query>
			    select username, value1 as startDate, value2 as endDate, value3 as siteList
			    from staticReportData
			    where reportNumber = 512 and username = '$user'
                            group by 1,2,3,4
			  </query>
                        </report>
                        <report id="217" patientStatus="0" treatmentStatus="0" testType="0">
			  <title lang="en">HEALTHQUAL Chart</title>
			  <title lang="fr">Histogramme HEALTHQUAL</title>
			  <reportFile>healthQual_12.3_chart_dept.jasper</reportFile>
			  <groupLevel>0</groupLevel>
			  <otherLevel>0</otherLevel>
			  <menuSelection></menuSelection>
			  <query>
			    select h.endDate,
                            sum(h.ind01_num_total) as ind1_num,
                            sum(h.ind01_den_total) as ind1_den,
                            case when sum(h.ind01_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind01_num_total) as decimal) /
                            cast(sum(h.ind01_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind1_ratio,
                            sum(h.ind02_num_total) as ind2_num,
                            sum(h.ind02_den_total) as ind2_den,
                            case when sum(h.ind02_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind02_num_total) as decimal) /
                            cast(sum(h.ind02_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind2_ratio,
                            sum(h.ind03_num_total) as ind3_num,
                            sum(h.ind03_den_total) as ind3_den,
                            case when sum(h.ind03_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind03_num_total) as decimal) /
                            cast(sum(h.ind03_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind3_ratio,
                            sum(h.ind04_num_total) as ind4_num,
                            sum(h.ind04_den_total) as ind4_den,
                            case when sum(h.ind04_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind04_num_total) as decimal) /
                            cast(sum(h.ind04_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind4_ratio,
                            sum(h.ind05_num_total) as ind5_num,
                            sum(h.ind05_den_total) as ind5_den,
                            case when sum(h.ind05_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind05_num_total) as decimal) /
                            cast(sum(h.ind05_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind5_ratio,
                            sum(h.ind06_num_total) as ind6_num,
                            sum(h.ind06_den_total) as ind6_den,
                            case when sum(h.ind06_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind06_num_total) as decimal) /
                            cast(sum(h.ind06_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind6_ratio,
                            sum(h.ind07_num_total) as ind7_num,
                            sum(h.ind07_den_total) as ind7_den,
                            case when sum(h.ind07_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind07_num_total) as decimal) /
                            cast(sum(h.ind07_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind7_ratio,
                            sum(h.ind08_num_total) as ind8_num,
                            sum(h.ind08_den_total) as ind8_den,
                            case when sum(h.ind08_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind08_num_total) as decimal) /
                            cast(sum(h.ind08_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind8_ratio,
                            sum(h.ind09_num_total) as ind9_num,
                            sum(h.ind09_den_total) as ind9_den,
                            case when sum(h.ind09_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind09_num_total) as decimal) /
                            cast(sum(h.ind09_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind9_ratio,
                            sum(h.ind10_num_total) as ind10_num,
                            sum(h.ind10_den_total) as ind10_den,
                            case when sum(h.ind10_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind10_num_total) as decimal) /
                            cast(sum(h.ind10_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind10_ratio,
                            sum(h.ind11_num_total) as ind11_num,
                            sum(h.ind11_den_total) as ind11_den,
                            case when sum(h.ind11_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind11_num_total) as decimal) /
                            cast(sum(h.ind11_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind11_ratio,
                            sum(h.ind12_num_total) as ind12_num,
                            sum(h.ind12_den_total) as ind12_den,
                            case when sum(h.ind12_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind12_num_total) as decimal) /
                            cast(sum(h.ind12_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind12_ratio,
                            sum(h.ind13_num_total) as ind13_num,
                            sum(h.ind13_den_total) as ind13_den,
                            case when sum(h.ind13_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind13_num_total) as decimal) /
                            cast(sum(h.ind13_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind13_ratio,
                            sum(h.ind14_num_total) as ind14_num,
                            sum(h.ind14_den_total) as ind14_den,
                            case when sum(h.ind14_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind14_num_total) as decimal) /
                            cast(sum(h.ind14_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind14_ratio,
                            sum(h.ind15_num_total) as ind15_num,
                            sum(h.ind15_den_total) as ind15_den,
                            case when sum(h.ind15_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind15_num_total) as decimal) /
                            cast(sum(h.ind15_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind15_ratio,
                            sum(h.ind16_num_total) as ind16_num,
                            sum(h.ind16_den_total) as ind16_den,
                            case when sum(h.ind16_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind16_num_total) as decimal) /
                            cast(sum(h.ind16_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind16_ratio,
                            sum(h.ind17_num_total) as ind17_num,
                            sum(h.ind17_den_total) as ind17_den,
                            case when sum(h.ind17_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind17_num_total) as decimal) /
                            cast(sum(h.ind17_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind17_ratio,
                            sum(h.ind18_num_total) as ind18_num,
                            sum(h.ind18_den_total) as ind18_den,
                            case when sum(h.ind18_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind18_num_total) as decimal) /
                            cast(sum(h.ind18_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind18_ratio,
                            sum(h.ind19_num_total) as ind19_num,
                            sum(h.ind19_den_total) as ind19_den,
                            case when sum(h.ind19_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind19_num_total) as decimal) /
                            cast(sum(h.ind19_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind19_ratio
			    from clinicLookup l,
                            (select distinct value1, value2, value3
                            from staticReportData where
                            reportNumber = 512
                            and username = '$user') s, healthQual h 
			    where charindex(h.siteCode, s.value3) > 0
                            and h.siteCode in
                            (select siteCode
                             from clinicLookup
                             where department = 
			     (select department
			      from clinicLookup
			      where siteCode = '$site'
			     )
                            )
                            group by h.endDate
                            order by h.endDate
			  </query>
			</report>
                        <report id="218" patientStatus="0" treatmentStatus="0" testType="0">
			  <title lang="en">HEALTHQUAL Chart</title>
			  <title lang="fr">Histogramme HEALTHQUAL</title>
			  <reportFile>healthQual_13.1_sumchart.jasper</reportFile>
			  <groupLevel>0</groupLevel>
			  <otherLevel>0</otherLevel>
			  <menuSelection></menuSelection>
			  <query>select h.endDate,
                            sum(h.ind01_num_total) as ind1_num,
                            sum(h.ind01_den_total) as ind1_den,
                            case when sum(h.ind01_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind01_num_total) as decimal) /
                            cast(sum(h.ind01_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind1_ratio,
                            sum(h.ind02_num_total) as ind2_num,
                            sum(h.ind02_den_total) as ind2_den,
                            case when sum(h.ind02_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind02_num_total) as decimal) /
                            cast(sum(h.ind02_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind2_ratio,
                            sum(h.ind03_num_total) as ind3_num,
                            sum(h.ind03_den_total) as ind3_den,
                            case when sum(h.ind03_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind03_num_total) as decimal) /
                            cast(sum(h.ind03_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind3_ratio,
                            sum(h.ind04_num_total) as ind4_num,
                            sum(h.ind04_den_total) as ind4_den,
                            case when sum(h.ind04_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind04_num_total) as decimal) /
                            cast(sum(h.ind04_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind4_ratio,
                            sum(h.ind05_num_total) as ind5_num,
                            sum(h.ind05_den_total) as ind5_den,
                            case when sum(h.ind05_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind05_num_total) as decimal) /
                            cast(sum(h.ind05_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind5_ratio,
                            sum(h.ind06_num_total) as ind6_num,
                            sum(h.ind06_den_total) as ind6_den,
                            case when sum(h.ind06_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind06_num_total) as decimal) /
                            cast(sum(h.ind06_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind6_ratio,
                            sum(h.ind07_num_total) as ind7_num,
                            sum(h.ind07_den_total) as ind7_den,
                            case when sum(h.ind07_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind07_num_total) as decimal) /
                            cast(sum(h.ind07_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind7_ratio,
                            sum(h.ind08_num_total) as ind8_num,
                            sum(h.ind08_den_total) as ind8_den,
                            case when sum(h.ind08_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind08_num_total) as decimal) /
                            cast(sum(h.ind08_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind8_ratio,
                            sum(h.ind09_num_total) as ind9_num,
                            sum(h.ind09_den_total) as ind9_den,
                            case when sum(h.ind09_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind09_num_total) as decimal) /
                            cast(sum(h.ind09_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind9_ratio,
                            sum(h.ind10_num_total) as ind10_num,
                            sum(h.ind10_den_total) as ind10_den,
                            case when sum(h.ind10_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind10_num_total) as decimal) /
                            cast(sum(h.ind10_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind10_ratio,
                            sum(h.ind11_num_total) as ind11_num,
                            sum(h.ind11_den_total) as ind11_den,
                            case when sum(h.ind11_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind11_num_total) as decimal) /
                            cast(sum(h.ind11_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind11_ratio,
                            sum(h.ind12_num_total) as ind12_num,
                            sum(h.ind12_den_total) as ind12_den,
                            case when sum(h.ind12_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind12_num_total) as decimal) /
                            cast(sum(h.ind12_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind12_ratio,
                            sum(h.ind13_num_total) as ind13_num,
                            sum(h.ind13_den_total) as ind13_den,
                            case when sum(h.ind13_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind13_num_total) as decimal) /
                            cast(sum(h.ind13_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind13_ratio,
                            sum(h.ind14_num_total) as ind14_num,
                            sum(h.ind14_den_total) as ind14_den,
                            case when sum(h.ind14_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind14_num_total) as decimal) /
                            cast(sum(h.ind14_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind14_ratio,
                            sum(h.ind15_num_total) as ind15_num,
                            sum(h.ind15_den_total) as ind15_den,
                            case when sum(h.ind15_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind15_num_total) as decimal) /
                            cast(sum(h.ind15_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind15_ratio,
                            sum(h.ind16_num_total) as ind16_num,
                            sum(h.ind16_den_total) as ind16_den,
                            case when sum(h.ind16_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind16_num_total) as decimal) /
                            cast(sum(h.ind16_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind16_ratio,
                            sum(h.ind17_num_total) as ind17_num,
                            sum(h.ind17_den_total) as ind17_den,
                            case when sum(h.ind17_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind17_num_total) as decimal) /
                            cast(sum(h.ind17_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind17_ratio,
                            sum(h.ind18_num_total) as ind18_num,
                            sum(h.ind18_den_total) as ind18_den,
                            case when sum(h.ind18_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind18_num_total) as decimal) /
                            cast(sum(h.ind18_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind18_ratio,
                            sum(h.ind19_num_total) as ind19_num,
                            sum(h.ind19_den_total) as ind19_den,
                            case when sum(h.ind19_den_total) = 0 then 0 else
                            cast(cast(sum(h.ind19_num_total) as decimal) /
                            cast(sum(h.ind19_den_total) as decimal) * 100
                            as decimal(5,1)) end as ind19_ratio
			    from (select distinct value1, value2, value3
                            from staticReportData where
                            reportNumber = 512
                            and username = '$user') t, healthQual h 
			    where charindex(h.siteCode, t.value3) > 0
			    and t.value1 = h.startDate
			    and t.value2 = h.endDate
                            and h.row_type IN (1,2)
                            group by h.endDate
			    order by h.endDate
			  </query>
                        </report>
                        <report id="220" patientStatus="0" treatmentStatus="0" testType="0">
			  <title lang="en">Monthly Quality of Care Indicators Chart</title>
			  <title lang="fr">Histogramme des indicateurs de qualité des soins</title>
			  <reportFile>monthlyInd_1.0_chart.jasper</reportFile>
			  <groupLevel>0</groupLevel>
			  <otherLevel>0</otherLevel>
			  <menuSelection></menuSelection>
			  <query>
			    select h.endDate, h.ind1_ratio, h.ind2_ratio, h.ind3_ratio, h.ind4A_ratio, h.ind4B_ratio, h.ind5_ratio, h.ind6_ratio, h.ind7_ratio, h.ind8_ratio, h.ind9_ratio, h.ind10_ratio 
			    from staticReportData t, hivQual h 
			    where h.siteCode = '$site' 
			    and t.reportNumber = 530
			    and t.username = '$user'
			    and t.value1 = h.startDate
			    and t.value2 = h.endDate
                            and h.row_type = 1
			    order by h.endDate
			  </query>
                        </report>
                        <report id="221" patientStatus="0" treatmentStatus="0" testType="0">
			  <title lang="en">Monthly Quality of Care Indicator Report</title>
			  <title lang="fr">Rapport mensuel des indicateurs de qualité des soins</title>
			  <reportFile>monthlyInd_main_paginated.jasper</reportFile>
			  <groupLevel>2</groupLevel>
			  <otherLevel>0</otherLevel>
			  <menuSelection>dateSelect</menuSelection>
			  <query>
			    select username, value1 as startDate, value2 as endDate, value3 as siteList
			    from staticReportData
			    where reportNumber = 530 and username = '$user'
			  </query>
                        </report>
                        <report id="222" patientStatus="0" treatmentStatus="0" testType="0">
			  <title lang="en">Monthly Quality of Care Indicators Chart</title>
			  <title lang="fr">Histogramme des indicateurs de qualité des soins</title>
			  <reportFile>monthlyInd_1.0_chart_dept.jasper</reportFile>
			  <groupLevel>0</groupLevel>
			  <otherLevel>0</otherLevel>
			  <menuSelection></menuSelection>
			  <query>
			    select h.endDate, avg(cast(h.ind1_ratio as decimal(5, 2))) as ind1_ratio, avg(cast(h.ind2_ratio as decimal(5, 2))) as ind2_ratio, avg(cast(h.ind3_ratio as decimal(5, 2))) as ind3_ratio, avg(cast(h.ind4A_ratio as decimal(5, 2))) as ind4A_ratio, avg(cast(h.ind4B_ratio as decimal(5, 2))) as ind4B_ratio, avg(cast(h.ind5_ratio as decimal(5, 2))) as ind5_ratio, avg(cast(h.ind6_ratio as decimal(5, 2))) as ind6_ratio, avg(cast(h.ind7_ratio as decimal(5, 2))) as ind7_ratio, avg(cast(h.ind8_ratio as decimal(5, 2))) as ind8_ratio, avg(cast(h.ind9_ratio as decimal(5, 2))) as ind9_ratio, avg(cast(h.ind10_ratio as decimal(5, 2))) as ind10_ratio
			    from staticReportData t, hivQual h 
			    where h.siteCode in 
			    (select l.siteCode
			     from clinicLookup l, staticReportData h
			     where l.department = 
			     (select department
			      from clinicLookup
			      where siteCode = '$site'
			     )
			     and charindex(l.siteCode, h.value3) > 0
			     and h.reportNumber = 530
			     and h.username = '$user'
			    ) 
			    and t.reportNumber = 530
			    and t.username = '$user'
			    and t.value1 = h.startDate
			    and t.value2 = h.endDate
                            and h.row_type = 1
			    group by h.endDate
			    order by h.endDate
			  </query>
                        </report>
                        <report id="223" patientStatus="0" treatmentStatus="0" testType="0">
			  <title lang="en">Monthly Quality of Care Indicators Chart</title>
			  <title lang="fr">Histogramme des indicateurs de qualité des soins</title>
			  <reportFile>monthlyInd_1.0_chart_natl.jasper</reportFile>
			  <groupLevel>0</groupLevel>
			  <otherLevel>0</otherLevel>
			  <menuSelection></menuSelection>
			  <query>
			    select h.endDate, avg(cast(h.ind1_ratio as decimal(5, 2))) as ind1_ratio, avg(cast(h.ind2_ratio as decimal(5, 2))) as ind2_ratio, avg(cast(h.ind3_ratio as decimal(5, 2))) as ind3_ratio, avg(cast(h.ind4A_ratio as decimal(5, 2))) as ind4A_ratio, avg(cast(h.ind4B_ratio as decimal(5, 2))) as ind4B_ratio, avg(cast(h.ind5_ratio as decimal(5, 2))) as ind5_ratio, avg(cast(h.ind6_ratio as decimal(5, 2))) as ind6_ratio, avg(cast(h.ind7_ratio as decimal(5, 2))) as ind7_ratio, avg(cast(h.ind8_ratio as decimal(5, 2))) as ind8_ratio, avg(cast(h.ind9_ratio as decimal(5, 2))) as ind9_ratio, avg(cast(h.ind10_ratio as decimal(5, 2))) as ind10_ratio
			    from staticReportData t, hivQual h
			    where h.siteCode in 
			    (select l.siteCode
			     from clinicLookup l, staticReportData h
			     where charindex(l.siteCode, h.value3) > 0
			     and h.reportNumber = 530
			     and h.username = '$user'
			    )
			    and t.reportNumber = 530
			    and t.username = '$user'
			    and t.value1 = h.startDate
			    and t.value2 = h.endDate
                            and h.row_type = 1
			    group by h.endDate
			    order by h.endDate
			  </query>
			</report>
		</reportSubSet>
	</reportSet>
	<reportSet rtype="qualityCare">    <!--  Quality of care reports -->
		<title lang="en">Quality of care</title>
		<title lang="fr">Qualité des soins</title>
		<reportSubSet><!--  appointment reminders -->
			<title lang="en">Appointment reminders</title>
			<title lang="fr">Rappels de rendez-vous</title>
			<report id="5001" patientStatus="0" treatmentStatus="0" testType="0">
					<title lang="en">Visit scheduled next 7 days</title>
					<title lang="fr">Visite clinique planifiée dans les 7 jours à venir</title>
					<reportFile groupLevel="0" otherLevel="0">visitScheduledRpt.jasper</reportFile> 
					<menuSelection>dateToday</menuSelection>
					<query>select distinct p.clinicPatientID, t.encounter_id, t.encountertype as 'encountertype', p.patientID, nationalID, ltrim(rtrim(fname)) as fName, ltrim(rtrim(lname)) as lName, $computed_age AS age, $localized_gender as 'sex', case when lower('$lang') = 'en' then statusDescEn else statusDescFr end as statusDesc, t.visitdate as NxtVisitDate,p.telephone from a_patients p,(select encounter_id, patientid, dbo.ymdToDate(nxtVisitYy,nxtVisitMm,nxtVisitDd) as visitdate, encounterType from encValidAll where isdate(dbo.ymdToDate(nxtVisitYy, nxtVisitMm, nxtVisitDd)) = 1 and sitecode = '$site') as t, patientStatusLookup l where p.patientid = t.patientid and t.visitdate between date(now()) and date_add(date(now()),interval 7 day) and l.statusValue = p.patientStatus order by 2</query>
					<description>Patients with next clinic visit date recorded and falling within the next 7 days. Does not display patients who are more than one week overdue for a clinic visit.</description>
			</report>
			<report id="5002" patientStatus="0" treatmentStatus="0" testType="0">
					<title lang="en">Visit scheduled next 14 days</title>
					<title lang="fr">Visite clinique planifiée dans les 14 jours à venir</title>
					<reportFile groupLevel="0" otherLevel="0">test.jasper</reportFile> 
					<menuSelection>dateToday</menuSelection>					
					<query>select distinct p.clinicPatientID, t.encounter_id, t.encountertype as 'encountertype', p.patientID, nationalID, ltrim(rtrim(fname)) as fName, ltrim(rtrim(lname)) as lName, $computed_age AS age, $localized_gender as 'sex', case when lower('$lang') = 'en' then statusDescEn else statusDescFr end as statusDesc, t.visitdate as NxtVisitDate,p.telephone from a_patients p,(select encounter_id, patientid, dbo.ymdToDate(nxtVisitYy,nxtVisitMm,nxtVisitDd) as visitdate, encounterType from encValidAll where isdate(dbo.ymdToDate(nxtVisitYy, nxtVisitMm, nxtVisitDd)) = 1 and sitecode = '$site') as t, patientStatusLookup l where p.patientid = t.patientid and t.visitdate between date(now()) and date_add(date(now()),interval 14 day) and l.statusValue = p.patientStatus order by 2</query>
					<description>Patients with next clinic visit date recorded and falling within the next 14 days. Does not display patients who are more than two weeks overdue for a clinic visit.</description>
			</report>
		</reportSubSet>
		<reportSubSet><!--  lab test reminders -->
			<title lang="en">Lab test reminders</title>
			<title lang="fr">Rappels d'analyses de laboratoire</title>
			<report id="5003" patientStatus="14" treatmentStatus="1" testType="1">
				<title lang="en">Never had test</title>
				<title lang="fr">Test jamais effectué</title>
				<reportFile groupLevel="1" otherLevel="1">patientLabTestRemindersRpt.jasper</reportFile> 
				<reportFile groupLevel="1" otherLevel="2">patientLabTestRemindersGenderRpt.jasper</reportFile>
				<reportFile groupLevel="1" otherLevel="3">patientLabTestRemindersAgeRpt.jasper</reportFile> 
				<reportFile groupLevel="1" otherLevel="4">patientLabTestRemindersPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="1">clinicRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="2">clinicSexRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="3">clinicAgeRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="4">clinicPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="1">communeRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="2">communeSexRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="3">communeAgeRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="4">communePregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="1">departmentRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="2">departmentSexRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="3">departmentAgeRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="4">departmentPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="1">networkRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="2">networkSexRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="3">networkAgeRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="4">networkPregnancyRpt.jasper</reportFile>
				<groupLevel>1</groupLevel>
				<otherLevel>1</otherLevel>
				<menuSelection>testNever</menuSelection>
				<query>select distinct n.Site, nationalid as PatientId, e.clinicpatientid as SitePatientId from patient p, encValid e, siteName n where n.sitecode = e.sitecode and n.sitecode like '$site' and p.patientid = e.patientid and p.patientid not in (select distinct patientid from cd4Table) and p.patientid not in (select distinct patientid from discEnrollment) order by 1</query>
				<description/>
			</report>
			<report id="5004" patientStatus="14" treatmentStatus="1" testType="1">
				<title lang="en">Test done</title>
				<title lang="fr">Test effectué</title>
				<reportFile groupLevel="1" otherLevel="1">patientLabTestRemindersRpt.jasper</reportFile> 
				<reportFile groupLevel="1" otherLevel="2">patientLabTestRemindersGenderRpt.jasper</reportFile>
				<reportFile groupLevel="1" otherLevel="3">patientLabTestRemindersAgeRpt.jasper</reportFile> 
				<reportFile groupLevel="1" otherLevel="4">patientLabTestRemindersPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="1">clinicRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="2">clinicSexRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="3">clinicAgeRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="4">clinicPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="1">communeRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="2">communeSexRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="3">communeAgeRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="4">communePregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="1">departmentRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="2">departmentSexRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="3">departmentAgeRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="4">departmentPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="1">networkRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="2">networkSexRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="3">networkAgeRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="4">networkPregnancyRpt.jasper</reportFile>
				<groupLevel>1</groupLevel>
				<otherLevel>1</otherLevel>
				<menuSelection>testDone</menuSelection>
				<query>select distinct n.Site, nationalid as PatientId, e.clinicpatientid as SitePatientId from patient p, encValid e, siteName n where n.sitecode = e.sitecode and n.sitecode like '$site' and p.patientid = e.patientid and p.patientid not in (select distinct patientid from cd4Table) and p.patientid not in (select distinct patientid from discEnrollment) order by 1</query>
				<description/>
			</report>
			<report id="5005" patientStatus="14" treatmentStatus="1" testType="1">
				<title lang="en">Test needed in 30 days</title>
				<title lang="fr">Test nécessaire sous 30 jours</title>
				<reportFile groupLevel="1" otherLevel="1">patientTestNeededRpt.jasper</reportFile> 
				<reportFile groupLevel="1" otherLevel="2">patientTestNeededGenderRpt.jasper</reportFile>
				<reportFile groupLevel="1" otherLevel="3">patientTestNeededAgeRpt.jasper</reportFile> 
				<reportFile groupLevel="1" otherLevel="4">patientTestNeededPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="1">clinicRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="2">clinicSexRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="3">clinicAgeRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="4">clinicPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="1">communeRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="2">communeSexRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="3">communeAgeRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="4">communePregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="1">departmentRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="2">departmentSexRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="3">departmentAgeRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="4">departmentPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="1">networkRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="2">networkSexRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="3">networkAgeRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="4">networkPregnancyRpt.jasper</reportFile>
				<groupLevel>1</groupLevel>
				<otherLevel>1</otherLevel>
				<menuSelection>testNeeded</menuSelection>
				<targetList>distinct ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, p.patientID, p.nationalID, ltrim(rtrim(p.fname)) as fName, ltrim(rtrim(p.lname)) as lName, $localized_gender as 'sex', $computed_age age, case when lower('$lang') = 'en' then statusDescEn else statusDescFr end as statusDesc</targetList>
				<aggregateItemsOld>count(distinct clinicPatientID+fname+lname+ageYears+nationalID) as 'Compte', left(convert(float,count(distinct clinicPatientID+fname+lname+ageYears+nationalID)/$total*100),4) as 'Pour cent'</aggregateItemsOld>
				<aggregateItems>count(distinct p.patientID) as 'Compte', round(count(distinct p.patientID) / $total * 100.00, 2) as 'Pour cent'</aggregateItems>
				<fromClause>temp$user t, #tempStatus1$user s, patientStatusLookup q, v_patients p, clinicLookup a</fromClause>
				<whereClause>t.patientID = p.patientID and a.sitecode = p.sitecode and p.encounterType in (10, 15) and p.patientID = s.patientId and q.statusValue = s.status</whereClause>
				<groupBy></groupBy>
				<havingClause/>
				<orderBy>1,3,4</orderBy>
				<query>$query</query>
				<description>Active patients ever started on ART With No CD4 In the Last 5 Months</description>
			</report>
		</reportSubSet>
		<reportSubSet><!--  care reminders -->
			<title lang="en">Care Reminders</title>
			<title lang="fr">Rappels des soins nécessaires</title>
			<report id="5020" patientStatus="62" treatmentStatus="0" testType="0">
				<title lang="en">Medically eligible for ART but not enrolled</title>
				<title lang="fr">Médicalement éligible aux ARV mais non enrôles</title>
				<reportFile groupLevel="1" otherLevel="1">patientCareReminderRpt.jasper</reportFile> 
				<reportFile groupLevel="1" otherLevel="2">patientCareReminderGenderRpt.jasper</reportFile>
				<reportFile groupLevel="1" otherLevel="3">patientCareReminderAgeRpt.jasper</reportFile> 
				<reportFile groupLevel="1" otherLevel="4">patientCareReminderPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="1">clinicRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="2">clinicSexRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="3">clinicAgeRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="4">clinicPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="1">communeRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="2">communeSexRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="3">communeAgeRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="4">communePregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="1">departmentRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="2">departmentSexRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="3">departmentAgeRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="4">departmentPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="1">networkRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="2">networkSexRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="3">networkAgeRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="4">networkPregnancyRpt.jasper</reportFile>
				<groupLevel>1</groupLevel>
				<otherLevel>1</otherLevel>
				<targetList>distinct ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, p.patientID, p.nationalID, ltrim(rtrim(p.fname)) as fName, ltrim(rtrim(p.lname)) as lName, $localized_gender as 'sex', $computed_age AS age, case when lower('$lang') = 'en' then statusDescEn else statusDescFr end as statusDesc, t.maxDate as LastDate, GROUP_CONCAT(DISTINCT e.reason ORDER BY e.reason SEPARATOR '|') as eligReason, GROUP_CONCAT(DISTINCT n.arvNoReasonDesc order by n.arvNoReasonDesc SEPARATOR '|') as 'arvNoReasonDesc'</targetList>
				<aggregateItemsOld>count(distinct clinicPatientID+fname+lname+ageYears+nationalID) as 'Compte', left(convert(float,count(distinct clinicPatientID+fname+lname+ageYears+nationalID)/$total*100),4) as 'Pour cent'</aggregateItemsOld>
				<aggregateItems>count(distinct p.patientID) as 'Compte', round(count(distinct p.patientID) / $total * 100.00, 2) as 'Pour cent'</aggregateItems>
				<fromClause>temp$user t left join arvNoReasons n on t.patientid = n.patientid, #tempStatus1$user s, patientStatusLookup q, v_patients p, clinicLookup a, eligibility e</fromClause>
				<whereClause> t.patientID = p.patientID and a.sitecode = p.sitecode and p.encounterType in (10, 15) and p.patientID = e.patientid and e.visitDate between '$start' and '$end' and e.reason in ('cd4LT200', 'tlcLT1200', 'WHOIII', 'WHOIV', 'PMTCT', 'medEligHAART', 'estPrev', 'former', 'PEP', 'eligByAge', 'eligByCond', 'eligPcr', 'WHOIII-2', 'WHOIIICond', 'OptionB+') and (('$end' &lt;= '2009-12-31' and e.criteriaVersion = 1) or ('$end' between '2009-12-31' and '2012-03-31' and e.criteriaVersion = 2) or ('$end' > '2012-03-31' and e.criteriaVersion in (2, 3))) and t.patientID not in (select patientid from pepfarTable where visitDate between '$start' and '$end' AND (forPepPmtct = 0 OR forPepPmtct IS NULL)) and t.patientid not in (select patientid from pepfarTable where visitDate &lt; '$start' AND (forPepPmtct = 0 OR forPepPmtct IS NULL)) and p.patientID = s.patientId and q.statusValue = s.status</whereClause>
				<groupBy>1,2,3,4,5,6,7,8,9</groupBy>
				<havingClause/>
				<orderBy>1,2,3</orderBy>
				<query>$query</query>
				<description>Eligible but not receiving ART</description>
			</report>
			<report id="5021" patientStatus="14" treatmentStatus="0" testType="0">
				<title lang="en">Appropriate cotrimoxazole therapy among those at risk</title>
				<title lang="fr">Prophylaxie de Cotrimoxizole adaptée pour ceux qui présentent des risques</title>
				<reportFile groupLevel="1" otherLevel="1">patientCareReminderRpt.jasper</reportFile> 
				<reportFile groupLevel="1" otherLevel="2">patientCareReminderGenderRpt.jasper</reportFile>
				<reportFile groupLevel="1" otherLevel="3">patientCareReminderAgeRpt.jasper</reportFile> 
				<reportFile groupLevel="1" otherLevel="4">patientCareReminderPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="1">clinicRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="2">clinicSexRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="3">clinicAgeRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="4">clinicPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="1">communeRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="2">communeSexRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="3">communeAgeRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="4">communePregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="1">departmentRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="2">departmentSexRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="3">departmentAgeRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="4">departmentPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="1">networkRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="2">networkSexRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="3">networkAgeRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="4">networkPregnancyRpt.jasper</reportFile>
				<groupLevel>1</groupLevel>
				<otherLevel>1</otherLevel>
                <fromClause>temp$user t, #tempStatus1$user s, patientStatusLookup q, v_patients p, clinicLookup a, eligibility e</fromClause>
				<targetList>distinct ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, p.patientID, p.nationalID, ltrim(rtrim(p.fname)) as fName, ltrim(rtrim(p.lname)) as lName, $localized_gender as 'sex', $computed_age AS age, case when lower('$lang') = 'en' then statusDescEn else statusDescFr end as statusDesc, t.maxDate as LastDate, GROUP_CONCAT(DISTINCT e.reason ORDER BY e.reason SEPARATOR '|') as eligReason</targetList>
				<aggregateItems>count(distinct p.patientID) as 'Compte', round(count(distinct p.patientID) / $total * 100.00, 2) as 'Pour cent'</aggregateItems>
                <whereClause>t.patientID = p.patientID and a.sitecode = p.sitecode and p.encounterType in (10, 15) and t.patientID not in (select patientID from v_drugTable where drugID in (9, 69, 70) and visitdate between '$start' and '$end') and  p.patientID=e.patientid  and e.visitDate between '$start' and '$end' and e.reason in ('tmsAdult', 'tmsChildInfected', 'tmsChildExposed') and p.patientID = s.patientId and q.statusValue = s.status</whereClause>
                <groupBy>1,2,3,4,5,6,7,8,9</groupBy>
                <havingClause/>
                <orderBy>1,2,3</orderBy>
                <query>$query</query>
				<description>Appropriate cotrimoxazole therapy among those at risk</description>
			</report>
			<report id="5022" patientStatus="14" treatmentStatus="5" testType="0">
				<title lang="en">Initiated cotrimoxazole but not continued</title>
				<title lang="fr">Cotrimoxazole démarrée, puis discontinuée</title>
				<reportFile groupLevel="1" otherLevel="1">patientCareReminderRpt.jasper</reportFile> 
				<reportFile groupLevel="1" otherLevel="2">patientCareReminderGenderRpt.jasper</reportFile>
				<reportFile groupLevel="1" otherLevel="3">patientCareReminderAgeRpt.jasper</reportFile> 
				<reportFile groupLevel="1" otherLevel="4">patientCareReminderPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="1">clinicRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="2">clinicSexRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="3">clinicAgeRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="4">clinicPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="1">communeRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="2">communeSexRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="3">communeAgeRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="4">communePregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="1">departmentRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="2">departmentSexRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="3">departmentAgeRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="4">departmentPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="1">networkRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="2">networkSexRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="3">networkAgeRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="4">networkPregnancyRpt.jasper</reportFile>
				<groupLevel>1</groupLevel>
				<otherLevel>1</otherLevel>		
				<query>select distinct Site, nationalid from patient p, encValid e, siteName n where n.sitecode = e.sitecode and e.sitecode like '$site' and substring(convert(varchar,e.visitDate,112),3,4) between '$start' and '$end' and p.patientid = e.patientid and p.patientid in (select distinct patientid from drugTable l, drugLookup u where l.drugid = u.drugid and drugName like '%cotrimoxazole%') order by 1,2</query>
				<description/>
			</report>
			<report id="5024" patientStatus="14" treatmentStatus="1" testType="1">
				<title lang="en">Abnormal test result</title>
				<title lang="fr">Résultats d'analyses anormaux</title>
				<reportFile groupLevel="1" otherLevel="1">patientCareReminderRpt.jasper</reportFile> 
				<reportFile groupLevel="1" otherLevel="2">patientCareReminderGenderRpt.jasper</reportFile>
				<reportFile groupLevel="1" otherLevel="3">patientCareReminderAgeRpt.jasper</reportFile> 
				<reportFile groupLevel="1" otherLevel="4">patientCareReminderPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="1">clinicRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="2">clinicSexRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="3">clinicAgeRpt.jasper</reportFile>
				<reportFile groupLevel="2" otherLevel="4">clinicPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="1">communeRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="2">communeSexRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="3">communeAgeRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="4">communePregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="1">departmentRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="2">departmentSexRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="3">departmentAgeRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="4">departmentPregnancyRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="1">networkRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="2">networkSexRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="3">networkAgeRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="4">networkPregnancyRpt.jasper</reportFile>
				<groupLevel>1</groupLevel>
				<otherLevel>1</otherLevel>
				<menuSelection>testAbnormal</menuSelection>
				<query></query>
				<description/>
			</report>
			<report id="601" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Pregnant women who are at least in their 28th week of amenorrhea</title>
				<title lang="fr">Femmes enceintes qui sont au moins dans leur 28ème semaine d'aménorrhée</title>
				<reportFile groupLevel="0" otherLevel="0">amenWeekRpt.jasper</reportFile> 
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
                <query>SELECT p.patientID, LTRIM(RTRIM(p.clinicPatientID)) AS 'clinicPatientID', p.nationalID AS 'nationalid', case when lower('$lang') = 'en' then l.statusDescEn else l.statusDescFr end as statusDesc, t2.lmpDate AS 'lastMenstrualPeriod', dateDiff(week, t2.lmpDate, '$end') as 'amenorrheaWeek', GROUP_CONCAT(DISTINCT CASE WHEN LOWER('$lang') = 'en' THEN drugLabelen ELSE drugLabelfr END ORDER BY CASE WHEN LOWER('$lang') = 'en' THEN drugLabelen ELSE drugLabelfr END SEPARATOR '|') AS 'receivedDrug' FROM v_patients p, #tempStatus1$user s, patientStatusLookup l, #tempPregCalc1$user t1, #tempPregCalc2$user t2, v_prescriptions x, drugLookup k WHERE p.patientID = t1.patientID AND p.patientID = t2.patientID and p.patientID = x.patientID and x.drugID = k.drugID and p.patientID = s.patientID and l.statusValue = s.status and '$end' BETWEEN DATEADD(dd, 196, t2.lmpDate) AND DATEADD(dd, 308, t2.lmpDate) GROUP BY 1,2,3,4,5</query>
				<description/>
			</report>
		</reportSubSet>
		<reportSubSet><!-- Eligible for TB treatment, not initiated -->
			<title lang="en">Eligible for TB treatment but not initiated</title>
			<title lang="fr">Éligible pour un traitement TB mais non démarré</title>
			<report id="5010" patientStatus="14" treatmentStatus="0" testType="0">
				<title lang="en">Patients with signs and symptoms evocative of TB, but with no sputum or x-ray test</title>
				<title lang="fr">Patients avec signes et symptômes suggérant la TB, mais sans analyse des crachats ou radiographie pulmonaires</title>
                                <reportFile groupLevel="1" otherLevel="1">patientRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="2">patientGenderRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="3">patientAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="4">patientPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="1">clinicRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="2">clinicSexRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="3">clinicAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="4">clinicPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="1">communeRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="2">communeSexRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="3">communeAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="4">communePregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="1">departmentRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="2">departmentSexRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="3">departmentAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="4">departmentPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="1">networkRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="2">networkSexRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="3">networkAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="4">networkPregnancyRpt.jasper</reportFile>
				                <groupLevel>1</groupLevel>
				                <otherLevel>1</otherLevel>
                                <fromClause>a_patients p, obs o, encounter e, clinicLookup a</fromClause>
				                <targetList>distinct ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, p.patientID,p.nationalID, ltrim(rtrim(p.fname)) as fName, ltrim(rtrim(p.lname)) as lName, $localized_gender as sex, $computed_age AS age,max(e.visitDate) as DDate</targetList>
                                <whereClause>a.sitecode = p.sitecode and a.sitecode like '$site' and p.patientID=e.patientID and p.patientID=concat(o.location_id,o.person_id) and o.encounter_id=e.encounter_id  and o.concept_id=70207 and e.encStatus &lt; 255 and e.visitDate between '$start' AND '$end' and p.patientID not in(select distinct patientID from labs  where labID=137 and result in(1,2) and ymdToDate(resultDateYy,resultDateMm,resultDateDd) between '$start' AND '$end')</whereClause>
                                <groupBy>2</groupBy>
                                <havingClause/>
                                <orderBy>1,2,3</orderBy>
                                <query>$query</query>
				<description/>
			</report>
			<report id="5011" patientStatus="14" treatmentStatus="0" testType="0">
				<title lang="en">Patients with abnormal sputum or x-ray test results, but no established TB diagnosis</title>
				<title lang="fr">Patients avec des analyses de crachats ou radiographe pulmonaires anormales, mais sans aucun diagnostic de TB</title>                    
                                <reportFile groupLevel="1" otherLevel="1">patientRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="2">patientGenderRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="3">patientAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="4">patientPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="1">clinicRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="2">clinicSexRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="3">clinicAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="4">clinicPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="1">communeRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="2">communeSexRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="3">communeAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="4">communePregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="1">departmentRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="2">departmentSexRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="3">departmentAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="4">departmentPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="1">networkRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="2">networkSexRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="3">networkAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="4">networkPregnancyRpt.jasper</reportFile>
				<groupLevel>1</groupLevel>
				<otherLevel>1</otherLevel>
                                <fromClause>temp$user t, #tempStatus1$user s, patientStatusLookup q, a_patients p, clinicLookup a, tbTemp$user b</fromClause>
				<targetList>distinct ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, p.patientID, p.nationalID, ltrim(rtrim(p.fname)) as fName, ltrim(rtrim(p.lname)) as lName, $localized_gender as 'sex', $computed_age AS age, case when lower('$lang') = 'en' then statusDescEn else statusDescFr end as statusDesc, t.maxDate as LastDate</targetList>
                                <whereClause>t.patientID = p.patientID and a.sitecode = p.sitecode and p.encounterType in (10, 15) and t.patientID = b.patientID and b.abnormalLabsDate is not NULL and (b.diagTBDate is NULL or (b.diagTBDate is not NULL and b.diagTBDate &lt; b.abnormalLabsDate)) and (b.tbDrugsDate is NULL or (b.tbDrugsDate is not NULL and b.tbDrugsDate &lt; b.abnormalLabsDate)) and p.patientID = s.patientId and q.statusValue = s.status</whereClause>
                                <groupBy></groupBy>
                                <havingClause/>
                                <orderBy>1,2,3</orderBy>
                                <query>$query</query>
				<description/>
			</report>
			<report id="5012" patientStatus="14" treatmentStatus="0" testType="0">
				<title lang="en">Patients with TB diagnosis, but no treatment</title>
				<title lang="fr">Patients avec des diagnostics de TB, mais sans traitement</title>
                                <reportFile groupLevel="1" otherLevel="1">patientRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="2">patientGenderRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="3">patientAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="4">patientPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="1">clinicRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="2">clinicSexRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="3">clinicAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="4">clinicPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="1">communeRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="2">communeSexRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="3">communeAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="4">communePregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="1">departmentRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="2">departmentSexRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="3">departmentAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="4">departmentPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="1">networkRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="2">networkSexRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="3">networkAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="4">networkPregnancyRpt.jasper</reportFile>
				                <groupLevel>1</groupLevel>
				                <otherLevel>1</otherLevel>
								<menuSelection>dateSelect</menuSelection>
								<fromClause>a_patients p,(select patientID, visitDate, siteCode from v_conditions where  encounterType in (1, 2, 16, 17) and conditionID in (20, 21, 41, 208, 397, 405, 409, 423,715) and conditionActive != 2 and conditionActive is not null  union select e.patientID,e.visitDate,e.siteCode from encounter e,obs o where o.encounter_id=e.encounter_id  and e.encStatus &lt; 255 and o.concept_id in(71271,71272,71273,71403,71404,71405)) e, clinicLookup a</fromClause>
                                <targetList>distinct ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, p.patientID, p.nationalID, ltrim(rtrim(p.fname)) as fName, ltrim(rtrim(p.lname)) as lName, $localized_gender as sex, $computed_age AS age,max(e.visitDate) as DDate</targetList>
								<whereClause>a.sitecode = p.sitecode and a.sitecode='$site' and p.patientID=e.patientID and e.visitDate between '$start' AND '$end'  and p.patientID not in(select distinct patientID from prescriptions where drugID in(13,18,24,25,30) and (forPepPmtct is NULL or forPepPmtct=2)  and ymdToDate(dispDateYy,dispDateMm,dispDateDd) between '$start' AND '$end')</whereClause>
								<groupBy>2</groupBy>
                                <havingClause></havingClause>
								<orderBy></orderBy>
								<query>$query</query>
				<description/>
			</report>
			<report id="5013" patientStatus="14" treatmentStatus="0" testType="0">
				<title lang="en">Patients having completed TB treatment</title>
				<title lang="fr">Patients avec traitement contre la TB complété</title>
                                <reportFile groupLevel="1" otherLevel="1">patientRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="2">patientGenderRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="3">patientAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="4">patientPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="1">clinicRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="2">clinicSexRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="3">clinicAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="4">clinicPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="1">communeRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="2">communeSexRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="3">communeAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="4">communePregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="1">departmentRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="2">departmentSexRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="3">departmentAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="4">departmentPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="1">networkRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="2">networkSexRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="3">networkAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="4">networkPregnancyRpt.jasper</reportFile>
				<groupLevel>1</groupLevel>
				<otherLevel>1</otherLevel>
                                <fromClause>temp$user t, #tempStatus1$user s, patientStatusLookup q, a_patients p, clinicLookup a, tbTemp$user b</fromClause>
				<targetList>distinct ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, p.patientID, p.nationalID, ltrim(rtrim(p.fname)) as fName, ltrim(rtrim(p.lname)) as lName, $localized_gender as 'sex', $computed_age AS age, case when lower('$lang') = 'en' then statusDescEn else statusDescFr end as statusDesc, t.maxDate as LastDate</targetList>
                                <whereClause>t.patientID = p.patientID and a.sitecode = p.sitecode and p.encounterType in (10, 15) and t.patientID = b.patientID and b.completeTBDate is not NULL and p.patientID = s.patientId and q.statusValue = s.status</whereClause>
                                <groupBy></groupBy>
                                <havingClause/>
                                <orderBy>1,2,3</orderBy>
                                <query>$query</query>
				<description/>
			</report>
		</reportSubSet>
		<reportSubSet><!--  regimens & drugs -->
			<title lang="en">Regimens and drug discontinuations</title>
			<title lang="fr">Les régimes et discontinuation de médicaments</title>
			<report id="5025" patientStatus="14" treatmentStatus="0" testType="0">
				<title lang="en">Patients on 1st and 2nd line regimens</title>
				<title lang="fr">Patients sous régime de première ou deuxième ligne</title>
                                <reportFile groupLevel="1" otherLevel="1">patientRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="2">patientGenderRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="3">patientAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="4">patientPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="1">clinicRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="2">clinicSexRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="3">clinicAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="4">clinicPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="1">communeRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="2">communeSexRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="3">communeAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="4">communePregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="1">departmentRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="2">departmentSexRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="3">departmentAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="4">departmentPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="1">networkRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="2">networkSexRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="3">networkAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="4">networkPregnancyRpt.jasper</reportFile>
				<groupLevel>1</groupLevel>
				<otherLevel>1</otherLevel>
                                <fromClause>temp$user t, #tempStatus1$user s, patientStatusLookup q, v_patients p, clinicLookup a, (select p1.patientid, p1.regimen from pepfarTable p1, (select patientid, max(visitDate) as visitDate from pepfarTable where siteCode = '$site' group by patientid) p2 where p1.patientid = p2.patientid and p1.visitDate = p2.visitDate) r</fromClause>
				<targetList>distinct ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, p.patientID, p.nationalID, ltrim(rtrim(p.fname)) as fName, ltrim(rtrim(p.lname)) as lName, $localized_gender as 'sex', $computed_age AS age, case when lower('$lang') = 'en' then statusDescEn else statusDescFr end as statusDesc, t.maxDate as LastDate, r.regimen as regimen</targetList>
                                <whereClause>t.patientID = p.patientID and a.sitecode = p.sitecode and p.encounterType in (10, 15) and t.patientID = r.patientid and p.patientID = s.patientId and q.statusValue = s.status</whereClause>
                                <groupBy></groupBy>
                                <havingClause/>
                                <orderBy>10,1,2,3</orderBy>
                                <query>$query</query>
				<description/>
			</report>
			<report id="5026" patientStatus="14" treatmentStatus="0" testType="0">
				<title lang="en">Patients with one drug substitution on the same regimen line</title>
				<title lang="fr">Patients ayant bénéficié d'une substitution d'une molécule d'ARV</title>                    
                                <reportFile groupLevel="1" otherLevel="1">patientRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="2">patientGenderRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="3">patientAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="4">patientPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="1">clinicRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="2">clinicSexRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="3">clinicAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="4">clinicPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="1">communeRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="2">communeSexRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="3">communeAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="4">communePregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="1">departmentRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="2">departmentSexRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="3">departmentAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="4">departmentPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="1">networkRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="2">networkSexRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="3">networkAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="4">networkPregnancyRpt.jasper</reportFile>
				<groupLevel>1</groupLevel>
				<otherLevel>1</otherLevel>
                                <fromClause>temp$user t, #tempStatus1$user s, patientStatusLookup q, v_patients p, clinicLookup a, regimenTemp$user r</fromClause>
				<targetList>distinct ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, p.patientID, p.nationalID, ltrim(rtrim(p.fname)) as fName, ltrim(rtrim(p.lname)) as lName, $localized_gender as 'sex', $computed_age AS age, case when lower('$lang') = 'en' then statusDescEn else statusDescFr end as statusDesc, r.visitDate as changeDate, r.regimen as regimen</targetList>
                                <whereClause>t.patientID = p.patientID and a.sitecode = p.sitecode and p.encounterType in (10, 15) and t.patientID = r.patientid and p.patientID = s.patientId and q.statusValue = s.status</whereClause>
                                <groupBy></groupBy>
                                <havingClause/>
                                <orderBy>1 asc, 8 asc</orderBy>
                                <query>$query</query>
				<description/>
			</report>
			<report id="5027" patientStatus="14" treatmentStatus="0" testType="0">
				<title lang="en">Patients with more than one drug substitution on the same regimen line, or a new regimen line</title>
				<title lang="fr">Patients ayant bénéficié d'un changement de régime</title>
                                <reportFile groupLevel="1" otherLevel="1">patientRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="2">patientGenderRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="3">patientAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="4">patientPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="1">clinicRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="2">clinicSexRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="3">clinicAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="4">clinicPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="1">communeRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="2">communeSexRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="3">communeAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="4">communePregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="1">departmentRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="2">departmentSexRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="3">departmentAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="4">departmentPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="1">networkRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="2">networkSexRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="3">networkAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="4">networkPregnancyRpt.jasper</reportFile>
				<groupLevel>1</groupLevel>
				<otherLevel>1</otherLevel>
                                <fromClause>temp$user t, #tempStatus1$user s, patientStatusLookup q, v_patients p, clinicLookup a, regimenTemp$user r</fromClause>
				<targetList>distinct ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, p.patientID, p.nationalID, ltrim(rtrim(p.fname)) as fName, ltrim(rtrim(p.lname)) as lName, $localized_gender as 'sex', $computed_age AS age, case when lower('$lang') = 'en' then statusDescEn else statusDescFr end as statusDesc, r.visitDate as changeDate, r.regimen as regimen</targetList>
                                <whereClause>t.patientID = p.patientID and a.sitecode = p.sitecode and p.encounterType in (10, 15) and t.patientID = r.patientid and p.patientID = s.patientId and q.statusValue = s.status</whereClause>
                                <groupBy></groupBy>
                                <havingClause/>
                                <orderBy>1 asc, 8 asc</orderBy>
                                <query>$query</query>
				<description/>
			</report>
			<report id="5028" patientStatus="14" treatmentStatus="0" testType="0">
				<title lang="en">Discontinued drugs</title>
				<title lang="fr">Discontinuation de médicaments</title>
                                <reportFile groupLevel="1" otherLevel="1">patientRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="2">patientGenderRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="3">patientAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="1" otherLevel="4">patientPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="1">clinicRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="2">clinicSexRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="3">clinicAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="2" otherLevel="4">clinicPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="1">communeRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="2">communeSexRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="3">communeAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="3" otherLevel="4">communePregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="1">departmentRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="2">departmentSexRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="3">departmentAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="4" otherLevel="4">departmentPregnancyRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="1">networkRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="2">networkSexRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="3">networkAgeRpt.jasper</reportFile>
                                <reportFile groupLevel="5" otherLevel="4">networkPregnancyRpt.jasper</reportFile>
				<groupLevel>1</groupLevel>
				<otherLevel>1</otherLevel>
                                <fromClause>temp$user t, #tempStatus1$user s, patientStatusLookup q, v_patients p, clinicLookup a, discTemp$user r</fromClause>
				<targetList>distinct ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, p.patientID, p.nationalID, ltrim(rtrim(p.fname)) as fName, ltrim(rtrim(p.lname)) as lName, $localized_gender as 'sex', $computed_age AS age, case when lower('$lang') = 'en' then statusDescEn else statusDescFr end as statusDesc, r.stopDate as stopDate, r.drugName as drugName, r.failList as failList</targetList>
                                <whereClause>t.patientID = p.patientID and a.sitecode = p.sitecode and p.encounterType in (10, 15) and t.patientID = r.patientid and p.patientID = s.patientId and q.statusValue = s.status</whereClause>
                                <groupBy></groupBy>
                                <havingClause/>
                                <orderBy>1 asc, 8 asc</orderBy>
                                <query>$query</query>
				<description/>
			</report>
		</reportSubSet>
		<reportSubSet><!--  lab test indicators -->
			<title lang="en">Appropriate lab test indicators</title>
			<title lang="fr">Indicateurs d'analyses de laboratoires nécessaires</title>
			<report id="5030" patientStatus="6" treatmentStatus="1" testType="1">
				<title lang="en">Ever had test</title>
				<title lang="fr">Test effectué</title>
				<reportFile groupLevel="2" otherLevel="0">clinicLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="0">communeLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="0">departmentLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="0">networkLabTestRpt.jasper</reportFile>
				<groupLevel>4</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<targetList>distinct ltrim(rtrim(p.clinicPatientID)), ltrim(rtrim(p.fname)) as fName, ltrim(rtrim(p.lname)) as lName, $localized_gender as 'sex', $computed_age AS age, p.nationalID</targetList>
				<aggregateItems>count(distinct lname+fname+dobyy+dobmm+dobdd+fnamemother) as 'Compte', left(convert(float,count(distinct lname+fname+dobyy+dobmm+dobdd+fnamemother)/$total*100),4) as 'Pour cent', convert(varchar,max(p.visitDate),104) as LastDate </aggregateItems>
				<fromClause>activePatients a, v_patients p, siteName n, encValid e</fromClause>
				<whereClause>n.sitecode like '$site' and a.patientid = p.patientID and p.visitDate between '$start' and '$end' and a.patientID in (select patientid from pepfarTable where (forPepPmtct = 0 OR forPepPmtct IS NULL)) and a.patientID not in (select distinct patientid from encValid where encountertype = 12 and visitDate between '$start' and '$end' ) and a.patientID not in (select patientid from cd4Table where datediff(mm,visitdate,getDate()) &lt; 5)</whereClause>
				<groupBy>1,2,3,4,5,6</groupBy>
				<havingClause/>
				<orderBy>1,2,3,4</orderBy>
				<query>SELECT Site, ltrim(rtrim(lname)) as lName, ltrim(rtrim(fname)) as fName, nationalid, clinicPatientID, convert(varchar,max(e.visitDate),104) as LastDate FROM activePatients a, patient p, encValid e, siteName n where n.sitecode like '$site' and left(a.patientID,5) = n.sitecode and a.patientid = p.patientID and a.patientid = e.patientID and a.patientID in (select patientid from pepfarTable where (forPepPmtct = 0 OR forPepPmtct IS NULL)) and a.patientID not in (select distinct patientid from encValid where encountertype = 12) and a.patientID not in (select patientid from cd4Table where datediff(mm,visitdate,getDate()) &lt; 5) GROUP BY Site, lname, fname, nationalid, clinicPatientID ORDER BY 1,2,3,4</query>
				<description/>
			</report>
			<report id="5031" patientStatus="6" treatmentStatus="1" testType="1">
				<title lang="en">Up-to-date on test</title>
				<title lang="fr">Test à jour</title>
				<reportFile groupLevel="2" otherLevel="0">clinicLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="0">communeLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="0">departmentLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="0">networkLabTestRpt.jasper</reportFile>
				<groupLevel>4</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<orderBy>1,2,3</orderBy>
				<tempQuery>delete from temp$user; insert into temp$user select patientid, max(visitdate), count(distinct visitdate) from v_patients p, clinicLookup a where p.sitecode = a.sitecode and patientid not in (select patientid from encValid where encounterType = 12 and visitdate &lt;= '03/12/07') and patientid in (select patientid from cd4Table where visitdate &lt;= '$end') and visitdate between '$start' and '$end' and patientid in (select patientid from pepfarTable where visitdate &lt;= '$end' AND (forPepPmtct = 0 OR forPepPmtct IS NULL)) group by patientid having max(visitdate) &lt;= dateadd(dd,-240, '$end')</tempQuery>
				<query>select distinct ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, p.nationalID, ltrim(rtrim(p.fname)) as fName, ltrim(rtrim(p.lname)) as lName, $localized_gender as 'sex', $computed_age AS age, maxDate as 'Last Date' from temp$user t, v_patients p, clinicLookup a where t.patientID = p.patientID and a.sitecode = p.sitecode and a.clinic in (select clinic from clinicLookup where sitecode = '$site') order by 7</query>
				<description/>
			</report>
		</reportSubSet>
		<reportSubSet><!--  treatment indicators -->
			<title lang="en">Appropriate treatment indicators</title>
			<title lang="fr">Indicateurs des soins nécessaires</title>
			<report id="5040" patientStatus="6" treatmentStatus="3" testType="0">
				<title lang="en">ART Enrollment Among Medically Eligible</title>
				<title lang="fr">Enrôlement aux ARV parmi les patients médicalement éligibles</title>
				<reportFile groupLevel="2" otherLevel="0">clinicLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="0">communeLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="0">departmentLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="0">networkLabTestRpt.jasper</reportFile>
				<groupLevel>4</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
                                <!-- The query below is not used as far as I can tell. Look in 'semiQueries.php' for the query that is used. - JS 4/17/12 -->
				<query>create table #artStart (patientid varchar(11), minDate smalldatetime, visitCount int); create table #firstQualified (patientid varchar(11), minDate smalldatetime, visitCount int); insert into #artStart select patientid, min(visitdate), count(distinct visitdate) from pepfarTable where visitdate between '07/01/06' and '12/31/06' AND (forPepPmtct = 0 OR forPepPmtct IS NULL) group by patientid; insert into #firstQualified select patientid, min(visitDate) as visitdate, count(distinct visitdate) as visitcount from v_patients p, clinicLookup a where p.sitecode = a.sitecode and visitdate between '07/01/06' and '12/31/06' and (patientid in (select patientid from cd4Table where cd4 &lt; 200 and cd4 != 0 and visitdate &lt; '2009-12-31' union select patientid from cd4Table where cd4 &lt; 350 and cd4 != 0 and visitdate &gt;= '2009-12-31') or patientid in (select patientid from v_labs where testnameen = 'lymphocytes' and result &lt;= '1200' and result != '') or (patientid in (select patientid from cd4Table where cd4 &lt; 200 and cd4 != 0 and visitdate &lt; '2009-12-31' union select patientid from cd4Table where cd4 &lt; 350 and cd4 != 0 and visitdate &gt;= '2009-12-31') and patientid in (select patientid from v_conditions where conditionGroup = 3)) or patientid in (select patientid from v_conditions where conditionGroup = 4) or patientid in (select distinct patientid from v_medicalEligARVs where medElig in (1,2))) group by patientid order by 2 desc; select datediff(dd, q.minDate, p.minDate) as diffInDays, q.patientid as pid, q.minDate as qualDate, p.minDate as #artStartDate from #firstQualified q left join #artStart p on q.patientid = p.patientid where left(p.patientID,5) = '$site' order by 1</query>
				<description/>
			</report>
			<report id="5041" patientStatus="6" treatmentStatus="5" testType="0">
				<title lang="en">Cotrimoxizole prophylaxis among medically eligible</title>
				<title lang="fr">Prophylaxie de Cotrimoxizole parmi les patients médicalement éligibles</title>
				<reportFile groupLevel="2" otherLevel="0">clinicLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="0">communeLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="0">departmentLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="0">networkLabTestRpt.jasper</reportFile>
				<groupLevel>4</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select distinct n.Site, nationalid as PatientId, e.clinicpatientid as SitePatientId from v_patients p, encValid e, siteName n where n.sitecode = e.sitecode and n.sitecode like '$site' and p.patientid in (select distinct patientid from labs l, lablookup u where l.labid = u.labid and l.labID lt;= 1000 and testnameen like '%PPD%') and p.patientid not in (select distinct patientid from discEnrollment) order by 1</query>
				<description/>
			</report>
			<report id="5042" patientStatus="6" treatmentStatus="5" testType="0">
				<title lang="en">Continuation cotrimoxizole prophylaxis</title>
				<title lang="fr">Continuation de la prophylaxie de Cotrimoxizole</title>
				<reportFile groupLevel="2" otherLevel="0">clinicLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="0">communeLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="0">departmentLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="0">networkLabTestRpt.jasper</reportFile>
				<groupLevel>4</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select distinct Site, nationalid from v_patients p, encValid e, siteName n where n.sitecode = e.sitecode and e.sitecode like '$site' and p.patientid = e.patientid and encountertype in (10, 15) and p.patientid not in (select distinct patientid from prescriptions l, druglookup u where l.drugid = u.drugid and drugname like '%cotrimox%') and p.patientid in (select patientid from cd4Table where cd4 &lt; 200 and cd4 != 0 and visitdate &lt;= '2009-12-31' union select patientid from cd4Table where cd4 &lt; 350 and cd4 != 0 and visitdate &gt; '2009-12-31') order by 1</query>
				<description/>
			</report>
			<report id="5043" patientStatus="6" treatmentStatus="6" testType="0">
				<title lang="en">TB treatment among medically eligible</title>
				<title lang="fr">Traitement TB parmi les patients médicalement éligibles</title>
				<reportFile groupLevel="2" otherLevel="0">clinicLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="0">communeLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="0">departmentLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="0">networkLabTestRpt.jasper</reportFile>
				<groupLevel>4</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select distinct Site, nationalid from v_patients p, encValid e, siteName n where n.sitecode = e.sitecode and e.sitecode like '$site' and substring(convert(varchar,e.visitDate,112),3,4) between '$start' and '$end' and p.patientid = e.patientid and p.patientid in (select distinct patientid from drugTable l, drugLookup u where l.drugid = u.drugid and drugName like '%cotrimoxazole%') order by 1,2</query>
				<description/>
			</report>
			<report id="5044" patientStatus="6" treatmentStatus="6" testType="0">
				<title lang="en">Continuation TB treatment</title>
				<title lang="fr">Continuation du traitement TB</title>
				<reportFile groupLevel="2" otherLevel="0">clinicLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="0">communeLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="0">departmentLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="0">networkLabTestRpt.jasper</reportFile>
				<groupLevel>4</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select distinct Site, nationalid from v_patients p, encValid e, siteName n where n.sitecode = e.sitecode and e.sitecode like '$site' and substring(convert(varchar,e.visitDate,112),3,4) between '$start' and '$end' and p.patientid = e.patientid and p.patientid in (select distinct patientid from drugTable l, drugLookup u where l.drugid = u.drugid and drugName like '%isoniazid%') order by 1,2</query>
				<description/>
			</report>
			<report id="602" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Under ART with Dates of Initiation and Regimen</title>
				<title lang="fr">Sous l'ART avec des Dates de Déclenchement et de Régime</title>
				<reportFile groupLevel="0" otherLevel="0">artInitRegDates.jasper</reportFile>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select p1.patientID, ltrim(rtrim(clinicPatientID)) as clinicPatientID, nationalID as nationalid, case when lower('$lang') = 'en' then statusDescEn else statusDescFr end as statusDesc, left(ARTEligibilityDate,11)  as ARTEligibilityDate, left(min(p1.visitDate),11) as beginningARTDate, regimen as actualRegimen  from (select p.stId, p.patientID, p.clinicPatientID,p.nationalID,min(e.visitDate) as ARTEligibilityDate,patientStatus from eligibility  e, v_patients p where e.patientID=p.patientID and p.siteCode='$site' and p.visitDate between '$start' and '$end' and e.reason in ('cd4LT200', 'tlcLT1200', 'WHOIII', 'WHOIV', 'PMTCT', 'medEligHAART', 'estPrev', 'former', 'PEP', 'eligByAge', 'eligByCond', 'eligPcr', 'WHOIII-2', 'WHOIIICond', 'OptionB+') and (('$end' &lt;= '2009-12-31' and e.criteriaVersion = 1) or ('$end' between '2009-12-31' and '2012-03-31' and e.criteriaVersion = 2) or ('$end' > '2012-03-31' and e.criteriaVersion in (2, 3))) group by p.patientID, p.clinicPatientID,p.nationalID,p.stId,patientStatus) as t1, pepfarTable p1, #tempStatus1$user s, patientStatusLookup where p1.patientID = t1.patientID and (p1.forPepPmtct = 0 OR p1.forPepPmtct IS NULL) and p1.patientID = s.patientId and statusValue = s.status group by t1.patientID,clinicPatientID,nationalID,patientStatus,ARTEligibilityDate,regimen,statusDescFr,clinicPatientID order by clinicPatientID</query>
				<description/>
			</report>
			<report id="606" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Distribution under ART by Adherence</title>
				<title lang="fr">Distribution sous l'ART par Adherence</title>
				<reportFile groupLevel="0" otherLevel="0">adhDistRpt.jasper</reportFile> 
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select count(*) as 'artPatientNbr',case when doseProp = 1 then '0%' when doseProp = 2 then '10%' when doseProp = 4 then '20%' when doseProp = 8 then '30%' when doseProp = 16 then '40%' when doseProp = 32 then '50%' when doseProp = 64 then '60%' when doseProp = 128 then '70%' when doseProp = 256 then '80%' when doseProp = 512 then '90%' when doseProp = 1024 then '100%' else 'Autre'  end as adhPert from adherenceCounseling where  siteCode = '$site' and dbo.ymdToDate(visitDateYy,visitDateMm,visitDateDd) between '$start' and '$end' group by case when doseProp = 1 then '0%' when doseProp = 2 then '10%' when doseProp = 4 then '20%' when doseProp = 8 then '30%' when doseProp = 16 then '40%' when doseProp = 32 then '50%' when doseProp = 64 then '60%' when doseProp = 128 then '70%' when doseProp = 256 then '80%' when doseProp = 512 then '90%' when doseProp = 1024 then '100%' else 'Autre'  end   order by 2</query>
				<description/>
			</report>
		</reportSubSet>
		<reportSubSet>
			<title lang="en">CD4 information</title>
			<title lang="fr">L'information CD4</title>
		    <report id="603" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Patient CD4 rates</title>
				<title lang="fr">Taux CD4 patients</title>
				<reportFile groupLevel="0" otherLevel="0">cd4Rates.jasper</reportFile>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select p.patientID, ltrim(rtrim(clinicPatientID)) as clinicPatientID, nationalId as nationalid, case when lower('$lang') = 'en' then statusDescEn else statusDescFr end as statusDesc, cd4M1, cd4M6 from patient p, #tempStatus1$user s, patientStatusLookup l, (select patientid, min(cd4) as cd4M1 from cd4Table where sitecode = '$site' and visitdate between '$start' and '$end' group by patientid) c1, (select patientid, max(cd4) as cd4M6 from cd4Table where sitecode = '$site' and visitdate between '$start' and '$end' group by patientid) c2 where p.patientID = c1.patientid and p.patientID = c2.patientid and p.patientID = s.patientID and s.status = l.statusValue order by clinicPatientID</query>
				<description/>
			</report>
		</reportSubSet>
		<reportSubSet>
			<title lang="en">Others</title>
			<title lang="fr">Autres</title>
            <report id="548" patientStatus="0" treatmentStatus="0" testType="0">
				  <title lang="en">Alert viral load </title>
				  <title lang="fr">Alerte charge virale</title>
				    <reportFile></reportFile>
				    <groupLevel>0</groupLevel>
				    <otherLevel>0</otherLevel>
				    <query>select descriptionFr as Alerte,count(distinct patientID) as cnt from patientAlert p, alertLookup a ,clinicLookup c where p.alertId=a.alertId and p.patientID not in(select patientID from discTable) and p.siteCode=c.siteCode and c.siteCode='$site' group by 1 order by a.alertId </query>
			</report>		
				
			<report id="549" patientStatus="0" treatmentStatus="0" testType="0">
				  <title lang="en">List of patients who started an HAART regimen</title>
				  <title lang="fr">Liste des patients ayant démarré un régime ARV</title>
				   <reportFile></reportFile>
				    <groupLevel>0</groupLevel>
				    <otherLevel>0</otherLevel>
                    <menuSelection>dateSelect</menuSelection>				
			 </report>
				
			<report id="550" patientStatus="0" treatmentStatus="0" testType="0">
				  <title lang="en">The list of patients whose ARV refill date is expected within the next 30 days</title>
				  <title lang="fr">La liste des patients dont la date de renflouement des ARV est prévue dans les 30 prochains jours</title>
				   <reportFile></reportFile>
				     <groupLevel>0</groupLevel>
				             <otherLevel>0</otherLevel>			
			</report>
					
			<report id="551" patientStatus="0" treatmentStatus="0" testType="0">
				  <title lang="en">The list of patients whose ARV refill date has expired</title>
				  <title lang="fr">La liste des patients dont la date de renflouement des ARV est arrivée à terme</title>
				   <reportFile></reportFile>
				   <groupLevel>0</groupLevel>
				   <otherLevel>0</otherLevel>	
                   				   
			</report>	
			    <report id="552" patientStatus="0" treatmentStatus="0" testType="0">
				  <title lang="en">Number of patients receiving ARVs by period</title>
				  <title lang="fr">Nombre de patients ayant reçu des ARV par période</title>
				   <reportFile></reportFile>
				    <groupLevel>0</groupLevel>
				    <otherLevel>0</otherLevel>
				    <menuSelection>dateSelect</menuSelection>
			</report>	
            
            <report id="553" patientStatus="0" treatmentStatus="0" testType="0">
				  <title lang="en">Community distribution of ARVs</title>
				  <title lang="fr">Distribution des ARVs en communauté (DAC)</title>
				   <reportFile></reportFile>
				    <groupLevel>0</groupLevel>
				    <otherLevel>0</otherLevel>
				    <menuSelection>dateSelect</menuSelection>
			</report>
            <report id="554" patientStatus="0" treatmentStatus="0" testType="0">
				  <title lang="en">Viral load by number of copies/ml (according to the application date)</title>
				  <title lang="fr">Charge virale en fonction du nombre de copies/ml (selon la date de demande)</title>
				   <reportFile></reportFile>
				    <groupLevel>0</groupLevel>
				    <otherLevel>0</otherLevel>
				    <menuSelection>dateSelect</menuSelection>
			</report>

	       <report id="557" patientStatus="0" treatmentStatus="0" testType="0">
				  <title lang="en">Viral load by number of copies/ml (according to the result Date)</title>
				  <title lang="fr">Charge virale en fonction du nombre de copies/ml (selon la date du resultat) </title>
				   <reportFile></reportFile>
				    <groupLevel>0</groupLevel>
				    <otherLevel>0</otherLevel>
				    <menuSelection>dateSelect</menuSelection>
			</report>	
		    <report id="559" patientStatus="0" treatmentStatus="0" testType="0">
				  <title lang="en">Eligible children for a PCR</title>
				  <title lang="fr">Enfants éligibles pour un PCR </title>
				   <reportFile></reportFile>
				    <groupLevel>0</groupLevel>
				    <otherLevel>0</otherLevel>
			</report>		
		    <report id="555" patientStatus="0" treatmentStatus="0" testType="0">
				  <title lang="en">List of patients eligible for their first viral load </title>
				  <title lang="fr">Liste des patients eligibles pour leur premiere charge virale</title>
				    <reportFile></reportFile>
				    <groupLevel>0</groupLevel>
				    <otherLevel>0</otherLevel>
				    <query>select distinct p.patientID as IdPatient, clinicPatientID as codeST, lname as Nom, fname as Prenom, telephone from patient p, pepfarTable t where p.patientId=t.patientID and p.patientID not in(select patientID from discTable) and p.patientID not in(select l.patientID from labs l where labID in(103,1257) and (result is not null and result !='')) group by 1  having min(visitDate) &lt;= DATE_ADD(now(), INTERVAL -6 MONTH)</query> 
			</report>
		   <report id="556" patientStatus="0" treatmentStatus="0" testType="0">
				  <title lang="en">Eligible for a control viral load </title>
				  <title lang="fr">Liste des patients eligibles pour une charge virale de controle</title>
				    <reportFile></reportFile>
				    <groupLevel>0</groupLevel>
				    <otherLevel>0</otherLevel>
				    <query>select distinct p.patientID as IdPatient, clinicPatientID as codeST, lname as Nom, fname as Prenom, telephone, result, ymdtoDate(resultDateYy,resultDateMm,resultDateDd) as 'Date resultat' from patient p, labs l, ( SELECT DISTINCT patientID, MAX( ymdtoDate(resultDateYy, resultDateMm, resultDateDd)) AS DateResultat FROM  `labs` WHERE labID IN (103, 1257) GROUP BY 1) q where p.patientId=l.patientID and q.patientID=l.patientID and q.DateResultat = ymdtoDate(l.resultDateYy,l.resultDateMm,l.resultDateDd) and l.labID in(103,1257) and (result is not null and result !='') and p.patientID not in(select patientID from discTable) AND datediff(mm,DateResultat,getDate()) between 6 and 12 and digits(result) &gt; 1000 UNION select distinct p.patientID as IdPatient, clinicPatientID as codeST, lname as Nom, fname as Prenom, telephone, result, ymdtoDate(resultDateYy,resultDateMm,resultDateDd) as 'Date resultat' from patient p, labs l, (SELECT DISTINCT patientID, MAX( ymdtoDate(resultDateYy, resultDateMm, resultDateDd)) AS DateResultat FROM  `labs` WHERE labID IN (103,1257) GROUP BY 1 ) q where p.patientId=l.patientID and q.patientID=l.patientID and q.DateResultat = ymdtoDate(l.resultDateYy,l.resultDateMm,l.resultDateDd) and l.labID in(103,1257) and (result is not null and result !='') and p.patientID not in(select patientID from discTable) AND datediff(mm,DateResultat,getDate()) &gt; 12 and digits(result) &lt; 1000</query> 
				</report>
				
			<report id="560" patientStatus="0" treatmentStatus="0" testType="0">
				  <title lang="en">ARV dispensing follow-up </title>
				  <title lang="fr">Suivi dispensation ARV</title>
				    <reportFile></reportFile>
				    <groupLevel>0</groupLevel>
				    <otherLevel>0</otherLevel>
				    <query></query> 
				</report>	
				
			<report id="561" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Active patient with a viral load during the last 12 months</title>
				<title lang="fr">Patient Actif avec une charge virale pendant les 12 dernier mois</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>select distinct p1.clinicPatientID as ST,$localized_gender as sex, $computed_age AS age, case when lower('$lang') = 'en' then statusDescEn else statusDescFr end as statusDesc,digits(l.result) as 'Charge Viral',date(ymdtoDate(resultDateYy,resultDateMm,resultDateDd)) as 'Date du Resultat' FROM labs l, (select patientID,max(date(ymdtoDate(resultDateYy,resultDateMm,resultDateDd))) as visitDate FROM labs where siteCode='$site' and date(ymdtoDate(resultDateYy,resultDateMm,resultDateDd)) between DATE_ADD('$end', INTERVAL -12 MONTH) AND '$end' group by 1) l1,(select patientID,patientStatus from patientStatusTemp p where p.endDate='$end' and p.patientStatus in (6,8)) p,patient p1,patientStatusLookup p2 WHERE l.labID IN (103, 1257) and l.result IS NOT NULL and digits(l.result)>0 and p.patientID=l.patientID and l.patientID=p1.patientID and p2.statusValue=p.patientStatus and l.siteCode='$site' and l1.patientID=l.patientID and l1.visitDate=date(ymdtoDate(resultDateYy,resultDateMm,resultDateDd)) and  date(ymdtoDate(resultDateYy,resultDateMm,resultDateDd)) between DATE_ADD('$end', INTERVAL -12 MONTH) AND '$end'</query>
				<description lang="en">Active patient with a viral load result over the past 12 months</description>
				<description lang="fr">Patient regulier et randez-vous rates ayant un resultat de charge viral pandant les 12 dernier mois</description>
			</report>	
			
			<report id="562" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Patient from 15 to 49 year Detected and treated for cervical cancer(CXCA_SCRN et CXCA_TX)</title>
				<title lang="fr">Patient âgé de 15 à 49 ans Dépisté et traité pour le cancer du col (CXCA_SCRN et CXCA_TX)</title>
				<reportFile></reportFile>piethahsie
				<menuSelection>dateSelect</menuSelection>
				<query></query>
			</report>
			
			<report id="563" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Patientfrom 25 to 60 year   Detected and treated for cervical cancer(CXCA_SCRN et CXCA_TX)</title>
				<title lang="fr">Patient âgé de 25 à 60 ans Dépisté et traité pour le cancer du col (CXCA_SCRN et CXCA_TX)</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query></query>
			</report>
			
		</reportSubSet>
		
		
		
<!--    <reportSubSet>  disease and death reports 
			<title lang="en">Incident disease and death reports</title>
			<title lang="fr">Rapports de décès et de maladies</title>
			<report id="5045" patientStatus="6" treatmentStatus="0" testType="0">
				<title lang="en">First diagnosis of PCP among active patients</title>
				<title lang="fr">Premier diagnostic de PCP parmi les patients actifs</title>
				<description>filler</description>
				<reportFile groupLevel="2" otherLevel="0">clinicLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="0">communeLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="0">departmentLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="0">networkLabTestRpt.jasper</reportFile>
				<groupLevel>4</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<targetList>ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, p.nationalID, ltrim(rtrim(p.fname)) as fName, ltrim(rtrim(p.lname)) as lName, $localized_gender as 'sex', $computed_age AS age, p.visitdate as intakeDate</targetList>
				<aggregateItems>min(c.visitdate) as DxDate, count(distinct p.patientID) as 'Compte', round(count(distinct p.patientID) / $total * 100.00, 2) as 'Pour cent'</aggregateItems>
				<fromClause>v_patients p, v_conditions c, clinicLookup a, encValid e</fromClause>
				<whereClause>p.sitecode = a.sitecode and p.patientid = c.patientid and p.encountertype = 1 and conditionCode in ('pcp', 'PneumUnknownCause')</whereClause>
				<groupBy></groupBy>
				<havingClause>datediff(dd, p.visitdate , min(c.visitdate)) > 60</havingClause>
				<orderBy>1</orderBy>
				<query>select ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, p.nationalID, ltrim(rtrim(p.fname)) as fName, ltrim(rtrim(p.lname)) as lName, $localized_gender as 'sex', $computed_age AS age, p.visitdate as intakeDate, min(c.visitdate) as DxDate from v_patients p, v_conditions c where p.sitecode like '$site' and p.patientid = c.patientid and p.encountertype = 1 and conditionCode in ('pcp', 'PneumUnknownCause') group by 1,2,3,4,5,6,7 having datediff(dd, p.visitdate , min(c.visitdate)) > 60 order by 1</query>
			</report>
			<report id="5046" patientStatus="6" treatmentStatus="0" testType="0">
				<title lang="en">First diagnosis of TB among active patients</title>
				<title lang="fr">Premier diagnostic de TB parmi les patients actifs </title>
				<description>filler</description>
				<reportFile groupLevel="2" otherLevel="0">clinicLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="3" otherLevel="0">communeLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="4" otherLevel="0">departmentLabTestRpt.jasper</reportFile>
				<reportFile groupLevel="5" otherLevel="0">networkLabTestRpt.jasper</reportFile>
				<groupLevel>4</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, p.nationalID, ltrim(rtrim(p.fname)) as fName, ltrim(rtrim(p.lname)) as lName, $localized_gender as 'sex', $computed_age AS age, p.visitdate as intakeDate, min(c.visitdate) as DxDate from v_patients p, v_conditions c where p.sitecode like '$site' and p.patientid = c.patientid and p.encountertype = 1 and datediff(dd, p.visitdate, c.visitdate) > 60 and conditionCode in ('pulmTB', 'extrapulmTB') group by 1,2,3,4,5,6,7 order by 1</query>
			</report>
			<report id="107" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Death By Year</title>
				<title lang="fr">Décès par année</title>
				<reportFile groupLevel="0" otherLevel="0">deathsByYearRpt.jasper</reportFile>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select n.Site, YEAR(dbo.ymdToDate(reasonDiscDeathyy, reasonDiscDeathmm, reasonDiscDeathdd)) as 'DeathYear',count(distinct p.patientID) as Count from v_discEnrollment p, siteName n where n.sitecode = p.sitecode and n.sitecode like '$site' and isdate(dbo.ymdToDate(reasonDiscDeathyy, reasonDiscDeathmm, reasonDiscDeathdd)) = 1 group by site, year(dbo.ymdToDate(reasonDiscDeathyy, reasonDiscDeathmm, reasonDiscDeathdd)) order by 1,2</query>
				<description>Number of patient deaths as recorded on the discontinuation form for selected facility. Date range limits results to any patient with a discontinuation form date within the specified range.</description>
			</report>
		</reportSubSet> 
-->
	</reportSet>
	<reportSet rtype="aggregatePop">   <!--  Program management reports -->
		<title lang="en">Program Management</title>
		<title lang="fr">Gestion de programme</title>
		<reportSubSet><!--  facility reports -->
			<title lang="en">Facility Reports</title>
			<title lang="fr">Rapports par établissement</title>
                        <!--
			<report id="503" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">NEW PEPFAR/WHO Facility Level Monthly</title>
				<title lang="fr">Nouveau rapport mensuel PEPFAR/OMS par établissement</title>
				<reportFile groupLevel="0" otherLevel="0">PepFar.jasper</reportFile>
				<groupLevel>1</groupLevel>
				<otherLevel>0</otherLevel>
                                <menuSelection>endDateOnly</menuSelection>
				<query>select * from pepfarRecords order by 1</query>
			</report>
                        -->
			<report id="777" patientStatus="2" treatmentStatus="2" testType="">
			  <title lang="en">Report of Therapeutic Risk Categories</title>
			  <title lang="fr">Rapport des Catégories de Risque d’Échec Thérapeutique</title>
			    <reportFile></reportFile>
			    <groupLevel>0</groupLevel>
			    <otherLevel>0</otherLevel>
				<query>SELECT IF('$lang' = 'fr', statusDescfr, statusDescen) AS 'Statut', IF('$lang' = 'fr', riskNamefr, riskNameen) AS 'Catégorie', CONCAT(fname,' ',lname) AS Nom, p.patientid, clinicPatientID AS 'Code ST', 'popup' AS 'Alerte popup', YEAR(GETDATE()) - dobyy+0 AS Age, telephone, addrDistrict, MAX(lw.dispDate) AS 'Dernier date d´ARV', MAX(lw.nxtDt) AS 'Prochaine date d´ARV' FROM patient p, r34Summary rx, patientStatusLookup l, longWide lw, r34RiskLookup r 
					WHERE (p.patientid = rx.patientid AND p.patientid = lw.patientid AND p.patientStatus = l.statusValue AND p.location_id = $site AND r.riskLevel = rx.riskLevel)
				</query>
				<menuSelection></menuSelection>
				<description lang="en">This report lists patients in selected ARV status and theraputic risk categories.&lt;BR/&gt;Clicking the ST Code link on a patient takes the user to that patient's cover page.&lt;BR/&gt;Further information on the patient's theraputic risk is available on the cover page.</description>
				<description lang="fr">Ce rapport énumère les patients dans des catégories d'ARV sélectionnées et des catégories de risque thérapeutique.&lt;BR/&gt;En cliquant sur le lien Code ST sur un patient, l'utilisateur envoie la page de couverture de ce patient.&lt;BR/&gt;De plus amples informations sur le risque thérapeutique du patient sont disponibles sur la page couverture.</description>
			</report>
			<report id="778" patientStatus="0" treatmentStatus="0" testType="0">
			  <title lang="en">Generate Report For Open Viral Orders</title>
			  <title lang="fr">Générer un rapport pour les commandes virales ouvertes</title>
			    <reportFile></reportFile>
			    <groupLevel>0</groupLevel>
			    <otherLevel>0</otherLevel>
				<query>SELECT distinct e.sitecode, p.clinicPatientID as stcode, e.patientid, concat(p.dobdd,'/',p.dobmm,'/',p.dobyy) as dob, CASE WHEN p.sex = 1 THEN 'F' WHEN p.sex = 2 THEN 'M' ELSE 'N' END as sex, concat(e.sitecode,e.encounter_id) as orderNumber, concat(e.visitdatedd,'/',e.visitdatemm,'/','20',e.visitdateyy) as orderDate, sampleType as sampleCode FROM encounter e, labs l, patient p WHERE e.patientid = p.patientid and e.sitecode = l.sitecode and e.patientid = l.patientid and ymdtodate(e.visitdateyy,e.visitdatemm,e.visitdatedd) = ymdtodate(l.visitdateyy,l.visitdatemm,l.visitdatedd) and e.seqnum = l.seqnum and l.labid in (103,181) and ymdtodate(e.visitdateyy,e.visitdatemm,e.visitdatedd) between '$start' and '$end' and e.sitecode = $site AND (l.result is null or l.result = '') AND e.encStatus &lt; 255 ORDER BY 3
				</query>
				<menuSelection>dateSelect</menuSelection>
				<description lang="en">This report lists all open viral load and PCR lab orders between the dates specified.</description>
				<description lang="fr">Ce rapport répertorie toutes les commandes de charge virale ouverte et de laboratoire de PCR entre les dates spécifiées.
				</description>
			</report>
			<report id="505" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">PEPFAR/WHO Facility Level Monthly</title>
				<title lang="fr">Rapport mensuel PEPFAR/OMS par établissement</title>
				<reportFile groupLevel="0" otherLevel="0">PepFar.jasper</reportFile>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateSelect</menuSelection>
				<query>select * from pepfarRecords order by 1</query>
			</report>
<!--			<report id="903" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">WHO Cohort Analysis</title>
				<title lang="fr">Analyse de cohorte de l'OMS</title>
				<reportFile>cohortAnalysis.jasper</reportFile>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateSelect</menuSelection>
				<query>exec sp_cohortAnalysis; select sn.Site as siteName, n.sorder, cohortDate, visitDate, title, rowCnt from normaltable n, cohortAsort s, siteName sn where sn.siteCode = n.siteCode and n.sorder = s.sorder and visitdate between '$start' and '$end' and cohortDate between '$start' and '$end' and sn.sitecode like '$site' order by cohortdate, visitdate, n.sorder</query>
				<description/>
			</report> -->
                        <!--
			<report id="200" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">HIV case surveillance</title>
				<title lang="fr">Surveillance de cas VIH</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateSelect</menuSelection>
				<query>select n.sitecode, p.nationalID, n.dataElement as dataElement, l.fieldname, n.value, Visitdate from patient p, nastadTable n, nastadLookup l where p.patientid = n.patientid and n.value != '' and n.dataElement = l.dataElement and
				n.sitecode like '$site' and  n.visitdate between '$start' and '$end' order by 1, 2, 3, 6</query>
				<description/>
			</report>
			<report id="5000" patientStatus="62" treatmentStatus="0" testType="0">
				<title lang="en">Plot of Patient Visits By Type</title>
				<title lang="fr">Plot of Patient Visits By Type</title>
				<reportFile></reportFile>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateSelect</menuSelection>
				<query></query>
				<description/>
			</report>
			<report id="504" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">HIVQUAL Report</title>
				<title lang="fr">Rapport HIVQUAL</title>
				<reportFile>hivQual_main.jasper</reportFile>
				<groupLevel>2</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateSelect</menuSelection>
				<query>
				  select username, value1 as startDate, value2 as endDate, value3 as siteList
				  from staticReportData
				  where reportNumber = 504 and username = '$user'
				</query>
			</report>
                        <report id="511" patientStatus="0" treatmentStatus="0" testType="0">
                             <title lang="en">HIV/AIDS Case Notification [XML]</title>
                             <title lang="fr">Notification de cas de VIH/SIDA [XML]</title>
                             <reportFile></reportFile>
                             <groupLevel>2</groupLevel>
                             <otherLevel>0</otherLevel>
                             <menuSelection>endDateOnly</menuSelection>
                             <query></query>
                        </report>
                        -->
			<report id="512" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">HEALTHQUAL Report</title>
				<title lang="fr">Rapport HEALTHQUAL</title>
				<reportFile>healthQual_main.jasper</reportFile>
				<groupLevel>2</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateSelect</menuSelection>
				<query>
				  select username, value1 as startDate, value2 as endDate, value3 as siteList
				  from staticReportData
				  where reportNumber = 512 and username = '$user'
                                  group by 1,2,3,4
				</query>
			</report>
			<report id="520" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Regimen Usage for Pregnant Women</title>
				<title lang="fr">Régimes utilisés pour les femmes enceintes</title>
				<reportFile/>
				<groupLevel>2</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT * FROM temp$user</query>
			</report>
			<report id="530" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Monthly Quality of Care Indicator Report</title>
				<title lang="fr">Rapport mensuel des indicateurs de qualité des soins</title>
				<reportFile>monthlyInd_main.jasper</reportFile>
				<groupLevel>2</groupLevel>
				<otherLevel>0</otherLevel>
                                <menuSelection>dateSelect</menuSelection>
				<query>
				  select username, value1 as startDate, value2 as endDate, value3 as siteList
				  from staticReportData
				  where reportNumber = 530 and username = '$user'
				</query>
			</report>
			<report id="540" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Weekly Disease Surveillance Report</title>
				<title lang="fr">Rapport de surveillance hebdomadaire</title>
				<reportFile></reportFile>
				<groupLevel>1</groupLevel>
				<otherLevel>0</otherLevel>
                                <menuSelection>dateSelect</menuSelection>
				<query>
				  select * 
				  from #tempRpt5401$user
				</query>
			</report>
			<report id="541" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">HSIS (report of the Haitian health information system)</title>
				<title lang="fr">HSIS (rapport du système d’information sanitaire Haïtien)</title>
				<reportFile></reportFile>
				<groupLevel>1</groupLevel>
				<otherLevel>0</otherLevel>
                                <menuSelection>dateSelect</menuSelection>
				
			</report>

                       <report id="547" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">OE Evaluation</title>
				<title lang="fr">Evaluation OE</title>
				<reportFile></reportFile>
				<groupLevel>1</groupLevel>
				<otherLevel>0</otherLevel>
                                <menuSelection>dateSelect</menuSelection>
				
			</report>
			
			<report id="545" patientStatus="0" treatmentStatus="0" testType="0">
				  <title lang="en">frequenting of the institution for  VIH patients per User</title>
				  <title lang="fr">Frequentation de l'institution Classé par Utilisateur</title>
				   <reportFile></reportFile>
				     <groupLevel>1</groupLevel>
				             <otherLevel>0</otherLevel>
                                <menuSelection>dateSelect</menuSelection>
				
			    </report>
				
			<report id="546" patientStatus="0" treatmentStatus="0" testType="0">
				  <title lang="en">Frequenting of the institution </title>
				  <title lang="fr">Frequentation de l'institution </title>
				   <reportFile></reportFile>
				     <groupLevel>1</groupLevel>
				             <otherLevel>0</otherLevel>
                                <menuSelection>dateSelect</menuSelection>
				
			    </report>
				
			<report id="547" patientStatus="0" treatmentStatus="0" testType="0">
				  <title lang="en">Consultations per days</title>
				  <title lang="fr">Consultation par jours</title>
				   <reportFile></reportFile>
				     <groupLevel>1</groupLevel>
				             <otherLevel>0</otherLevel>
                                <menuSelection>dateSelect</menuSelection>
				
			    </report>	
		</reportSubSet>
		<reportSubSet><!--  patient demographics -->
		<title lang="en">Patient Demographics</title>
		<title lang="fr">Démographie des patients</title>
			<report id="500" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Patient Count</title>
				<title lang="fr">Nombre de patients</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateSelect</menuSelection>
				<query>select Site,Count from (select Site, count(patientID) as Count, case when Site is NULL then 0 else 1 end as isnull  from v_patients, siteName where v_patients.sitecode = '$site' and siteName.sitecode = v_patients.sitecode and visitdate between '$start' and '$end' and encounterType in (10, 15) and patientid not in (select patientid from discTable where discDate between '$start' and '$end') and visitdate between '$start' and '$end' group by site with rollup) as tempresult  order by isnull desc, site</query>
				<description/>
			</report>
			<report id="498" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Patient Count (dept,commune,clinic)</title>
				<title lang="fr">Nombre de patients (dept/commune/clinique)</title>
				<reportFile></reportFile>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT department,commune,clinic,cnt from (SELECT department, commune, clinic, count(lname+fname)  AS cnt, case when department is NULL then 0 else 1 end as departmentisnull, case when commune is NULL then 0 else 1 end as communeisnull, case when clinic is NULL then 0 else 1 end as clinicisnull FROM v_patients p, clinicLookup l where p.sitecode = l.sitecode and visitdate between '$start' and '$end' and encountertype in (10, 15) and p.patientid not in (select patientid from discTable where discDate between '$start' and '$end') and visitdate between '$start' and '$end' GROUP BY department, commune , clinic WITH ROLLUP) as tempresult  order by departmentisnull desc, department, communeisnull desc, commune, clinicisnull, clinic</query>
				<description/>
			</report>
			<report id="501" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Patients by Age Group</title>
				<title lang="fr">Patients par groupe d'âge</title>
				<title lang="ht">Malade-yo pa laj</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateSelect</menuSelection>
				<query></query><description/>
			</report>
			<report id="102" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Age at First Visit</title>
				<title lang="fr">Âge à la première visite</title>
				<reportFile></reportFile>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateSelect</menuSelection>
				<query>select CASE WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, '06', '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, '06', '15'), visitdate) between 0 and 14 THEN '0-14' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, '15'), visitdate) between 0 and 14 THEN '0-14' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) = 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, dobDd)) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, dobDd), visitdate) between 0 and 14 THEN '0-14' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, '06', '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, '06', '15'), visitdate) between 15 and 20 THEN '15-20' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, '15'), visitdate) between 15 and 20 THEN '15-20' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) = 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, dobDd)) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, dobDd), visitdate) between 15 and 20 THEN '15-20' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, '06', '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, '06', '15'), visitdate) between 21 and 30 THEN '21-30' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, '15'), visitdate) between 21 and 30 THEN '21-30' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) = 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, dobDd)) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, dobDd), visitdate) between 21 and 30 THEN '21-30' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, '06', '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, '06', '15'), visitdate) between 31 and 40 THEN '31-40' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, '15'), visitdate) between 31 and 40 THEN '31-40' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) = 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, dobDd)) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, dobDd), visitdate) between 31 and 40 THEN '31-40' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, '06', '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, '06', '15'), visitdate) between 41 and 50 THEN '41-50' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, '15'), visitdate) between 41 and 50 THEN '41-50' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) = 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, dobDd)) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, dobDd), visitdate) between 41 and 50 THEN '41-50' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, '06', '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, '06', '15'), visitdate) between 51 and 60 THEN '51-60' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, '15'), visitdate) between 51 and 60 THEN '51-60' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) = 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, dobDd)) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, dobDd), visitdate) between 51 and 60 THEN '51-60' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, '06', '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, '06', '15'), visitdate) between 61 and 70 THEN '61-70' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, '15'), visitdate) between 61 and 70 THEN '61-70' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) = 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, dobDd)) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, dobDd), visitdate) between 61 and 70 THEN '61-70' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, '06', '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, '06', '15'), visitdate) between 71 and 80 THEN '71-80' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, '15'), visitdate) between 71 and 80 THEN '71-80' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) = 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, dobDd)) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, dobDd), visitdate) between 71 and 80 THEN '71-80' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, '06', '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, '06', '15'), visitdate) between 81 and 90 THEN '81-90' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, '15'), visitdate) between 81 and 90 THEN '81-90' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) = 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, dobDd)) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, dobDd), visitdate) between 81 and 90 THEN '81-90' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, '06', '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, '06', '15'), visitdate) between 91 and 100 THEN '91-100' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, '15'), visitdate) between 91 and 100 THEN '91-100' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) = 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, dobDd)) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, dobDd), visitdate) between 91 and 100 THEN '91-100' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, '06', '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, '06', '15'), visitdate) between 101 and 110 THEN '101-110' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, '15'), visitdate) between 101 and 110 THEN '101-110' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) = 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, dobDd)) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, dobDd), visitdate) between 101 and 110 THEN '101-110' ELSE 'inconnu' END as age, count(distinct patientID) as Count from v_patients where encounterType in (10, 15) and siteCode = '$site' and patientid not in (select patientid from discTable where discDate between '$start' and '$end') and visitdate between '$start' and '$end' group by CASE WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, '06', '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, '06', '15'), visitdate) between 0 and 14 THEN '0-14' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, '15'), visitdate) between 0 and 14 THEN '0-14' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) = 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, dobDd)) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, dobDd), visitdate) between 0 and 14 THEN '0-14' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, '06', '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, '06', '15'), visitdate) between 15 and 20 THEN '15-20' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, '15'), visitdate) between 15 and 20 THEN '15-20' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) = 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, dobDd)) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, dobDd), visitdate) between 15 and 20 THEN '15-20' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, '06', '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, '06', '15'), visitdate) between 21 and 30 THEN '21-30' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, '15'), visitdate) between 21 and 30 THEN '21-30' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) = 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, dobDd)) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, dobDd), visitdate) between 21 and 30 THEN '21-30' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, '06', '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, '06', '15'), visitdate) between 31 and 40 THEN '31-40' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, '15'), visitdate) between 31 and 40 THEN '31-40' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) = 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, dobDd)) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, dobDd), visitdate) between 31 and 40 THEN '31-40' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, '06', '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, '06', '15'), visitdate) between 41 and 50 THEN '41-50' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, '15'), visitdate) between 41 and 50 THEN '41-50' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) = 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, dobDd)) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, dobDd), visitdate) between 41 and 50 THEN '41-50' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, '06', '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, '06', '15'), visitdate) between 51 and 60 THEN '51-60' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, '15'), visitdate) between 51 and 60 THEN '51-60' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) = 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, dobDd)) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, dobDd), visitdate) between 51 and 60 THEN '51-60' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, '06', '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, '06', '15'), visitdate) between 61 and 70 THEN '61-70' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, '15'), visitdate) between 61 and 70 THEN '61-70' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) = 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, dobDd)) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, dobDd), visitdate) between 61 and 70 THEN '61-70' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, '06', '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, '06', '15'), visitdate) between 71 and 80 THEN '71-80' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, '15'), visitdate) between 71 and 80 THEN '71-80' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) = 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, dobDd)) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, dobDd), visitdate) between 71 and 80 THEN '71-80' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, '06', '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, '06', '15'), visitdate) between 81 and 90 THEN '81-90' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, '15'), visitdate) between 81 and 90 THEN '81-90' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) = 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, dobDd)) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, dobDd), visitdate) between 81 and 90 THEN '81-90' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, '06', '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, '06', '15'), visitdate) between 91 and 100 THEN '91-100' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, '15'), visitdate) between 91 and 100 THEN '91-100' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) = 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, dobDd)) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, dobDd), visitdate) between 91 and 100 THEN '91-100' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, '06', '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, '06', '15'), visitdate) between 101 and 110 THEN '101-110' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) &lt;> 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, '15')) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, '15'), visitdate) between 101 and 110 THEN '101-110' WHEN ISNUMERIC(dobYy) = 1 AND ISNUMERIC(dobMm) = 1 AND ISNUMERIC(dobDd) = 1 AND ISDATE(dbo.ymdToDate(dobYy, dobMm, dobDd)) = 1 AND DATEDIFF(year, dbo.ymdToDate(dobYy, dobMm, dobDd), visitdate) between 101 and 110 THEN '101-110' ELSE 'inconnu' END order by age</query>
				<description>Distribution of total patients for selected facility by age. Date range limits to any patient with a visit date within the specified range. Patients with no age or an invalid age entered are counted as unknown. Total at the bottom, columns to stratify by sex?, unknown category, and column with proportion (%) next to raw numbers.</description>
			</report>
			<report id="100" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Count By Gender</title>
				<title lang="fr">Nombre de patients par sexe</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateSelect</menuSelection>
				<query>
select CASE WHEN sex = 1 THEN 'Femme' WHEN sex = 2 THEN 'Homme' ELSE 'Autre' END as Sexe, count(distinct patientID) as Count from v_patients where encounterType in (10, 15) and siteCode = '$site' and visitDate between '$start' and '$end' and patientid not in (select patientid from discTable where discDate between '$start' and '$end')  group by CASE WHEN sex = 1 THEN 'Femme' WHEN sex = 2 THEN 'Homme' ELSE 'Autre' END order by Sexe</query>
				<description>Distribution of total patients for selected facility by gender. Date range limits to any patient with a visit date within the specified range. Patients with neither or both genders selected are counted in unknown category. Formatted with total at the bottom, unknown category, and column with proportion (%) next to raw numbers.</description>
			</report>
			<report id="502" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Risk Factors for HIV Transmission</title>
				<title lang="fr">Facteurs de risque de transmission du VIH</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateSelect</menuSelection>
				<query>select riskDescFr as Mode, count(distinct patientID) as Count from v_riskAssessments where riskAnswer = 1 and substring(patientID,1,5) = '$site' and visitdate between '$start' and '$end' group by riskDescFr order by 2 desc</query>
				<description/>
			</report>
		</reportSubSet>
		<reportSubSet><!--  service delivery -->
			<title lang="en">Service Delivery</title>
			<title lang="fr">Services fournis</title>
			<report id="1900" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Visits By Month</title>
				<title lang="fr">Nombre de visites par mois</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateToday</menuSelection>
				<query>select n.Site, convert(int,visitDateMm) as 'Visite_MM', 2000 + convert(int,visitDateYy) as 'AAAA', count(distinct e.patientID) as Count from encValidAll e, encTypeLookup l, siteName n where n.sitecode = e.sitecode and n.sitecode like '$site' and e.encounterType = l.encounterType and visitdate between '$start' and '$end' group by site, convert(int,visitDateMm), 2000 + convert(int,visitDateYy) order by 1,3,2</query>
				<description>Number of patient visits by month for selected facility. Repeat visits during a single day (morning and afternoon) are counted as a single encounter. Date range limits results to any patient with a visit date within the specified range.</description>
			</report>
			<report id="1901" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">New Diagnoses Made</title>
				<title lang="fr">Diagnostics nouvellement établis</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateToday</menuSelection>
				<query>select n.Site, d.conditionNameFr as DiagnosisName, count(distinct p.patientID) as Count from v_conditions p, conditionLookup d, siteName n where n.sitecode = p.sitecode and n.sitecode like '$site' and p.conditionID = d.conditionsID group by site, d.conditionNameFr order by 1,3 desc</query>
				<description>Distribution of diagnoses made at clinical intake or clinical follow-up visits for selected facility. Date range limits results to any patient with a visit date within the specified range. The counts do not represent unique patients. If multiple diagnoses are indicated, then that patient would count in several categories. If a patient receives the same diagnosis repeatedly, the diagnosis is counted each time it is made. Change requested: Separate data into 3 columns (diagnoses at clinical intake, diagnoses at follow-up, and all diagnoses). Add columns for proportion (%) next to raw numbers?</description>
			</report>
			<report id="1902" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Active Diagnoses</title>
				<title lang="fr">Diagnostics actifs</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateToday</menuSelection>
				<query>select n.Site, d.conditionNameFr as DiagnosisName, count(distinct p.patientID) as Count from v_conditions p, conditionLookup d, siteName n where n.sitecode = p.sitecode and n.sitecode like '$site' and p.conditionID = d.conditionsID group by site, d.conditionNameFr order by 1,3 desc</query>
				<description>Distribution of diagnoses made at clinical intake or clinical follow-up visits for selected facility. Date range limits results to any patient with a visit date within the specified range. The counts do not represent unique patients. If multiple diagnoses are indicated, then that patient would count in several categories. If a patient receives the same diagnosis repeatedly, the diagnosis is counted each time it is made. Change requested: Separate data into 3 columns (diagnoses at clinical intake, diagnoses at follow-up, and all diagnoses). Add columns for proportion (%) next to raw numbers?</description>
			</report>
			<report id="1903" patientStatus="0" treatmentStatus="0">
				<title lang="en">Laboratory Tests Ordered</title>
				<title lang="fr">Analyses de laboratoire prescrites</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateToday</menuSelection>
				<targetList>testnamefr as Test</targetList>
				<aggregateItems>count(distinct t.patientID) as 'Compte'</aggregateItems>
				<fromClause>v_labsOrdered t, clinicLookup a</fromClause>
				<whereClause>t.sitecode = a.sitecode and t.visitdate between '$start' and '$end'</whereClause>
				<groupBy>testnamefr</groupBy>
				<havingClause/>
				<orderBy>1,2,3</orderBy>
				<query>select testname$lang, count(distinct t.patientID) as 'Compte' from v_labsOrdered t, clinicLookup a where t.sitecode = a.sitecode and a.sitecode like '$site' and t.visitdate between '$start' and '$end' group by testname$lang order by 2 desc</query>
				<description/>
			</report>
			<report id="1904" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Laboratory Tests Completed</title>
				<title lang="fr">Analyses de laboratoire effectuées</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateToday</menuSelection>
				<targetList>testnamefr as Test</targetList>
				<aggregateItems>count(distinct t.patientID) as 'Compte'</aggregateItems>
				<fromClause>v_labsCompleted t, clinicLookup a</fromClause>
				<whereClause>t.sitecode = a.sitecode and t.visitdate between '$start' and '$end'</whereClause>
				<groupBy>testnamefr</groupBy>
				<havingClause/>
				<orderBy>1,2,3</orderBy>
				<query>select testname$lang, count(distinct t.patientID) as 'Compte' from v_labsCompleted t, clinicLookup a where t.sitecode = '$site' and t.sitecode = a.sitecode and t.visitdate between '$start' and '$end' group by testname$lang order by 2 desc</query>
				<description/>
			</report>
			<report id="1905" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Medications Ordered</title>
				<title lang="fr">Médicaments prescrits</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select drugLabel as MedicationName, count(distinct p.patientID) as Count from v_prescriptions p, drugLookup d, siteName n where n.sitecode = p.sitecode and n.sitecode like '$site' and p.drugID = d.drugID group by drugLabel order by 2 desc</query>
				<description/>
			</report>
			<report id="1906" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Medications Dispensed</title>
				<title lang="fr">Médicaments dispensés</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select drugLabel as MedicationName, count(distinct p.patientID) as Count from v_prescriptions p, drugLookup d, siteName n where n.sitecode = p.sitecode and n.sitecode like '$site' and p.drugID = d.drugID group by drugLabel order by 2 desc</query>
				<description/>
			</report>
			<report id="604" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Clinic Visits During Given Period By Network</title>
				<title lang="fr">Visites cliniques au cours de la période donnée par réseau</title>
				<reportFile groupLevel="0" otherLevel="0">visitingPeriodRpt.jasper</reportFile>
				<groupLevel>5</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateSelect</menuSelection>
				<query>select c.sitecode as Clinic, q.clinicPatientID, q.patientID, q.fName, q.lName, q.age, q.sex, q.regimen, max(e.visitdate) as 'lastVisitDate', case when max(e.visitdate) &lt; max(dbo.ymdtodate(e.nxtVisitYy, e.nxtVisitMm, e.nxtVisitDd)) then max(dbo.ymdtodate(e.nxtVisitYy, e.nxtVisitMm, e.nxtVisitDd)) else null end as 'nxtVisitDate',  case when datediff(day, max(e.visitdate),max(dbo.ymdtodate(e.nxtVisitYy, e.nxtVisitMm, e.nxtVisitDd))) &gt; 0 then datediff(day, max(e.visitdate),max(dbo.ymdtodate(e.nxtVisitYy, e.nxtVisitMm, e.nxtVisitDd))) else null end as Diff from ( select i.clinicPatientID, i.patientID, i.fName, i.lName, i.age, i.sex, s.regimen from ( select ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, p.patientID, ltrim(rtrim(p.fname)) as fName, ltrim(rtrim(p.lname)) as lName, $computed_age as 'Age', $localized_gender as 'Sex', max(r.visitdate) as rvisitdate from patient p left join pepfarTable r on p.patientid = r.patientid group by p.clinicpatientid, p.patientID, p.fname, p.lname, p.dobyy, p.dobmm, p.dobdd, p.sex) i left join pepfarTable s on s.patientid = i.patientid and s.visitdate = i.rvisitdate) q, encValidAll e, clinicLookup c where lname is not null and lname != '' and q.patientid = e.patientid and e.siteCode = c.sitecode and c.network in (select network from clinicLookup where sitecode = '$network') and e.visitdate between '$start' and '$end' group by q.clinicpatientid, q.patientID, q.fname, q.lname, q.age, q.sex, q.regimen order by 1,2</query> 
				<description/>
			</report>
			<report id="605" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Prescriptions Dispensed By Network</title>
				<title lang="fr">Médicaments dispensés par réseau</title>
				<reportFile groupLevel="0" otherLevel="0">visitingPeriodRpt.jasper</reportFile>
				<groupLevel>5</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateSelect</menuSelection>
				<query>drop table if exists dispenseSitecodes; create table dispenseSitecodes select distinct sitecode from clinicLookup where network in (select network from clinicLookup where sitecode = '$network');select v.sitecode as Clinic, q.clinicPatientID, q.patientID, q.fName, q.lName, q.age, q.sex, q.regimen, v.visitdate, v.drugName as 'I/Os dispense', v.altDosageSpecify as 'Posologie alternative dispense', v.numDaysDesc as 'Nombre de jours', v.dispAltNumPills as 'Nombre de pillules distribes' from (select i.clinicPatientID, i.patientID, i.fName, i.lName, i.age, i.sex, s.regimen from (select ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, p.patientID, ltrim(rtrim(p.fname)) as fName, ltrim(rtrim(p.lname)) as lName, $computed_age as 'age', CASE WHEN p.sex = 1 THEN 'F' WHEN p.sex = 2 THEN CASE WHEN LOWER('$lang') = 'fr' THEN 'H' ELSE 'M' END ELSE CASE WHEN LOWER('$lang') = 'fr' THEN 'I' ELSE 'U' END END as 'sex', max(r.visitdate) as rvisitdate from patient p left join pepfarTable r on p.patientid = r.patientid where left(p.patientid,5) in (select sitecode from dispenseSitecodes) group by p.clinicpatientid, p.patientID, p.fname, p.lname, p.dobyy, p.dobmm, p.dobdd, p.sex) i left join pepfarTable s on s.patientid = i.patientid and s.visitdate = i.rvisitdate) q, a_medsDispensed v where v.patientid = q.patientid and v.siteCode in (select sitecode from dispenseSitecodes) and v.visitdate between '$start' and '$end' order by Clinic, q.clinicPatientID, v.visitdate, v.drugName</query>
				<description/>
			</report>
		</reportSubSet>
	</reportSet>
	<reportSet rtype="dataQuality">    <!--  Data quality reports -->
		<title lang="en">Data Quality</title>
		<title lang="fr">Qualité des données</title>
		<reportSubSet><!--  Missing data -->
			<title lang="en">Missing Data</title>
			<title lang="fr">Données manquantes</title>
			<report id="302" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Patients with no gender designated</title>
				<title lang="fr">Patients sans désignation de sexe</title>
				<reportFile></reportFile>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select distinct ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, p.patientID, ltrim(rtrim(fname)) as fName, ltrim(rtrim(lname)) as lName, p.nationalid as NationalID from patient p, encValidAll e, siteName l where e.encStatus != 255 and (sex not in (1,2) or sex is null) and e.sitecode = l.sitecode and e.sitecode = '$site' and p.patientid = e.patientid and patStatus = 0</query>
				<description/>
			</report>
			<report id="303" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Patients without birth year specified</title>
				<title lang="fr">Patients sans spécification d'année de naissance</title>
				<reportFile></reportFile>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select distinct ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, p.patientID, ltrim(rtrim(fname)) as fName, ltrim(rtrim(lname)) as lName, p.nationalid as NationalID, dobyy, $computed_age AS age from patient p, encValidAll e where e.encStatus != 255 and (dobyy is null or dobyy = '' or isnumeric(dobyy) = 0) and e.sitecode = '$site' and p.patientid = e.patientid and patStatus = 0 order by clinicPatientID</query>
				<description/>
			</report>
			<report id="304" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Patients with no PC, OG, or ST assigned</title>
				<title lang="fr">Patients sans PC, OG, ST</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select distinct ltrim(rtrim(fname)) as fName, ltrim(rtrim(lname)) as lName, p.nationalid as NationalID, encounterType, e.patientID from patient p, encValidAll e where p.patStatus = 0 and e.patientID = p.patientID  and (e.clinicpatientid is null or ltrim(rtrim(e.clinicpatientid)) = '') and e.encountertype in (10, 15) and p.patientID not in (select concat(location_id,person_id) from obs where concept_id in (70039,70040) and location_id = $site) and e.siteCode = '$site' order by 1,2</query>
				<description/>
			</report>
			<report id="308" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Active patients with prescription forms completed</title>
				<title lang="fr">Patients de statut actif avec des fiches de pharmacie complétées</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select distinct ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, p.patientID, ltrim(rtrim(fname)) as fName, ltrim(rtrim(lname)) as lName, p.nationalid as NationalID from siteName s, patient p, encValid e where p.patientStatus in (2, 3, 4, 5, 6, 7) and e.patientid = p.patientid and s.sitecode = e.sitecode and e.encounterType in (5, 18) and e.sitecode like '$site' order by 1,3,4</query>
				<description/>
			</report>
			<report id="309" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Active patients with lab forms completed</title>
				<title lang="fr">Patients de status actif avec des fiches de laboratoire complétées</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select distinct ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, p.patientID, ltrim(rtrim(fname)) as fName, ltrim(rtrim(lname)) as lName, p.nationalid as NationalID from siteName s, patient p, encValid e where p.patientStatus in (2, 3, 4, 5, 6, 7) and e.patientid = p.patientid and s.sitecode = e.sitecode and e.encounterType in (6, 19) and e.sitecode like '$site' order by 1,3,4</query>
				<description/>
			</report>
		</reportSubSet>
		<reportSubSet><!--  invalid data -->
			<title lang="en">Invalid Data</title>
			<title lang="fr">Données non-valides</title>
			<report id="305" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Visit Date Later Than Data Entry Date</title>
				<title lang="fr">Date de visite ultérieure à la date d'entrée des données</title>
				<title lang="ht">Dat Vizit pi ta ke Dat Done yo te antre</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select distinct p.clinicPatientID, p.patientID, nationalid, e.visitDate as VisitDate, e.lastModified as LastModifiedDate, e.encountertype as 'encountertype', e.encounter_id, e.patientid from patient p, encValidAll e where e.patientID = p.patientID and e.visitDate &gt; e.lastModified and e.sitecode = '$site' order by 1,3,4</query>
				<description/>
			</report>
			<report id="306" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Bad Visit Date</title>
				<title lang="fr">Mauvaise date de visite</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select distinct p.clinicPatientID, p.patientID, nationalid, e.visitDateDd + '/' + e.visitDateMm + '/' + e.visitDateYy as BadVisitDt, e.encountertype as 'encountertype', e.encounter_id, e.patientID from patient p, encounter e, siteName l where e.encStatus != 255 and p.patStatus = 0 and e.patientID = p.patientID and e.sitecode = l.sitecode and l.sitecode = '$site' and isdate(dbo.ymdToDate(e.visitDateYy, e.visitDateMm, e.visitDateDd)) = 0 order by 1</query>
				<description/>
			</report>
			<report id="307" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Patients (HIV) with activity after being discontinued</title>
				<title lang="fr">Patients (VIH) avec activité après discontinuation</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select distinct ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, Nationalid, discdate as DateDiscontinued, max(visitdate) as LastDate, discdate,max(a.encountertype) as 'encountertype', a.patientID, max(a.encounter_id) as  encounter_id  from (select patientID,max(visitDate) as discDate from encValid where encountertype in (12, 21) group by 1) d, (select patientID,max(visitDate) as visit from encValid group by 1)ll, encValid a, siteName l, encTypeLookup, patient p  where d.patientid = p.patientid  and ll.patientID=a.patientID and ll.visit=a.visitDate and d.patientid = a.patientid and  d.discDate &lt; a.visitDate and a.sitecode = l.sitecode and l.sitecode = '$site'  and a.encountertype not in (12, 21,7,27,28,29,31) group by p.clinicPatientID, a.patientID, nationalid, discdate order by 1,2,3	</query>
				<description/>
			</report>
		</reportSubSet>
		<reportSubSet><!--  data cleaning -->
			<title lang="en">Data Cleaning</title>
			<title lang="fr">Épurage des données</title>
			<report id="310" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Possible Duplicate Registrations</title>
				<title lang="fr">Éventualité de duplication d'enregistrement de patients</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>
				select distinct ltrim(rtrim(p.clinicPatientID)) as clinicPatientID, p.patientID, p.nationalID as nationalID, ltrim(rtrim(p.lname)) as lName,ltrim(rtrim(p.fname)) as fName, case when p.sex = 1 then 'F' when p.sex = 2 then CASE WHEN LOWER('$lang') = 'fr' THEN 'H' ELSE 'M' END else CASE WHEN LOWER('$lang') = 'fr' THEN 'I' ELSE 'U' END end as sex, p.addrDistrict, p.addrSection, p.addrTown, p.birthDistrict, p.birthSection, p.birthTown, case when 'fr' = '$lang' then (p.dobDd + '/' + p.dobMm + '/' + p.dobYy) else (p.dobMm + '/' + p.dobDd + '/' + p.dobYy) end as dob, $computed_age AS age, p.fnameMother as fnameMother, p.occupation, p.telephone   from (select sitecode, ltrim(rtrim(lname)) as lname, ltrim(rtrim(fname)) as fname, dobdd as dupedobdd, dobmm as dupedobmm, dobyy as dupedobyy, fnamemother, count(distinct p.patientID) as dupCount from patient p,encounter e where e.encStatus &lt; 255 and patStatus = 0 and p.patientid = e.patientid and e.encountertype in (10, 15) and sitecode like '$site' group by sitecode, lname, fname, dupedobdd,dupedobmm,dupedobyy, fnamemother having count(distinct p.patientID) &gt; 1) as d, patient p, encValidAll e where e.patientID = p.patientID and p.lname = d.lname and p.fname = d.fname and (p.dobdd = d.dupedobdd or (p.dobdd is null and d.dupedobdd is null)) and (p.dobmm = d.dupedobmm or (p.dobmm is null and d.dupedobmm is null)) and (p.dobyy = d.dupedobyy or (p.dobyy is null and d.dupedobyy is null)) and (p.fnamemother = d.fnamemother or (p.fnamemother is null and d.fnamemother is null)) order by 4, 5, 13</query>
				<description/>
			</report> 
			<report id="311" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Patients with multiple ART regimens prescribed / dispensed on the same day</title>
				<title lang="fr">Les patients ayant de multiples régimes VIH prescrits / distribués le même jour</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>create temporary table pepMultiples select patientid, visitdate, group_concat(regimen) as regimen from pepfarTable group by 1,2 having count(*) &gt; 1; alter table pepMultiples add primary key (patientid,visitdate); select p.patientid as patientID, encounter_id, encountertype as encountertype, lname, fname, $computed_age as age, p.clinicPatientID, p.nationalid, date(t.visitdate) as VisitDt, regimen from pepMultiples t, v_prescriptions v, patient p where t.patientid = p.patientid and location_id = $site and v.patientid = t.patientid and v.visitdate = t.visitdate group by 1,9 order by 4,5</query>
				<description lang="en">A patient with multiple regimens on the same day probably has an error in their prescription form--use this list to correct the form involved</description>
				<description lang="fr">Un patient avec des régimes multiples le même jour a probablement une erreur dans leur formulaire de prescription - utiliser cette liste pour corriger la forme impliquée</description>
			</report>
			<report id="312" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Forms With Errors (consolidated error report)</title>
				<title lang="fr">Fiches comportant des erreurs (rapport récapitulatif)</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>(select top 200 p.clinicPatientID, e.encounter_id, encountertype as 'encountertype', p.patientID, e.visitDate as 'VisitDt', lastModified as 'LastModifiedDate', fieldName as field, fieldError as errorDesc from formErrors f, encValidAll e, patient p where  e.patientID = p.patientID and e.encounter_id = f.encounter_id and e.sitecode = '$site') union (select top 200 p.clinicPatientID, e.encounter_id, e.encountertype, e.patientID, case when isDate(dbo.ymdToDate(e.visitdateYy, e.visitdateMm, e.visitdateDd)) = 1 then dbo.ymdToDate(e.visitdateYy, e.visitdateMm, e.visitdateDd) else null end as 'VisitDt', e.lastModified as 'LastModifiedDate', 'ExF', e.encStatus from encounter e, patient p where e.patientID = p.patientID and e.encStatus between 1 and 254 and e.sitecode = '$site' and p.patStatus = 0) order by 1,6</query>
				<description/>
			</report> 
			<report id="313" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Prescription forms with errors</title>
				<title lang="fr">Fiches d'ordonnance médicale avec erreurs</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>(select top 200 p.clinicPatientID, e.encounter_id, encountertype as 'encountertype', p.patientID, e.visitDate as 'VisitDt', lastModified as 'LastModifiedDate', fieldName as field, fieldError as errorDesc from formErrors f, encValidAll e, patient p where e.encountertype in (5,18) and e.patientID = p.patientID and e.encounter_id = f.encounter_id and e.sitecode = '$site') union (select top 200 p.clinicPatientID, e.encounter_id, e.encountertype, e.patientID, case when isDate(dbo.ymdToDate(e.visitdateYy, e.visitdateMm, e.visitdateDd)) = 1 then dbo.ymdToDate(e.visitdateYy, e.visitdateMm, e.visitdateDd) else null end as 'VisitDt', e.lastModified as 'LastModifiedDate', 'ExF', e.encStatus from encounter e, patient p where e.encountertype in (5,18) and e.patientID = p.patientID and e.encStatus between 1 and 254 and e.sitecode = '$site' and p.patStatus = 0) order by 1,6</query>
				<description/>
			</report>
		</reportSubSet>
		<reportSubSet><!--  data management process -->
			<title lang="en">Data Management Process</title>
			<title lang="fr">Processus de gestion des données</title>
			<report id="315" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Visit Date/Data Entry Lag</title>
				<title lang="fr">Date de visite/Laps de temps avant la saisie des données</title>
				<reportFile></reportFile>
				<menuSelection>dateToday</menuSelection>
				<query>select datediff(dd,visitdate,lastmodified) as LagInDays, count(distinct encounter_id) as formcount from encValidAll where sitecode = '$site' and visitdate &lt;= lastmodified and lastmodified between '$start' and '$end' and datediff(dd,visitdate,lastmodified) &lt;= 60 group by datediff(dd,visitdate,lastmodified) having count(distinct encounter_id) &gt; 25 order by 1</query>
				<description/>
			</report>
			<report id="510" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Forms Recently Entered</title>
				<title lang="fr">Fiches récemment saisies</title>
				<reportFile>FormsLastWeek.jasper</reportFile>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select top $nForms p.clinicPatientID as clinicPatientID, e.creator as 'Nom d utilisateur',t.frName as fiche, e.createDate as 'Date de scréation', e.lastModified as 'Dernière modification', e.patientID, e.encounter_id, e.encountertype as 'encountertype' 
				from encounter e, encTypeLookup t, patient p
				where creator like '$creator' and e.encountertype = t.encountertype and e.sitecode = '$site'
				and e.lastmodified &lt;= getDate()
				and p.patientID = e.patientID
                                and p.patStatus = 0
				order by lastModified desc</query>
				<description/>
			</report>
			<report id="506" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Forms Entered Last Week</title>
				<title lang="fr">Nombre de fiches saisies la semaine dernière</title>
				<reportFile>FormsLastWeek.jasper</reportFile>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateToday</menuSelection>
				<query>select site, count(distinct encounter_id) as Count from encounter e, siteName n where e.encStatus &lt; 255 and n.sitecode = e.sitecode and n.sitecode like '%' and datediff(dd,lastModified,getdate()) &lt;= 7 group by site order by 2 desc</query>
				<description/>
			</report>
			<report id="507" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Forms Entered Last Month</title>
				<title lang="fr">Nombre de fiches saisies le mois dernier</title>
				<reportFile>FormsLastMonth.jasper</reportFile>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateToday</menuSelection>
				<query>select Site, count(distinct encounter_id) as Count from encounter e, siteName n where e.encStatus &lt; 255 and n.sitecode = e.sitecode and n.sitecode like '%' and datediff(dd,lastModified,getdate()) &lt;= 30 group by site order by 2 desc</query>
				<description/>
			</report>
			<report id="508" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Patients with only registration form</title>
				<title lang="fr">Patients avec uniquement une fiche d'enregistrement</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select distinct ltrim(rtrim(clinicPatientID)) as clinicPatientID, patientID, nationalid, ltrim(rtrim(fname)) as fName, ltrim(rtrim(lname)) as lName, visitDate as LastDate from a_patients where patientid in (select patientid from encValidAll where encounterType in (10, 15)) and patientid not in (select patientid from encValidAll where encountertype in (1,2,3,4,5,6,7,8,9,11,12,13,14,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31)) and sitecode = '$site' order by 1</query>
				<description/>
			</report>
			<report id="509" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Patients (HIV) with no intake form</title>
				<title lang="fr">Patients (VIH) sans fiche de première visite</title>
				<reportFile/>
				<groupLevel>0</groupLevel>
				<otherLevel>0</otherLevel>
				<menuSelection>dateNo</menuSelection>
				<query>select ltrim(rtrim(clinicPatientID)) as clinicPatientID, patientID, nationalid, ltrim(rtrim(fname)) as fName, ltrim(rtrim(lname)) as lName, max(visitDate) as 'LastDate' from v_patients where patientid in (select patientid from encValid) and patientid not in (select patientid from encValid where encountertype in (1, 16, 24)) and sitecode = '$site' group by clinicPatientID, patientID, nationalid, fname, lname order by 1</query>
				<description/>
			</report>
		</reportSubSet>
	</reportSet>
	<reportSet rtype="primaryCare">    <!--  Primary Care reports -->
		<title lang="en">Primary Care</title>
		<title lang="fr">Soins de santé primaire</title>
		<reportSubSet><!--  Prevalence - Cancer  -->
			<title lang="en">Prevalence - Cancer</title>
			<title lang="fr">Prévalence - Cancer</title>
			<report id="2008" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Breast cancer</title>
				<title lang="fr">Cancer du sein</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e LEFT JOIN obs o ON e.encounter_id = o.encounter_id AND e.siteCode = o.location_id LEFT JOIN conditions c ON e.patientID = c.patientID AND e.siteCode = c.siteCode AND e.visitDateDd = c.visitDateDd AND e.visitDateMm = c.visitDateMm AND e.visitDateYy = c.visitDateYy AND e.seqNum = c.seqNum, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND ((o.concept_id IN (70059, 70112) AND o.value_boolean = 1) OR (c.conditionID IN (705) AND ((c.conditionActive IN (1,5) AND e.encounterType IN (16,17)) OR (c.conditionActive IN (1,4,5) AND e.encounterType IN (1,2)) OR (c.conditionActive = 1 AND e.encounterType IN (24,25))))) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,3,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with breast cancer.&lt;BR/&gt;Numerator: All patients diagnosed with breast cancer within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* adult primary care and all ob/gyn visits</description>
				<description lang="fr">Proportion des patientes atteint d’un cancer du sein.&lt;BR/&gt;Numérateur : toutes les patientes atteintes d’un cancer du sein pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant une période de temps donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire (adultes) et ob-gyn</description>
			</report>
			<report id="2009" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Cervical cancer</title>
				<title lang="fr">Cancer du col de l’utérus</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e LEFT JOIN obs o ON e.encounter_id = o.encounter_id AND e.siteCode = o.location_id LEFT JOIN conditions c ON e.patientID = c.patientID AND e.siteCode = c.siteCode AND e.visitDateDd = c.visitDateDd AND e.visitDateMm = c.visitDateMm AND e.visitDateYy = c.visitDateYy AND e.seqNum = c.seqNum, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND ((o.concept_id IN (70861, 70862) AND o.value_boolean = 1) OR (c.conditionID IN (218) AND c.conditionActive IN (1,4,5))) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,3,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with cervical cancer.&lt;BR/&gt;Numerator: All patients diagnosed with cervical cancer within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* adult primary care and HIV adult visits</description>
				<description lang="fr">Proportion des patientes atteintes d’un cancer du col de l’utérus.&lt;BR/&gt;Numérateur : toutes les patientes atteintes d’un cancer du col de l’utérus pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant une période de temps donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire (adultes) et VIH (adultes)</description>
			</report>
			<report id="2010" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Prostate cancer</title>
				<title lang="fr">Cancer de la prostate</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70864, 70865) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,3,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with prostate cancer.&lt;BR/&gt;Numerator: All patients diagnosed with prostate cancer within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* adult primary care visits</description>
				<description lang="fr">Proportion des patients atteints d’un cancer de la prostate.&lt;BR/&gt;Numérateur : tous les patients atteints d’un cancer de la prostate pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire (adultes)</description>
			</report>
		</reportSubSet>
		<reportSubSet><!--  Prevalence - General Conditions  -->
			<title lang="en">Prevalence - General Conditions</title>
			<title lang="fr">Prévalence - Conditions générales</title>
			<report id="2011" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Cardiovascular disease</title>
				<title lang="fr">Maladie cardio-vasculaire</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e LEFT JOIN obs o ON e.encounter_id = o.encounter_id AND e.siteCode = o.location_id LEFT JOIN conditions c ON e.patientID = c.patientID AND e.siteCode = c.siteCode AND e.visitDateDd = c.visitDateDd AND e.visitDateMm = c.visitDateMm AND e.visitDateYy = c.visitDateYy AND e.seqNum = c.seqNum, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND ((o.concept_id IN (70231, 70232, 70240, 70241, 70267, 70268) AND o.value_boolean = 1) OR (c.conditionID IN (294,329,356,428,430) AND ((c.conditionActive IN (1,5) AND e.encounterType IN (16,17)) OR (c.conditionActive IN (1,4,5) AND e.encounterType IN (1,2))))) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with a cardiovascular disease.&lt;BR/&gt;Numerator: All patients diagnosed with one or more of the following within the specified time period:&lt;BR/&gt; 1) Cerebrovascular Accident&lt;BR/&gt; 2) Hypertension&lt;BR/&gt; 3) Cardiac disease&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care and HIV adult visits</description>
				<description lang="fr">Proportion des patients atteints d’une maladie cardiovasculaire.&lt;BR/&gt;Numérateur : tous les patients atteints de:&lt;BR/&gt; 1) Accident vasculaire cérébral&lt;BR/&gt; 2) Hypertension&lt;BR/&gt; 3) Maladie cardiaque&lt;BR/&gt;pendant une période de temps donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période de temps donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire et VIH (adultes)</description>
			</report>
			<report id="2000" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Malnutrition/Underweight (adults)</title>
				<title lang="fr">Malnutrition/Insuffisance pondérale (adultes)</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e, #temp1$user t1, #temp2$user t2, #temp3$user t3, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND p.patientID = t2.patientID AND p.patientID = t3.patientID AND p.patientID NOT IN (SELECT patientID FROM #temp5$user) AND ((t2.startDays >= 15 * $days_in_year AND t2.startDays &lt; 19 * $days_in_year AND t3.visitDate BETWEEN DATEADD(month, -6, '$start') AND '$end') OR t2.startDays >= 19 * $days_in_year) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' AND ROUND(CONVERT(float, t1.wt / (CONVERT(float, t3.ht) * CONVERT(float, t3.ht))), 0) &lt; '18.5' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients with BMI &lt; 18.5.&lt;BR/&gt;Numerator: All patients with BMI &lt; 18.5 at their most recent visit&lt;BR/&gt;Denominator: All patients age &#8805; 15 yrs with:&lt;BR/&gt; 1) weight recorded at the most recent visit&lt;BR/&gt; 2) height recorded: a) ever for pts age &#8805; 19 yrs, b) in the preceding 6 months for pts age 15-18 yrs, and&lt;BR/&gt; 3) a visit* within the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care and ob/gyn (non-pregnant) visits</description>
				<description lang="fr">Proportion des patients avec un IMC &lt; 18,5.&lt;BR/&gt;Numérateur : tous les patients avec un IMC &lt; 18,5 lors de leur dernière visite&lt;BR/&gt;Dénominateur : tous les patients âgés de moins de 15 ans avec :&lt;BR/&gt; 1) le poids renseigné lors de leur dernière visite et&lt;BR/&gt; 2) la taille renseignée : a) pour les patients âgés de moins de 19 ans, b) dans les 6 derniers mois pour les patients entre 15 et 18 ans et&lt;BR/&gt; 3) lors d’une visite* pendant la période de temps donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire et ob-gyn (sauf enceinte)</description>
			</report>
			<report id="2035" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Obesity (adults)</title>
				<title lang="fr">Obésité (adultes)</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e, #temp1$user t1, #temp2$user t2, #temp3$user t3, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND p.patientID = t2.patientID AND p.patientID = t3.patientID AND p.patientID NOT IN (SELECT patientID FROM #temp5$user) AND ((t2.startDays >= 15 * $days_in_year AND t2.startDays &lt; 19 * $days_in_year AND t3.visitDate BETWEEN DATEADD(month, -6, '$start') AND '$end') OR t2.startDays >= 19 * $days_in_year) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' AND ROUND(CONVERT(float, t1.wt / (CONVERT(float, t3.ht) * CONVERT(float, t3.ht))), 0) &gt; '30' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients with BMI &gt; 30.&lt;BR/&gt;Numerator: All patients with BMI &gt; 30 at their most recent visit&lt;BR/&gt;Denominator: All patients with:&lt;BR/&gt; 1) weight recorded at the most recent visit and&lt;BR/&gt; 2) height recorded: a) ever for pts age &#8805; 19 yrs, b) in the preceding 6 months for pts age 15-18 yrs, and&lt;BR/&gt; 3) a visit* within the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care and ob/gyn (non-pregnant) visits</description>
				<description lang="fr">Proportion des patients avec un IMC > 30.&lt;BR/&gt;Numérateur : tous les patients avec un IMC > 30 lors de leur dernière visite&lt;BR/&gt;Dénominateur : tous les patients âgés de moins de 15 ans avec :&lt;BR/&gt; 1) le poids renseigné lors de leur dernière visite et&lt;BR/&gt; 2) la taille renseignée : a) pour les patients âgés de moins de 19 ans, b) dans les 6 derniers mois pour les patients entre 15 et 18 ans et&lt;BR/&gt; 3) lors d’une visite* pendant la période de temps donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire et ob-gyn (sauf enceinte)</description>
			</report>
			<report id="2003" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Smoking</title>
				<title lang="fr">Tabac</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70016) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients who report smoking.&lt;BR/&gt;Numerator: All patients who report smoking within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* adult primary care and ob/gyn intake visits</description>
				<description lang="fr">Proportion de patients qui disent fumer.&lt;BR/&gt;Numérateur : tous les patients qui disent fumer pendant la période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire (adultes) et ob-gyn (première consultation)</description>
			</report>
			<report id="2004" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Mental health diagnosis</title>
				<title lang="fr">Troubles Psychiatriques</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e LEFT JOIN obs o ON e.encounter_id = o.encounter_id AND e.siteCode = o.location_id LEFT JOIN conditions c ON e.patientID = c.patientID AND e.siteCode = c.siteCode AND e.visitDateDd = c.visitDateDd AND e.visitDateMm = c.visitDateMm AND e.visitDateYy = c.visitDateYy AND e.seqNum = c.seqNum, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND ((o.concept_id IN (70357, 70358) AND o.value_boolean = 1) OR (c.conditionID IN (377,380,383,386,395,431) AND c.conditionActive IN (1,4,5))) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with mental health problem.&lt;BR/&gt;Numerator: All patients diagnosed with mental health trouble within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care and HIV adult visits</description>
				<description lang="fr">Proportion de patients souffrant de troubles psychiatriques.&lt;BR/&gt;Numérateur : tous les patients diagnostiqués avec des troubles psychiatriques pendant la période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire et VIH (adultes)</description>
			</report>
			<report id="2099" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">All patients diagnosed in the last 7 days</title>
				<title lang="fr">Tous les patients diagnostiqués au cours des 7 derniers jours</title>
				<reportFile></reportFile>
				<menuSelection>dateNo</menuSelection>
				<query>select case when p.clinicPatientID is not null then p.clinicPatientID else concat(lname,fname) end as clinicPatientID, case when datediff(dd, ymdToDate(dobyy,dobmm,dobdd),getDate()) between 0 and 30 then '1. 0-1 mons' when datediff(dd,ymdToDate(dobyy,dobmm,dobdd),getDate()) between 31 and 365 then '2. 1 mons-1 ans' when datediff(dd, ymdToDate(dobyy,dobmm,dobdd), getDate()) between 366 and 1825 then '3. 1-5 ans' when datediff(dd, ymdToDate(dobyy,dobmm,dobdd), getDate()) between 1826 and 3650 then '4. 6 ans-10 ans' else '5. 10 ans+' end as 'Le groupe d’âge', lname as lName, fname as fName, p.nationalID, CASE WHEN sex = 1 THEN 'F' WHEN sex = 2 THEN 'H' ELSE 'I' END as sex, date(ymdToDate(dobyy,dobmm,dobdd)) as Dob, CONCAT_WS('|', p.addrDistrict, p.addrSection, p.addrTown) AS Address, p.telephone AS Phone, p.contact AS Contact, p.patientid as patientID, GROUP_CONCAT(CONCAT(UCASE(SUBSTRING(n.name, 1, 1)), SUBSTRING(n.name, 2))) as 'Dx' from patient p, encValidAll e, obs o, concept c, concept_name n where p.patientid = e.patientid and e.encounter_id = o.encounter_id and datediff(dd, e.visitDate, getDate()) between 0 and 7 and e.sitecode = o.location_id and o.location_id = $site and o.concept_id = c.concept_id and c.class_id = 4 and o.value_boolean is true and c.concept_id = n.concept_id and n.locale = '$lang' group by 11 order by 2,3,4,5,6,7,8,9,10,11</query>
				<description lang="en">This report lists any patients diagnosed in the last seven days, sorted by age group</description>
				<description lang="fr">Ce rapport répertorie tous les patients diagnostiqués au cours des sept derniers jours, triées par groupe d'âge</description>
			</report>
		</reportSubSet>
		<reportSubSet><!--  Prevalence - Diabetes  -->
			<title lang="en">Prevalence - Diabetes</title>
			<title lang="fr">Prévalence - Diabètes</title>
			<report id="2005" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Diabetes type 1</title>
				<title lang="fr">Diabètes de type 1</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e LEFT JOIN obs o ON e.encounter_id = o.encounter_id AND e.siteCode = o.location_id LEFT JOIN conditions c ON e.patientID = c.patientID AND e.siteCode = c.siteCode AND e.visitDateDd = c.visitDateDd AND e.visitDateMm = c.visitDateMm AND e.visitDateYy = c.visitDateYy AND e.seqNum = c.seqNum, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND ((o.concept_id IN (70249, 70250) AND o.value_boolean = 1) OR (c.conditionID IN (317) AND c.conditionActive IN (1,4,5))) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with diabetes type 1.&lt;BR/&gt;Numerator: All patients diagnosed with diabetes type 1 within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care and HIV adult visits</description>
				<description lang="fr">Proportion des patients atteints de diabète de type 1.&lt;BR/&gt;Numérateur : tous les patients atteints de diabète de type 1 pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période de temps donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire et VIH (adultes)</description>
			</report>
			<report id="2006" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Diabetes type 2</title>
				<title lang="fr">Diabètes de type 2</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e LEFT JOIN obs o ON e.encounter_id = o.encounter_id AND e.siteCode = o.location_id LEFT JOIN conditions c ON e.patientID = c.patientID AND e.siteCode = c.siteCode AND e.visitDateDd = c.visitDateDd AND e.visitDateMm = c.visitDateMm AND e.visitDateYy = c.visitDateYy AND e.seqNum = c.seqNum, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND ((o.concept_id IN (70252, 70253) AND o.value_boolean = 1) OR (c.conditionID IN (316) AND c.conditionActive IN (1,4,5))) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with diabetes type 2.&lt;BR/&gt;Numerator: All patients diagnosed with diabetes type 2 within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care and HIV adult visits</description>
				<description lang="fr">Proportion des patients atteints de diabète de type 2.&lt;BR/&gt;Numérateur : tous les patients atteints de diabète de type 2 pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période de temps donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire et VIH (adultes)</description>
			</report>
			
			
                        <!--
			<report id="2007" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Insulin-dependent diabetes</title>
				<title lang="fr">Diabètes insulinodépendant</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN t1.otherID IS NULL THEN 'N/A' ELSE t1.otherID END AS clinicPatientID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM patient p, encValidAll e, tempId1$user t1, obs o, (SELECT DISTINCT e.patientID FROM encValidAll e, obs o WHERE e.siteCode = o.location_id AND e.encounter_id = o.encounter_id AND e.siteCode = '$site' AND o.concept_id IN (70416, 70417, 70418, 70419, 70420) AND o.value_text LIKE '%insulin%' AND e.visitDate BETWEEN '$start' AND '$end' UNION SELECT e.patientID FROM encValidAll e, otherPrescriptions o WHERE e.patientID = o.patientID AND e.siteCode = o.siteCode AND e.visitDateDd = o.visitDateDd AND e.visitDateMm = o.visitDateMm AND e.visitDateYy = o.visitDateYy AND e.seqNum = o.seqNum AND e.siteCode = '$site' AND LOWER(o.drug) LIKE '%insulin%' AND e.visitDate BETWEEN '$start' AND '$end') x WHERE p.patientID = x.patientID AND p.person_id = o.person_id AND p.location_id = o.location_id AND o.concept_id IN (70249, 70250, 70252, 70253) AND o.value_boolean = 1 AND e.encounterType IN (24,25,27,28,29,31) AND o.encounter_id = e.encounter_id AND p.patientID = e.patientID AND p.patientID = t1.patientID AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients with insulin-dependent diabetes.&lt;BR/&gt;Numerator: All patients diagnosed with diabetes type 1 or type 2 who have received insulin medication within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care and HIV visits</description>
				<description lang="fr">Proportion des patients atteints de diabète insulinodépendant.&lt;BR/&gt;Numérateur : tous les patients atteints de diabète de Type 1 ou 2 qui ont reçu un traitement par insuline pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant une période de temps donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire et VIH</description>
			</report>
                        -->
		</reportSubSet>
		<reportSubSet><!--  Prevalence - Infectious Diseases (Adult and Pediatric) -->
			<title lang="en">Prevalence - Infectious Diseases (Adult and Pediatric)</title>
			<title lang="fr">Prévalence - Maladies infectieuses (adultes et pédiatriques)</title>
			<report id="2001" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Cholera</title>
				<title lang="fr">Choléra</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70282, 70283) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with cholera.&lt;BR/&gt;Numerator: All patients diagnosed with cholera within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care visits</description>
				<description lang="fr">Proportion des patients atteints de choléra.&lt;BR/&gt;Numérateur : tous les patients atteints de choléra pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
			<report id="2012" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Dengue</title>
				<title lang="fr">Dengue</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70292, 70293) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with dengue.&lt;BR/&gt;Numerator: All patients diagnosed with dengue within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care visits</description>
				<description lang="fr">Proportion des patients atteints de la dengue.&lt;BR/&gt;Numérateur : tous les patients atteints de la dengue pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
			<report id="2013" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Acute bloody diarrhea</title>
				<title lang="fr">Diarrhée aiguë sanglante</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70261, 70262) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with acute bloody diarrhea.&lt;BR/&gt;Numerator: All patients diagnosed with acute bloody diarrhea within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care visits</description>
				<description lang="fr">Proportion des patients atteints de diarrhée aigüe sanglante.&lt;BR/&gt;Numérateur : tous les patients atteints de diarrhée aigüe sanglante pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
			<report id="2014" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Fever of unknown origin</title>
				<title lang="fr">Fièvre de cause indéterminée</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70246, 70247) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with fever of unknown origin.&lt;BR/&gt;Numerator: All patients diagnosed with fever of unknown origin within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care visits</description>
				<description lang="fr">Proportion des patients atteints de fièvre de cause indéterminée.&lt;BR/&gt;Numérateur : tous les patients atteints de fièvre de cause indéterminée pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
			<report id="2016" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Acute respiratory infection</title>
				<title lang="fr">Infection respiratoire aiguë</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70308, 70309) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with acute respiratory infection.&lt;BR/&gt;Numerator: All patients diagnosed with acute respiratory infection within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care visits</description>
				<description lang="fr">Proportion des patients atteints d’infection respiratoire aigüe.&lt;BR/&gt;Numérateur : tous les patients atteints d’infection respiratoire aigüe pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
			<report id="2017" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Malaria</title>
				<title lang="fr">Malaria (Paludisme)</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e LEFT JOIN obs o ON e.encounter_id = o.encounter_id AND e.siteCode = o.location_id LEFT JOIN conditions c ON e.patientID = c.patientID AND e.siteCode = c.siteCode AND e.visitDateDd = c.visitDateDd AND e.visitDateMm = c.visitDateMm AND e.visitDateYy = c.visitDateYy AND e.seqNum = c.seqNum, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND ((o.concept_id IN (70850,70851,71149,71148,71149,71150) AND o.value_boolean = 1) OR (c.conditionID IN (45,335) AND ((c.conditionActive IN (1,5) AND e.encounterType IN (16,17)) OR (c.conditionActive IN (1,4,5) AND e.encounterType IN (1,2)) OR (c.conditionActive = 1 AND e.encounterType IN (24,25))))) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with malaria.&lt;BR/&gt;Numerator: All patients diagnosed with malaria within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care and HIV visits</description>
				<description lang="fr">Proportion des patients atteints de malaria.&lt;BR/&gt;Numérateur : tous les patients atteints de malaria pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire et VIH</description>
			</report>
			<report id="2217" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Malaria &lt; 5 years</title>
				<title lang="fr">Malaria (Paludisme) &lt; 5 ans</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e LEFT JOIN obs o ON e.encounter_id = o.encounter_id AND e.siteCode = o.location_id LEFT JOIN conditions c ON e.patientID = c.patientID AND e.siteCode = c.siteCode AND e.visitDateDd = c.visitDateDd AND e.visitDateMm = c.visitDateMm AND e.visitDateYy = c.visitDateYy AND e.seqNum = c.seqNum, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND $computed_age &lt; 5 and ((o.concept_id IN (70850,70851,71149,71148,71149,71150) AND o.value_boolean = 1) OR (c.conditionID IN (45,335) AND ((c.conditionActive IN (1,5) AND e.encounterType IN (16,17)) OR (c.conditionActive IN (1,4,5) AND e.encounterType IN (1,2)) OR (c.conditionActive = 1 AND e.encounterType IN (24,25))))) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients under age 5 diagnosed with malaria.&lt;BR/&gt;Numerator: All patients under age 5 diagnosed with malaria within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care and HIV visits</description>
				<description lang="fr">Proportion des patients &lt; 5 ans atteints de malaria.&lt;BR/&gt;Numérateur : tous les patients &lt; 5 ans atteints de malaria pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients &lt; 5 ans ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire et VIH</description>
			</report>
			<report id="2018" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Polio</title>
				<title lang="fr">Poliomyélite</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70333, 70334) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with polio.&lt;BR/&gt;Numerator: All patients diagnosed with polio within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care visits</description>
				<description lang="fr">Proportion des patients atteints de la poliomyélite.&lt;BR/&gt;Numérateur : tous les patients atteints de la poliomyélite pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
			<report id="2019" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Rabies</title>
				<title lang="fr">Rage</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70336, 70337) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with rabies.&lt;BR/&gt;Numerator: All patients diagnosed with rabies within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care visits</description>
				<description lang="fr">Proportion des patients atteints de la rage.&lt;BR/&gt;Numérateur : tous les patients atteints de la rage pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
			<report id="2020" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Measles</title>
				<title lang="fr">Rougeole</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e LEFT JOIN obs o ON e.encounter_id = o.encounter_id AND e.siteCode = o.location_id LEFT JOIN conditions c ON e.patientID = c.patientID AND e.siteCode = c.siteCode AND e.visitDateDd = c.visitDateDd AND e.visitDateMm = c.visitDateMm AND e.visitDateYy = c.visitDateYy AND e.seqNum = c.seqNum, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND ((o.concept_id IN (70339, 70340) AND o.value_boolean = 1) OR (c.conditionID IN (47) AND c.conditionActive IN (1,5))) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with measles.&lt;BR/&gt;Numerator: All patients diagnosed with measles within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care and HIV pediatric visits</description>
				<description lang="fr">Proportion des patients atteints de rougeole.&lt;BR/&gt;Numérateur : tous les patients atteints de rougeole pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire et VIH (pédiatriques)</description>
			</report>
			<report id="2021" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Rubella</title>
				<title lang="fr">Rubéole</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70317, 70318) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with rubella.&lt;BR/&gt;Numerator: All patients diagnosed with rubella within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care visits</description>
				<description lang="fr">Proportion des patients atteints de rubéole.&lt;BR/&gt;Numérateur : tous les patients atteints de rubéole pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
			<report id="2015" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Acute hemorrhagic fever</title>
				<title lang="fr">Syndrome de fièvre hémorragique aiguë</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70882, 70883) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with acute hemorrhagic fever.&lt;BR/&gt;Numerator: All patients diagnosed with acute hemorrhagic fever within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care visits</description>
				<description lang="fr">Proportion des patients atteints du syndrome de fièvre hémorragique aigüe.&lt;BR/&gt;Numérateur : tous les patients atteints du syndrome de fièvre hémorragique aigüe pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
			<report id="2022" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Febrile icteric syndrome</title>
				<title lang="fr">Syndrome ictérique fébrile</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70342, 70343) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with febrile icteric syndrome.&lt;BR/&gt;Numerator: All patients diagnosed with febrile icteric syndrome within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care visits</description>
				<description lang="fr">Proportion des patients atteints de syndrome ictérique fébrile.&lt;BR/&gt;Numérateur : tous les patients atteints de syndrome ictérique fébrile pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
			<report id="2023" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Tetanus</title>
				<title lang="fr">Tétanos</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70855, 70856) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with tetanus.&lt;BR/&gt;Numerator: All patients diagnosed with tetanus within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care visits</description>
				<description lang="fr">Proportion des patients atteints du tétanos.&lt;BR/&gt;Numérateur : tous les patients atteints du tétanos pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
			<report id="2024" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Tuberculosis (incidence)</title>
				<title lang="fr">Tuberculose (incidence)</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #tempIncidence1$user t1, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = t1.patientID AND p.patientID = e.patientID AND t1.visitDate BETWEEN '$start' AND '$end' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients with a new (first) diagnosis of tuberculosis.&lt;BR/&gt;Numerator: All patients with a new (first) diagnosis of tuberculosis within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care and HIV visits</description>
				<description lang="fr">Proportion des patients diagnostiqués pour la première fois avec la tuberculose.&lt;BR/&gt;Numérateur : tous les patients diagnostiqués pour la première fois avec la tuberculose pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire et VIH</description>
			</report>
			<report id="2025" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Tuberculosis (prevalence)</title>
				<title lang="fr">Tuberculose (prévalence)</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e LEFT JOIN obs o ON e.encounter_id = o.encounter_id AND e.siteCode = o.location_id LEFT JOIN conditions c ON e.patientID = c.patientID AND e.siteCode = c.siteCode AND e.visitDateDd = c.visitDateDd AND e.visitDateMm = c.visitDateMm AND e.visitDateYy = c.visitDateYy AND e.seqNum = c.seqNum, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND ((o.concept_id IN (70351, 70352) AND o.value_boolean = 1) OR (c.conditionID IN (21,208,397,409) AND ((c.conditionActive IN (1,5) AND e.encounterType IN (16,17)) OR (c.conditionActive IN (1,4,5) AND e.encounterType IN (1,2)) OR (c.conditionActive = 1 AND e.encounterType IN (24,25))))) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with tuberculosis.&lt;BR/&gt;Numerator: All patients diagnosed with tuberculosis within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care and HIV visits</description>
				<description lang="fr">Proportion des patients diagnostiqués avec la tuberculose.&lt;BR/&gt;Numérateur : tous les patients diagnostiqués avec la tuberculose pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire et VIH</description>
			</report>
			<report id="2026" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Typhoid</title>
				<title lang="fr">Typhoïde</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e LEFT JOIN obs o ON e.encounter_id = o.encounter_id AND e.siteCode = o.location_id LEFT JOIN conditions c ON e.patientID = c.patientID AND e.siteCode = c.siteCode AND e.visitDateDd = c.visitDateDd AND e.visitDateMm = c.visitDateMm AND e.visitDateYy = c.visitDateYy AND e.seqNum = c.seqNum, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND ((o.concept_id IN (70302, 70303) AND o.value_boolean = 1) OR (c.conditionID IN (50) AND c.conditionActive IN (1,5))) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with typhoid.&lt;BR/&gt;Numerator: All patients diagnosed with typhoid within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care and HIV pediatric visits</description>
				<description lang="fr">Proportion des patients atteints de la typhoïde.&lt;BR/&gt;Numérateur : tous les patients atteints de la typhoïde pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire et VIH (pédiatriques)</description>
			</report>
			<report id="2027" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">HIV</title>
				<title lang="fr">VIH</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, #temp2$user t2, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND p.patientID = t2.patientID AND e.encounterType IN (16,17,24,25,27,28,29,31) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with HIV.&lt;BR/&gt;Numerator: All patients diagnosed with HIV within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care, ob/gyn and HIV-exposed pediatric visits</description>
				<description lang="fr">Proportion des patients atteints du VIH.&lt;BR/&gt;Numérateur : tous les patients atteints du VIH pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire, ob-gyn et des enfants exposés au VIH</description>
			</report>
		</reportSubSet>
		<reportSubSet><!--  Prevalence - Trauma  -->
			<title lang="en">Prevalence - Trauma</title>
			<title lang="fr">Prévalence - Traumatisme</title>
			<report id="2028" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Burn</title>
				<title lang="fr">Brûlure</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70363, 70364) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with burn.&lt;BR/&gt;Numerator: All patients diagnosed with burn within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care visits</description>
				<description lang="fr">Proportion des patients souffrant du brûlure.&lt;BR/&gt;Numérateur : tous les patients souffrant de brûlure pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
			<report id="2029" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Fracture</title>
				<title lang="fr">Fracture osseuse</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70366, 70367) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with fracture.&lt;BR/&gt;Numerator: All patients diagnosed with fracture within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care visits</description>
				<description lang="fr">Proportion des patients souffrant d’une fracture osseuse.&lt;BR/&gt;Numérateur : tous les patients souffrant d’une fracture osseuse pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
			<report id="2030" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Wound - gunshot</title>
				<title lang="fr">Plaie par arme a feu</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e LEFT JOIN #temp1$user t1 ON e.patientID = t1.patientID, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND ((o.concept_id IN (70182) AND o.value_boolean = 1) OR t1.patientID IS NOT NULL) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with a gunshot wound.&lt;BR/&gt;Numerator: All patients diagnosed with a gunshot wound within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* adult primary care visits</description>
				<description lang="fr">Proportion des patients souffrant d’une plaie par arme à feu.&lt;BR/&gt;Numérateur : tous les patients souffrant d’une plaie par arme à feu pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire (adultes)</description>
			</report>
			<report id="2031" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Wound - knife</title>
				<title lang="fr">Plaie par arme blanche</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e LEFT JOIN #temp1$user t1 ON e.patientID = t1.patientID, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND ((o.concept_id IN (70183) AND o.value_boolean = 1) OR t1.patientID IS NOT NULL) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with a knife wound.&lt;BR/&gt;Numerator: All patients diagnosed with a knife wound within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* adult primary care visits</description>
				<description lang="fr">Proportion des patients souffrant d’une plaie par arme blanche.&lt;BR/&gt;Numérateur : tous les patients souffrant d’une plaie par arme blanche pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire (adultes)</description>
			</report>
			<report id="2032" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Head trauma</title>
				<title lang="fr">Traumatisme crânien</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70374, 70375) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with head trauma.&lt;BR/&gt;Numerator: All patients diagnosed with head trauma within the specified time period&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care visits</description>
				<description lang="fr">Proportion des patients souffrant d’un traumatisme crânien.&lt;BR/&gt;Numérateur : tous les patients souffrant d’un traumatisme crânien pendant une période donnée&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
		</reportSubSet>
		<reportSubSet><!--  Prevalence - Pediatric Disorders  -->
			<title lang="en">Prevalence - Pediatric Disorders</title>
			<title lang="fr">Prévalence - Troubles pédiatriques</title>
			<report id="2033" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Falciform anemia</title>
				<title lang="fr">Anémie falciforme</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = t1.patientID AND p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70912, 70951) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' AND t1.startDays BETWEEN 0 AND 15 * $days_in_year GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of children with falciform anemia.&lt;BR/&gt;Numerator: All children age &#8804; 14 yrs diagnosed with falciform anemia in the specified time period&lt;BR/&gt;Denominator: All children age &#8804; 14 yrs with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care visits</description>
				<description lang="fr">Proportion des enfants souffrant d’anémie falciforme.&lt;BR/&gt;Numérateur : tous les enfants âgés de moins de 14 ans souffrant d’anémie falciforme pendant une période donnée&lt;BR/&gt;Dénominateur : tous les enfants âgés de moins de 14 ans ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
			<report id="2034" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Mental health diagnosis</title>
				<title lang="fr">Troubles psychiatriques</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = t1.patientID AND p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70357, 70358) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' AND t1.startDays BETWEEN 0 AND 15 * $days_in_year GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of children diagnosed with a mental health problem.&lt;BR/&gt;Numerator: All children diagnosed with a mental health problem in the specified time period&lt;BR/&gt;Denominator: All children with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care visits</description>
				<description lang="fr">Proportion des enfants souffrant de troubles psychiatriques.&lt;BR/&gt;Numérateur : tous les enfants souffrant de troubles psychiatriques pendant une période donnée&lt;BR/&gt;Dénominateur : tous les enfants ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
		</reportSubSet>
		<reportSubSet><!--  Performance - Diabetes -->
			<title lang="en">Performance - Diabetes</title>
			<title lang="fr">Résultat - Diabètes</title>
			<report id="2002" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Screening for nephropathy</title>
				<title lang="fr">Diabètes - recherche de néphropathie</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e, a_labs l, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = t1.patientID AND p.patientID = e.patientID AND e.patientID = l.patientID AND e.visitDate = l.visitDate AND (l.ordered = 1 or l.result is not null or ltrim(rtrim(l.result)) != '' or l.result2 is not null or ltrim(rtrim(l.result2)) != '' or l.result3 is not null or ltrim(rtrim(l.result3)) != '' or l.result4 is not null or ltrim(rtrim(l.result4)) != '' or l.resultAbnormal is not null or l.resultDateyy is not null or ltrim(rtrim(l.resultDateyy)) != '' and l.resultRemarks is not null or ltrim(rtrim(l.resultRemarks)) != '') AND (testnamefr like '%urine%' or testnamefr like '%uree%') AND e.encounterType IN (6,27,28,29,31) AND e.siteCode = '$site' AND e.visitDate BETWEEN DATEADD(mm, -12, '$start') AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients diagnosed with diabetes who’ve had a test for urine protein.&lt;BR/&gt;Numerator: All patients diagnosed with diabetes who had a urinalysis test in the past year&lt;BR/&gt;Denominator: All patients diagnosed with diabetes and a visit* within the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care and HIV adult visits</description>
				<description lang="fr">Proportion des patients diagnostiqués avec du diabète qui ont effectué une analyse d’urine pour rechercher le taux de protéine.&lt;BR/&gt;Numérateur : tous les patients diagnostiqués avec du diabète qui ont effectué une analyse d’urine dans l’année précédente&lt;BR/&gt;Dénominateur : tous les patients diagnostiqués avec du diabètes qui ont effectué une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire et VIH (adultes)</description>
			</report>
		</reportSubSet>
		<reportSubSet><!--  Performance - General  -->
			<title lang="en">Performance - General</title>
			<title lang="fr">Résultat - Général</title>
			<report id="2500" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">HIV testing</title>
				<title lang="fr">Test VIH</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e LEFT JOIN obs o ON e.encounter_id = o.encounter_id AND e.siteCode = o.location_id LEFT JOIN a_labs l ON e.patientID = l.patientID AND e.siteCode = l.siteCode AND e.visitDateDd = l.visitDateDd AND e.visitDateMm = l.visitDateMm AND e.visitDateYy = l.visitDateYy AND e.seqNum = l.seqNum, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND ((o.concept_id IN (70599) AND o.value_boolean = 1) OR ((l.ordered = 1 or l.result is not null or ltrim(rtrim(l.result)) != '' or l.result2 is not null or ltrim(rtrim(l.result2)) != '' or l.result3 is not null or ltrim(rtrim(l.result3)) != '' or l.result4 is not null or ltrim(rtrim(l.result4)) != '' or l.resultAbnormal is not null or l.resultDateyy is not null or ltrim(rtrim(l.resultDateyy)) != '' and l.resultRemarks is not null or ltrim(rtrim(l.resultRemarks)) != '') AND (l.testnamefr like '%hiv%' or l.testnamefr like '%vih%'))) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients who received an HIV test.&lt;BR/&gt;Numerator: All patients who received an HIV test&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care and HIV-exposed pediatric visits</description>
				<description lang="fr">Proportion des patients qui effectué un test VIH.&lt;BR/&gt;Numérateur : tous les patients qui ont effectué un test VIH&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire et des enfants exposés au VIH</description>
			</report>
			<report id="2547" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Malaria testing</title>
				<title lang="fr">Test Malaria</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e LEFT JOIN obs o ON e.encounter_id = o.encounter_id AND e.siteCode = o.location_id LEFT JOIN a_labs l ON e.patientID = l.patientID AND e.siteCode = l.siteCode AND e.visitDateDd = l.visitDateDd AND e.visitDateMm = l.visitDateMm AND e.visitDateYy = l.visitDateYy AND e.seqNum = l.seqNum, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND ((o.concept_id IN (71154,71155,71156) AND o.value_boolean = 1) OR ((l.ordered = 1 or l.result is not null or ltrim(rtrim(l.result)) != '' or l.result2 is not null or ltrim(rtrim(l.result2)) != '' or l.result3 is not null or ltrim(rtrim(l.result3)) != '' or l.result4 is not null or ltrim(rtrim(l.result4)) != '' or l.resultAbnormal is not null or l.resultDateyy is not null or ltrim(rtrim(l.resultDateyy)) != '' and l.resultRemarks is not null or ltrim(rtrim(l.resultRemarks)) != '') AND (l.testnamefr like '%malaria%' or l.testnamefr like '%plasmodiun%'))) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients who received a malaria test.&lt;BR/&gt;Numerator: All patients who received a malaria test&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care and HIV-exposed pediatric visits</description>
				<description lang="fr">Proportion des patients qui effectué un test malaria.&lt;BR/&gt;Numérateur : tous les patients qui ont effectué un test malaria&lt;BR/&gt;Dénominateur : tous les patients ayant passé une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
			<report id="2501" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Malnutrition - nutrition referral (Adults)</title>
				<title lang="fr">Malnutrition - prescription de nutrition (adultes)</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e, #temp1$user t1, #temp2$user t2, #temp3$user t3, #temp4$user t4, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND p.patientID = t2.patientID AND p.patientID = t3.patientID AND p.patientID = t4.patientID AND p.patientID NOT IN (SELECT patientID FROM #temp5$user) AND ((t2.startDays >= 15 * $days_in_year AND t2.startDays &lt; 19 * $days_in_year AND t3.visitDate BETWEEN DATEADD(month, -6, '$start') AND '$end') OR t2.startDays >= 19 * $days_in_year) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' AND ROUND(CONVERT(float, t1.wt / (CONVERT(float, t3.ht) * CONVERT(float, t3.ht))), 0) &lt; '18.5' AND t4.visitDate >= t1.visitDate GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of underweight adult patients referred to a nutrition program.&lt;BR/&gt;Numerator: All adult patients with a BMI &lt; 18.5 who received a referral to a nutrition program at their visit&lt;BR/&gt;Denominator: All adult patients with a BMI &lt; 18.5 and a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care and ob/gyn (non-pregnant) visits</description>
				<description lang="fr">Proportion des patients avec une insuffisance pondérale qui ont reçu une prescription pour un programme de nutrition.&lt;BR/&gt;Numérateur : tous les patients dont l’IMC est &lt; 18,5 qui ont reçu prescription pour un programme de nutrition lors de leur visite&lt;BR/&gt;Dénominateur : tous les patients dont l’IMC est &lt; 18,5 qui ont effectué une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire et ob-gyn (sauf enceinte)</description>
			</report>
			<report id="2502" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Tetanus booster immunization</title>
				<title lang="fr">Rappel de vaccination contre le tétanos</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = t1.patientID AND p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70411) AND o.value_boolean = 1 AND e.encounterType IN (27,28) AND e.siteCode = '$site' AND e.visitDate &lt;= '$end' AND t1.startDays >= 15 * $days_in_year GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of adult patients who have received a tetanus toxoid immunization.&lt;BR/&gt;Numerator: All adult patients who have received a tetanus booster immunization&lt;BR/&gt;Denominator: All patients &#8805; 15 yrs with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care visits</description>
				<description lang="fr">Proportion des patients adultes qui ont reçu une immunisation anatoxine tétanique.&lt;BR/&gt;Numérateur : tous les patients adultes qui ont reçu un rappel de vaccination du tétanos&lt;BR/&gt;Dénominateur : tous les patients âgés de plus de 15 ans ayant effectué une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
			<report id="2509" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Malaria treatment</title>
				<title lang="fr">Traitement malaria</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e, a_prescriptions o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.sitecode AND o.drugid IN (60,62,85) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients who’ve received treatment for malaria (chloroquinine, paraquinine, quinine).&lt;BR/&gt;Numerator: All patients who've received medication to treat malaria&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care visits</description>
				<description lang="fr">Proportion patients ayant reçu un traitement malaria (chloroquinine, paraquinine, quinine).&lt;BR/&gt;Numérateur : tous les patients ayant reçu un traitement malaria&lt;BR/&gt;Dénominateur : tous les patients vus* pendant une période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
		</reportSubSet>
		<reportSubSet><!--  Performance - Pediatric -->
			<title lang="en">Performance - Pediatric</title>
			<title lang="fr">Résultat - Pédiatrique</title>
			<report id="2505" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Psychomotor development</title>
				<title lang="fr">Développement psychomoteur</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e LEFT JOIN obs o ON e.encounter_id = o.encounter_id AND e.siteCode = o.location_id LEFT JOIN vitals c ON e.patientID = c.patientID AND e.siteCode = c.siteCode AND e.visitDateDd = c.visitDateDd AND e.visitDateMm = c.visitDateMm AND e.visitDateYy = c.visitDateYy AND e.seqNum = c.seqNum, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND ((o.concept_id IN (70746,70747,70748,70749) AND o.value_numeric = 2) OR ((c.pedPsychoMotorGross = 2 OR c.pedPsychoMotorFine = 2 OR c.pedPsychoMotorLang = 2 OR c.pedPsychoMotorSocial = 2) AND e.encounterType IN (16,17))) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of children with delayed psychomotor development.&lt;BR/&gt;Numerator: All children with psychomotor development rated abnormal&lt;BR/&gt;Denominator: All children with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care and HIV pediatric visits</description>
				<description lang="fr">Proportion des enfants avec un retard du développement psychomoteur.&lt;BR/&gt;Numérateur : tous les enfants avec un retard du développement psychomoteur&lt;BR/&gt;Dénominateur : tous les enfants ayant effectué une visite* pendant la période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire et VIH (pédiatriques)</description>
			</report>
                        <!--
			<report id="2506" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Pediatric immunizations</title>
				<title lang="fr">Immunisations pédiatriques</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN t1.otherID IS NULL THEN 'N/A' ELSE t1.otherID END AS clinicPatientID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM patient p, encValidAll e, tempId1$user t1, temp1$user t2, temp2$user t3 WHERE e.siteCode = '$site' AND e.encounterType IN (29,31) AND e.visitDate BETWEEN '$start' AND '$end' AND p.patientID = e.patientID AND p.patientID = t1.patientID AND p.patientID = t2.patientID AND p.patientID = t3.patientID GROUP BY 1,2,3,4,5,6,7 ORDER BY 2</query>
				<description lang="en">Proportion of children who’ve received all recommended immunizations for their age according to national guidelines.&lt;BR/&gt;Numerator: All children who've received all recommended immunizations&lt;BR/&gt;Denominator: All children with a visit* in the specified time periodenfants avec un retard du développement psychomoteur&lt;BR/&gt; &lt;BR/&gt;* primary care visits</description>
				<description lang="fr">Proportion des enfants immunisés selon les recommandations internationales en fonction de leur âge.&lt;BR/&gt;Numérateur : tous les enfants de moins de 15 ans qui ont été immunisés selon les recommandations&lt;BR/&gt;Dénominateur : tous les enfants de moins de 15 ans vus* pendant une période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
                        -->
			<report id="2507" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Supplementation</title>
				<title lang="fr">Supplément nutritionnel</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id = 71054 AND o.value_numeric = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of children who’ve received dietary supplementation.&lt;BR/&gt;Numerator: All pediatric patients receiving supplementation&lt;BR/&gt;Denominator: All pediatric patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care visits</description>
				<description lang="fr">Proportion des enfants qui ont reçu des suppléments nutritionnels.&lt;BR/&gt;Numérateur : tous les patients en pédiatrie recevant des suppléments nutritionnels&lt;BR/&gt;Dénominateur : tous les patients vus* en pédiatrie pendant une période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
			<report id="2508" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Anti-helminth treatment</title>
				<title lang="fr">Traitement antihelminthique</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70769,70774,70779,70784,70789,70794,71124) AND o.value_datetime &lt;= '$end' AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of children who’ve received treatment for helminth infection.&lt;BR/&gt;Numerator: All pediatric patients who've received medication to treat helmintic infections&lt;BR/&gt;Denominator: All pediatric patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care visits</description>
				<description lang="fr">Proportion d’enfants ayant reçu un traitement antihelminthique.&lt;BR/&gt;Numérateur : tous les patients en pédiatrie ayant reçu un traitement antihelminthique&lt;BR/&gt;Dénominateur : tous les patients vus* en pédiatrie pendant une période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
			<report id="2647" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Malaria testing &lt; 5 years</title>
				<title lang="fr">Test Malaria &lt; 5 ans</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e LEFT JOIN obs o ON e.encounter_id = o.encounter_id AND e.siteCode = o.location_id LEFT JOIN a_labs l ON e.patientID = l.patientID AND e.siteCode = l.siteCode AND e.visitDateDd = l.visitDateDd AND e.visitDateMm = l.visitDateMm AND e.visitDateYy = l.visitDateYy AND e.seqNum = l.seqNum, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND $computed_age &lt; 5 AND ((o.concept_id IN (71154,71155,71156) AND o.value_boolean = 1) OR ((l.ordered = 1 or l.result is not null or ltrim(rtrim(l.result)) != '' or l.result2 is not null or ltrim(rtrim(l.result2)) != '' or l.result3 is not null or ltrim(rtrim(l.result3)) != '' or l.result4 is not null or ltrim(rtrim(l.result4)) != '' or l.resultAbnormal is not null or l.resultDateyy is not null or ltrim(rtrim(l.resultDateyy)) != '' and l.resultRemarks is not null or ltrim(rtrim(l.resultRemarks)) != '') AND (l.testnamefr like '%malaria%' or l.testnamefr like '%plasmodiun%'))) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Number of patients &lt; 5 years tested for malaria during the period of review.</description>
				<description lang="fr">Qté des patients qui ont été testées pour la malaria au cours du mois du rapport.</description>
			</report>
			<report id="2609" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Malaria treatment &lt; 5 years</title>
				<title lang="fr">Traitement malaria &lt; 5 ans</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e, a_prescriptions o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.sitecode AND o.drugid IN (60,62,85) AND $computed_age &lt; 5 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients under 5 years who’ve received treatment for malaria (chloroquinine, paraquinine, quinine).&lt;BR/&gt;Numerator: All patients who've received medication to treat malaria&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care visits</description>
				<description lang="fr">Proportion patients &lt; 5 ans ayant reçu un traitement malaria (chloroquinine, paraquinine, quinine).&lt;BR/&gt;Numérateur : tous les patients ayant reçu un traitement malaria&lt;BR/&gt;Dénominateur : tous les patients vus* pendant une période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
		</reportSubSet>
		<reportSubSet><!--  Performance - Tuberculosis (TB) -->
			<title lang="en">Performance - Tuberculosis (TB)</title>
			<title lang="fr">Résultat - Tuberculose (TB)</title>
			<report id="2504" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">TB symptom evaluation</title>
				<title lang="fr">Évaluation des symptômes de la tuberculose</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, #temp2$user t2, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70039 WHERE p.patientID = t1.patientID AND p.patientID = t2.patientID AND p.patientID = e.patientID AND e.encounterType IN (1,2,16,17,27,28,29,31) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of patients with symptoms suggestive of TB infection who’ve been further evaluated.&lt;BR/&gt;Numerator: All patients with:&lt;BR/&gt; 1) &#8805; 2 of following symptoms reported at a single visit: fever &#8805; 2 weeks, cough &#8805; 2 weeks, weight loss, hemoptysis, and&lt;BR/&gt; 2) had a sputum test and/or a chest XRay in the specified time period&lt;BR/&gt;Denominator: All patients with &#8805; 2 of following symptoms reported at a single visit: fever &#8805; 2 weeks, cough &#8805; 2 weeks, weight loss, hemoptysis at a single visit* within the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care and HIV visits</description>
				<description lang="fr">Proportion des patients avec des symptômes évocateurs d’infection de la tuberculose qui ont été examinés plus en détail.&lt;BR/&gt;Numérateur : tous les patients avec&lt;BR/&gt; 1) au moins 2 des symptômes suivants reportés lors d’une visite unique : plus de 2 semaines de fièvre, plus de 2 semaines de toux, plus de 2 semaines de perte de poids, hémoptysie et&lt;BR/&gt; 2) ayant effectué un test de salive et/ou une radio des poumons&lt;BR/&gt;Dénominateur : tous les patients avec au moins 2 des symptômes suivants reportés lors d’une visite unique : plus de 2 semaines de fièvre, plus de 2 semaines de toux, plus de 2 semaines de perte de poids, hémoptysie ; sur une période donnée*&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire et VIH</description>
			</report>
		</reportSubSet>
	</reportSet>
	<reportSet rtype="obGynAntenatal"> <!--  Antenatal reports -->
		<title lang="en">Antenatal</title>
		<title lang="fr">Prénatal</title>
		<reportSubSet><!-- Antenatal -->
			<title lang="en">Antenatal</title>
			<title lang="fr">Prénatal</title>
			<report id="3000" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Percentage of patients with prenatal visits in first trimester</title>
				<title lang="fr">Pourcentage des patients avec visites prénatales au cours du premier trimestre</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, #temp2$user t2, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = t1.patientID AND p.patientID = t2.patientID AND p.patientID = e.patientID AND t2.dpa >= DATEADD(month, 6, t2.visitDate) GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of pregnant women with at least one prenatal visit during the first trimester.&lt;BR/&gt;Numerator: All pregnant women with at least one ob/gyn visit in the specified time period which fell during their first trimester&lt;BR/&gt;Denominator: All pregnant women with at least one ob/gyn visit with completed DPA within the specified time period</description>
				<description lang="fr">Proportion des femmes enceintes ayant passé une visite prénatal pendant le premier trimestre.&lt;BR/&gt;Numérateur : tous les femmes enceintes ayant passé une visite prénatal pendant le premier trimestre&lt;BR/&gt;Dénominateur : tous les femmes enceintes ayant passé une visite ob-gyn avec la DPA entrée durant la période d'analyse</description>
			</report>
			<report id="3001" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Frequency of prenatal visits per patient</title>
				<title lang="fr">Fréquence des visites prénatales par patient</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
                <query>select count(distinct case when A.vis_count=1 then patientID else null end) as '1 visite prénatale' ,count(distinct case when A.vis_count=2 then patientID else null end) as '2 visites prénatales' ,count(distinct case when A.vis_count=3 then patientID else null end) as '3 visites prénatales' , count(distinct case when A.vis_count>3 then patientID else null end) as '4 visites et plus',count(distinct A.patientID) as Patient	from ( SELECT p.patientID, count(distinct e.visitDate) as vis_count FROM  encValidAll e, patient p JOIN obs o1 ON (p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70018) WHERE  p.patientID = e.patientID  AND e.encounter_id=o1.encounter_id AND e.encounterType IN (24,25) AND e.visitDate BETWEEN '$start' AND '$end' group by 1)A </query>
				<description lang="en">Stratified count of the number of patients that had no prenatal visits, 1-3 visits or more than 3 visits prior to their delivery during the specified time period.</description>
				<description lang="fr">Compter stratifié du nombre de patients qui n'avaient pas de visites prénatales, avaient 1-3 visites ou plus de 3 visites avant leur accouchement durant la période d'analyse.</description>
			</report>
			<report id="3003" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Total number of prenatal visits per site</title>
				<title lang="fr">Nombre total de visites prénatales par site</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e, patient p JOIN obs o1 ON (p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70018) WHERE p.patientID = e.patientID AND e.encounter_id=o1.encounter_id AND e.encounterType IN (24,25,26) AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7 ORDER BY 2,3</query>
				<description lang="en">Proportion of pregnant women with at least one prenatal visit during the specified time period.&lt;BR/&gt;Numerator: All pregnant women with at least one ob/gyn visit prior to the end of the specified time period also having an ob/gyn visit during the specified time period&lt;BR/&gt;Denominator: All pregnant women with at least one ob/gyn visit prior to the end of the specified time period</description>
				<description lang="fr">Proportion des femmes enceintes ayant passé une visite prénatal durant la période d'analyse.&lt;BR/&gt;Numérateur : tous les femmes enceintes ayant passé une visite prénatal durant la période d'analyse&lt;BR/&gt;Dénominateur : tous les femmes enceintes ayant passé une visite ob-gyn avant le fin de la période d'analyse</description>
			</report>
			<report id="3100" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of pregnant women who had a first prenatal visit</title>
				<title lang="fr">Nombre de femmes enceintes vues en première consultation prénatale</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT distinct p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(x.visitDate) AS LastDate FROM ( SELECT  ymdToDate(visitDateYy,visitDateMm,visitDateDd) as startDate,patientID,siteCode FROM `medicalEligARVs` WHERE pregnantWomen=1 union SELECT  e.visitDate, e.patientID, e.siteCode FROM  `obs` o, encounter e WHERE e.encounter_id = o.encounter_id AND o.concept_id IN (71262,7959,7098,7051,7053,7052,70118,70132,70150,70144,70130,70148,71140,70128,71398,70084,70069,70082,70078,70086,70066,70103,70624,70068,70087,70733,7958,71068,70732,7960,71070,7967,70730,70591,70731,70750,7957,70126,7955,71067,70729,7806,70067,70826,7805,70827,7804,70465,70018,70466,70083,70465) and (o.value_text &lt;>'' or o.value_numeric>0 or o.value_boolean>0 or value_datetime is not null) union select  ymdToDate(visitDateYy,visitDateMm,visitDateDd) as startDate,patientID,siteCode from labs where labID in (134,1603,1601,1602) and (result=1 or upper(result) like 'POS%') union select visitDate ,patientId,siteCode from encounter where encounterType=26 and encStatus &lt; 255) en,(SELECT e.patientID, MIN(e.visitDate) AS visitDate FROM encValidAll e, obs o WHERE encounterType in (24,25) AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70018) AND o.value_boolean = 1 GROUP BY 1) x, patient p   WHERE p.patientID = en.patientID AND x.patientID=p.patientID  AND p.location_id = '$site'  and en.startDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7 ORDER BY 2,3</query>
				<description lang="en">Number of pregnant women seen in prenatal clinic for the first time during current pregnancy during the period of review.</description>
				<description lang="fr">Qté de femmes enceintes qui se sont présentées ou ont été amenées à la clinique prénatale pour la première fois au cours de leur grossesse actuelle au cours du mois du rapport.</description>
			</report>
			<report id="3211" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of pregnant women diagnosed with malaria</title>
				<title lang="fr">Nombre de femmes enceintes diagnostiquées malaria (+)</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obgynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e LEFT JOIN obs o ON e.encounter_id = o.encounter_id AND e.siteCode = o.location_id LEFT JOIN conditions c ON e.patientID = c.patientID AND e.siteCode = c.siteCode AND e.visitDateDd = c.visitDateDd AND e.visitDateMm = c.visitDateMm AND e.visitDateYy = c.visitDateYy AND e.seqNum = c.seqNum, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = t1.patientID AND p.patientID = e.patientID AND ((o.concept_id IN (70850,70851,71149,71148,71149,71150) AND o.value_boolean = 1) OR (c.conditionID IN (45,335) AND ((c.conditionActive IN (1,5) AND e.encounterType IN (16,17)) OR (c.conditionActive IN (1,4,5) AND e.encounterType IN (1,2)) OR (c.conditionActive = 1 AND e.encounterType IN (24,25))))) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Number of pregnant women diagnosed with malaria during the period of review.</description>
				<description lang="fr">Nombre de femmes enceintes diagnostiquées avec la malaria au cours de la période.</description>
			</report>
			<report id="3247" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of pregnant women tested for malaria</title>
				<title lang="fr">Nombre de femmes enceintes testées pour la malaria</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obgynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e LEFT JOIN obs o ON e.encounter_id = o.encounter_id AND e.siteCode = o.location_id LEFT JOIN a_labs l ON e.patientID = l.patientID AND e.siteCode = l.siteCode AND e.visitDateDd = l.visitDateDd AND e.visitDateMm = l.visitDateMm AND e.visitDateYy = l.visitDateYy AND e.seqNum = l.seqNum, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND ((o.concept_id IN (71154,71155,71156) AND o.value_boolean = 1) OR ((l.ordered = 1 or l.result is not null or ltrim(rtrim(l.result)) != '' or l.result2 is not null or ltrim(rtrim(l.result2)) != '' or l.result3 is not null or ltrim(rtrim(l.result3)) != '' or l.result4 is not null or ltrim(rtrim(l.result4)) != '' or l.resultAbnormal is not null or l.resultDateyy is not null or ltrim(rtrim(l.resultDateyy)) != '' and l.resultRemarks is not null or ltrim(rtrim(l.resultRemarks)) != '') AND (l.testnamefr like '%malaria%' or l.testnamefr like '%plasmodiun%'))) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Number of pregnant women tested for malaria during the period of review.</description>
				<description lang="fr">Qté de femmes enceintes qui ont été testées pour la malaria au cours du mois du rapport.</description>
			</report>
			<report id="3509" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of pregnant women treated for malaria</title>
				<title lang="fr">Nombre de femmes enceintes ayant reçu un traitement malaria</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e, a_prescriptions o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.sitecode AND o.drugid IN (60,62,85) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Proportion of pregnant females who received treatment for malaria (chloroquinine, paraquinine, quinine).&lt;BR/&gt;Numerator: All patients who've received medication to treat malaria&lt;BR/&gt;Denominator: All patients with a visit* in the specified time period&lt;BR/&gt; &lt;BR/&gt;* primary care visits</description>
				<description lang="fr">Proportion femmes enceintes ayant reçu un traitement malaria (chloroquinine, paraquinine, quinine).&lt;BR/&gt;Numérateur : tous les patients ayant reçu un traitement malaria&lt;BR/&gt;Dénominateur : tous les patients vus* pendant une période donnée&lt;BR/&gt; &lt;BR/&gt;* les visites de soins de santé primaire</description>
			</report>
			<report id="3147" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of pregnant women tested for syphilis</title>
				<title lang="fr">Nombre de femmes enceintes testées pour la syphilis</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e, a_labs l, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = t1.patientID AND p.patientID = e.patientID AND e.patientID = l.patientID AND e.visitDate = l.visitDate AND (l.ordered = 1 or l.result is not null or ltrim(rtrim(l.result)) != '' or l.result2 is not null or ltrim(rtrim(l.result2)) != '' or l.result3 is not null or ltrim(rtrim(l.result3)) != '' or l.result4 is not null or ltrim(rtrim(l.result4)) != '' or l.resultAbnormal is not null or l.resultDateyy is not null or ltrim(rtrim(l.resultDateyy)) != '' and l.resultRemarks is not null or ltrim(rtrim(l.resultRemarks)) != '') AND (l.testnamefr like '%syphilis%' or l.testnamefr like '%rpr%') AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Number of pregnant women tested for syphilis during the period of review.</description>
				<description lang="fr">Qté de femmes enceintes qui ont été testées pour la sypilis au cours du mois du rapport.</description>
			</report>
			<report id="3111" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of pregnant women diagnosed with syphilis</title>
				<title lang="fr">Nombre de femmes enceintes diagnostiquées syphilis (+)</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e LEFT JOIN obs o ON e.encounter_id = o.encounter_id AND e.siteCode = o.location_id LEFT JOIN conditions c ON e.patientID = c.patientID AND e.siteCode = c.siteCode AND e.visitDateDd = c.visitDateDd AND e.visitDateMm = c.visitDateMm AND e.visitDateYy = c.visitDateYy AND e.seqNum = c.seqNum, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = t1.patientID AND p.patientID = e.patientID AND ((o.concept_id IN (71021, 71022) AND o.value_boolean = 1) OR (c.conditionID IN (350) AND ((c.conditionActive IN (1,5) AND e.encounterType IN (16,17)) OR (c.conditionActive IN (1,4,5) AND e.encounterType IN (1,2)) OR (c.conditionActive = 1 AND e.encounterType IN (24,25))))) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Number of pregnant women diagnosed with syphilis during the period of review.</description>
				<description lang="fr">Qté de femmes enceintes pour lesquelles le résultat du test de syphilis  s'est révélé positif au cours du mois du rapport.</description>
			</report>
			<report id="3133" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of visits by pregnant women to the clinic</title>
				<title lang="fr">Nombre de visites de femmes enceintes reçues en clinique</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT distinct p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(en.startDate) AS LastDate FROM (  SELECT  ymdToDate(visitDateYy,visitDateMm,visitDateDd) as startDate,patientID,siteCode FROM `medicalEligARVs` WHERE pregnantWomen=1 union SELECT  e.visitDate, e.patientID, e.siteCode FROM  `obs` o, encounter e WHERE e.encounter_id = o.encounter_id AND o.concept_id IN (71262,7959,7098,7051,7053,7052,70118,70132,70150,70144,70130,70148,71140,70128,71398,70084,70069,70082,70078,70086,70066,70103,70624,70068,70087,70733,7958,71068,70732,7960,71070,7967,70730,70591,70731,70750,7957,70126,7955,71067,70729,7806,70067,70826,7805,70827,7804,70465,70018,70466,70083) and (o.value_text &lt;>'' or o.value_numeric>0 or o.value_boolean>0 or value_datetime is not null) union select  ymdToDate(visitDateYy,visitDateMm,visitDateDd) as startDate,patientID,siteCode from labs where labID in (134,1603,1601,1602) and (result=1 or upper(result) like 'POS%') union select visitDate ,patientId,siteCode from encounter where encounterType=26 and encStatus &lt; 255) en,patient p  WHERE p.patientID = en.patientID   AND p.location_id = '$site'  and en.startDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7 ORDER BY 2,3</query>
				<description lang="en">Number of visits by pregnant women to the clinic during the period of review.</description>
				<description lang="fr">Nombre de visites de femmes enceintes recues en clinique durant la période d'analyse.</description>
			</report>
			<report id="3134" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of pregnant women seen for their first prenatal visit</title>
				<title lang="fr">Nombre de femmes enceintes vues en première visite</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT distinct p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(x.visitDate) AS LastDate FROM ( SELECT  ymdToDate(visitDateYy,visitDateMm,visitDateDd) as startDate,patientID,siteCode FROM `medicalEligARVs` WHERE pregnantWomen=1 union SELECT  e.visitDate, e.patientID, e.siteCode FROM  `obs` o, encounter e WHERE e.encounter_id = o.encounter_id AND o.concept_id IN (71262,7959,7098,7051,7053,7052,70118,70132,70150,70144,70130,70148,71140,70128,71398,70084,70069,70082,70078,70086,70066,70103,70624,70068,70087,70733,7958,71068,70732,7960,71070,7967,70730,70591,70731,70750,7957,70126,7955,71067,70729,7806,70067,70826,7805,70827,7804,70465,70018,70466,70083,70465) and (o.value_text &lt;>'' or o.value_numeric>0 or o.value_boolean>0 or value_datetime is not null) union select  ymdToDate(visitDateYy,visitDateMm,visitDateDd) as startDate,patientID,siteCode from labs where labID in (134,1603,1601,1602) and (result=1 or upper(result) like 'POS%') union select visitDate ,patientId,siteCode from encounter where encounterType=26 and encStatus &lt; 255) en,(SELECT e.patientID, MIN(e.visitDate) AS visitDate FROM encValidAll e, obs o WHERE encounterType in (24,25) AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70018) AND o.value_boolean = 1 GROUP BY 1) x, patient p   WHERE p.patientID = en.patientID AND x.patientID=p.patientID  AND p.location_id = '$site'  and en.startDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7 ORDER BY 2,3</query>
				<description lang="en">Number of pregnant women with first prenatal visit during the period of review.</description>
				<description lang="fr">Nombre de femmes enceintes vues en première visite prénatale durant la période d'analyse.</description>
			</report>
			<report id="3135" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of women seen for their first prenatal visit &lt; 1st trimester</title>
				<title lang="fr">Nombre de femmes enceintes vues en première visite pendant leur 1er trimestre</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT distinct p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(x.visitDate) AS LastDate FROM ( SELECT  ymdToDate(visitDateYy,visitDateMm,visitDateDd) as startDate,patientID,siteCode FROM `medicalEligARVs` WHERE pregnantWomen=1 union SELECT  e.visitDate, e.patientID, e.siteCode FROM  `obs` o, encounter e WHERE e.encounter_id = o.encounter_id AND o.concept_id IN (71262,7959,7098,7051,7053,7052,70118,70132,70150,70144,70130,70148,71140,70128,71398,70084,70069,70082,70078,70086,70066,70103,70624,70068,70087,70733,7958,71068,70732,7960,71070,7967,70730,70591,70731,70750,7957,70126,7955,71067,70729,7806,70067,70826,7805,70827,7804,70465,70018,70466,70083) and (o.value_text &lt;>'' or o.value_numeric>0 or o.value_boolean>0 or value_datetime is not null) union select  ymdToDate(visitDateYy,visitDateMm,visitDateDd) as startDate,patientID,siteCode from labs where labID in (134,1603,1601,1602) and (result=1 or upper(result) like 'POS%') union select visitDate ,patientId,siteCode from encounter where encounterType=26 and encStatus &lt; 255) en,(SELECT e.patientID, MIN(e.visitDate) AS visitDate FROM encValidAll e, obs o WHERE encounterType in (24,25) AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70018) AND o.value_boolean = 1 GROUP BY 1) x,(select e.patientID,e.visitDate,o.value_datetime as ddr from encounter e,obs o where e.encounter_id=o.encounter_id and o.concept_id='70465' and e.visitDate between '$start' AND '$end' AND e.siteCode = '$site') dd,patient p WHERE p.patientID = en.patientID  AND x.patientID=p.patientID  AND dd.patientID=x.patientID AND TIMESTAMPDIFF(MONTH, x.visitDate,dd.ddr) &lt;4  AND p.location_id= '$site'  and en.startDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7 ORDER BY 2,3</query>
				<description lang="en">Number of pregnant women with first prenatal visit with gestational age &lt; 13 weeks during the period of review.</description>
				<description lang="fr">Nombre de femmes enceintes vues en première visite prénatales pendant leur 1er trimestre de grossesse durant la période d'analyse.</description>
			</report>
			<report id="3136" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of women seen for their first prenatal visit > 1st trimester</title>
				<title lang="fr">Nombre de femmes enceintes vues en première visite après leur 1er trimestre</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(x.visitDate) AS LastDate FROM #temp1$user t1, #temp2$user t2, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040, (SELECT e.patientID, MIN(e.visitDate) AS visitDate FROM encValidAll e, obs o WHERE e.visitDate BETWEEN '$start' AND '$end' AND e.siteCode = '$site' AND e.encounterType IN (24,25) AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (7860,70018) AND (o.value_boolean = 1 OR o.value_text = 2) GROUP BY 1) x WHERE p.patientID = x.patientID AND p.patientID = t1.patientID AND p.patientID = t2.patientID AND x.visitDate > DATEADD(dd, 98, t2.lmpDate) GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Number of pregnant women with first prenatal visit with gestational age > 13 weeks during the period of review.</description>
				<description lang="fr">Nombre de femmes enceintes vues en première visite prénatales après leur 1er trimestre de grossesse durant la période d'analyse.</description>
			</report>
                        <!--
			<report id="3137" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of high risk pregnancies detected</title>
				<title lang="fr">Nombre de grossesses à haut risque diagnostiquées</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(x.visitDate) AS LastDate FROM #temp1$user t1, #temp2$user t2, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040, (SELECT e.patientID, MIN(e.visitDate) AS visitDate FROM encValidAll e, obs o WHERE e.visitDate BETWEEN '$start' AND '$end' AND e.siteCode = '$site' AND e.encounterType IN (24,25) AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (7860,70018) AND (o.value_boolean = 1 OR o.value_text = 2) GROUP BY 1) x WHERE p.patientID = x.patientID AND p.patientID = t1.patientID AND p.patientID = t2.patientID AND x.visitDate > DATEADD(dd, 98, t2.lmpDate) GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Number of pregnancies with anemia, edema, 3rd trimester hemorrhage, hypertension, diabetes, lack of weight gain, history of caesarean section, multiple pregnancy or high parity diagnosed during the period of review.</description>
				<description lang="fr">Nombre de grossesses avec anémie, œdeme, hémorragie du troisieme trimestre prénatale, hypertension, diabète, poids stationnaire, ATCD de césarienne, grossesse multiple ou grande parité diagnstiquées durant la période d'analyse.</description>
			</report>
                        -->
		</reportSubSet>
	</reportSet>
	<reportSet rtype="obGynPmtct">     <!--  PMTCT reports -->
		<title lang="en">PMTCT</title>
		<title lang="fr">PTME</title>
		<reportSubSet><!-- PMTCT -->
			<title lang="en">PMTCT</title>
			<title lang="fr">PTME</title>
			<report id="3002" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of pregnant women tested for HIV</title>
				<title lang="fr">Nombre de femmes enceintes testées pour le VIH</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM (  SELECT  ymdToDate(visitDateYy,visitDateMm,visitDateDd) as startDate,patientID,siteCode FROM `medicalEligARVs` WHERE pregnantWomen=1 union SELECT  e.visitDate, e.patientID, e.siteCode FROM  `obs` o, encounter e WHERE e.encounter_id = o.encounter_id AND o.concept_id IN (71262,7959,7098,7051,7053,7052,70118,70132,70150,70144,70130,70148,71140,70128,71398,70084,70069,70082,70078,70086,70066,70103,70624,70068,70087,70733,7958,71068,70732,7960,71070,7967,70730,70591,70731,70750,7957,70126,7955,71067,70729,7806,70067,70826,7805,70827,7804,70465,70018,70466,70083) and (o.value_text &lt;>'' or o.value_numeric>0 or o.value_boolean>0 or value_datetime is not null) union select  ymdToDate(visitDateYy,visitDateMm,visitDateDd) as startDate,patientID,siteCode from labs where labID in (134,1603,1601,1602) and (result=1 or upper(result) like 'POS%') union select visitDate ,patientId,siteCode from encounter where encounterType=26 and encStatus &lt; 255) en,patient p,encValidAll e LEFT JOIN a_labs l ON (e.patientID = l.patientID AND e.siteCode = l.siteCode AND e.visitDateDd = l.visitDateDd AND e.visitDateMm = l.visitDateMm AND e.visitDateYy = l.visitDateYy AND e.seqNum = l.seqNum)	 WHERE e.patientID = en.patientID AND p.patientID = e.patientID AND (((l.ordered = 1 or l.result is not null or ltrim(rtrim(l.result)) != '' or l.result2 is not null or ltrim(rtrim(l.result2)) != '' or l.result3 is not null or ltrim(rtrim(l.result3)) != '' or l.result4 is not null or ltrim(rtrim(l.result4)) != '' or l.resultAbnormal is not null or l.resultDateyy is not null or ltrim(rtrim(l.resultDateyy)) != '' and l.resultRemarks is not null or ltrim(rtrim(l.resultRemarks)) != '') AND (l.testnamefr like '%hiv%' or l.testnamefr like '%vih%'))) AND e.siteCode = '$site' AND e.encounterType IN (24,25,26) AND e.visitDate BETWEEN '$start' AND '$end'  and en.startDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7 ORDER BY 2,3</query>
				<description lang="en">Proportion of pregnant women tested for HIV during the specified time period.&lt;BR/&gt;Numerator: All pregnant women with at least one ob/gyn visit prior to the end of the specified time period having had an HIV test during the specified time period, regardless of results&lt;BR/&gt;Denominator: All pregnant women with at least one ob/gyn visit prior to the end of the specified time period</description>
				<description lang="fr">Proportion des femmes enceintes qui ont été testés pour VIH pendant une période donnée.&lt;BR/&gt;Numérateur : tous les femmes enceintes ayant passé une visite ob-gyn avant le fin de la période d'analyse qui ont été testés pour VIH pendant la période&lt;BR/&gt;Dénominateur : tous les femmes enceintes ayant passé une visite ob-gyn avant le fin de la période d'analyse</description>
			</report>
			<report id="3101" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of pregnant women who’s positive HIV test result was confirmed</title>
				<title lang="fr">Nombre de femmes enceintes VIH(+)</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM (  SELECT  ymdToDate(visitDateYy,visitDateMm,visitDateDd) as startDate,patientID,siteCode FROM `medicalEligARVs` WHERE pregnantWomen=1 union SELECT  e.visitDate, e.patientID, e.siteCode FROM  `obs` o, encounter e WHERE e.encounter_id = o.encounter_id AND o.concept_id IN (71262,7959,7098,7051,7053,7052,70118,70132,70150,70144,70130,70148,71140,70128,71398,70084,70069,70082,70078,70086,70066,70103,70624,70068,70087,70733,7958,71068,70732,7960,71070,7967,70730,70591,70731,70750,7957,70126,7955,71067,70729,7806,70067,70826,7805,70827,7804,70465,70018,70466,70083) and (o.value_text &lt;>'' or o.value_numeric>0 or o.value_boolean>0 or value_datetime is not null) union select  ymdToDate(visitDateYy,visitDateMm,visitDateDd) as startDate,patientID,siteCode from labs where labID in (134,1603,1601,1602) and (result=1 or upper(result) like 'POS%') union select visitDate ,patientId,siteCode from encounter where encounterType=26 and encStatus &lt; 255) en,patient p,encValidAll e LEFT JOIN a_labs l ON (e.patientID = l.patientID AND e.siteCode = l.siteCode AND e.visitDateDd = l.visitDateDd AND e.visitDateMm = l.visitDateMm AND e.visitDateYy = l.visitDateYy AND e.seqNum = l.seqNum)	 WHERE e.patientID = en.patientID AND p.patientID = e.patientID AND (((l.ordered = 1 or l.result is not null or ltrim(rtrim(l.result)) != '' or l.result2 is not null or ltrim(rtrim(l.result2)) != '' or l.result3 is not null or ltrim(rtrim(l.result3)) != '' or l.result4 is not null or ltrim(rtrim(l.result4)) != '' or l.resultAbnormal is not null or l.resultDateyy is not null or ltrim(rtrim(l.resultDateyy)) != '' and l.resultRemarks is not null or ltrim(rtrim(l.resultRemarks)) != '') AND (l.testnamefr like '%hiv%' or l.testnamefr like '%vih%') AND (upper(l.result) like 'POS%' or l.result=1))) AND e.siteCode = '$site' AND e.encounterType IN (24,25,26) AND e.visitDate BETWEEN '$start' AND '$end'  and en.startDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7 ORDER BY 2,3</query>
				<description lang="en">Number of pregnant women who's HIV test result was confirmed positive during the period of review.</description>
				<description lang="fr">Qté de femmes enceintes pour lesquelles le résultat du test au VIH a été confirmé positif au cours du mois du rapport.</description>
			</report>
			<report id="3102" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of HIV+ pregnant women newly eligible for prophylaxis</title>
				<title lang="fr">Nombre de femmes enceintes VIH(+) nouvellement éligibles pour la prophylaxie</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, #temp2$user t2, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = t1.patientID AND p.patientID = t2.patientID AND p.patientID = e.patientID AND p.hivPositive = 1 AND t2.eligDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Number of HIV+ pregnant women who became eligible for ART prophylaxis during the period of review.</description>
				<description lang="fr">Qté de femmes enceintes VIH(+) qui, d'après les normes nationales en vigueur, sont devenues éligibles pour la prophylaxie au cours du mois du rapport.</description>
			</report>
			<report id="3103" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of HIV+ pregnant women evaluated for eligibility for ART</title>
				<title lang="fr">Nombre de femmes enceintes VIH(+) ayant bénéficié d'une évaluation pour éligibilité aux ARV</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e LEFT JOIN obs o ON e.encounter_id = o.encounter_id AND e.siteCode = o.location_id LEFT JOIN medicalEligARVs l ON e.patientID = l.patientID AND e.siteCode = l.siteCode AND e.visitDateDd = l.visitDateDd AND e.visitDateMm = l.visitDateMm AND e.visitDateYy = l.visitDateYy AND e.seqNum = l.seqNum, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = t1.patientID AND p.patientID = e.patientID AND p.hivPositive = 1 AND p.patientID NOT IN (SELECT patientID FROM pepfarTable WHERE (forPepPmtct = 0 OR forPepPmtct IS NULL) AND visitDate &lt;= '$start') AND ((((l.medElig BETWEEN 1 AND 3 AND l.PMTCT = 1) OR (l.medElig BETWEEN 4 AND 7)) AND e.visitDate BETWEEN '$start' AND '$end') OR (o.concept_id IN (70760) AND o.value_datetime BETWEEN '$start' AND '$end')) AND e.siteCode = '$site' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Number of HIV+ pregnant women evaluated by clinical, immunological or other criteria for eligibility for ART.</description>
				<description lang="fr">Qté de femmes enceintes VIH(+) qui, au cours du mois du rapport, ont été évaluées, à partir de critères cliniques, immunologiques ou autres, pour déterminer leur éligibilité aux ARV.</description>
			</report>
			<report id="3104" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of HIV+ pregnant women evaluated for ART eligibility at the HIV clinic</title>
				<title lang="fr">Nombre de femmes enceintes VIH(+) ayant bénéficié d'une évaluation clinique à la clinique VIH (sous-ensemble)</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e, a_medicalEligARVs l, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = t1.patientID AND p.patientID = e.patientID AND e.patientID = l.patientID AND e.visitDate = l.visitDate AND p.hivPositive = 1 AND p.patientID NOT IN (SELECT patientid FROM pepfarTable WHERE (forPepPmtct = 0 OR forPepPmtct IS NULL) AND visitDate &lt; '$start') AND ((l.medElig BETWEEN 1 AND 3 AND l.PMTCT = 1) OR (l.medElig BETWEEN 4 AND 7)) AND e.visitDate BETWEEN '$start' AND '$end' AND e.siteCode = '$site' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Number of HIV+ pregnant women evaluated by clinical criteria for eligibility for ART during the period of review.</description>
				<description lang="fr">Qté de femmes enceintes VIH(+) qui, au cours du mois du rapport, ont été évaluées, à partir de critères cliniques, pour déterminer leur éligibilité aux ARV.</description>
			</report>
			<report id="3105" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of HIV+ pregnant women who’ve had a CD4 count</title>
				<title lang="fr">Nombre de femmes enceintes VIH(+) ayant bénéficié d'une évaluation de leur compte CD4 (sous-ensemble)</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM (  SELECT  ymdToDate(visitDateYy,visitDateMm,visitDateDd) as startDate,patientID,siteCode FROM `medicalEligARVs` WHERE pregnantWomen=1 union SELECT  e.visitDate, e.patientID, e.siteCode FROM  `obs` o, encounter e WHERE e.encounter_id = o.encounter_id AND o.concept_id IN (71262,7959,7098,7051,7053,7052,70118,70132,70150,70144,70130,70148,71140,70128,71398,70084,70069,70082,70078,70086,70066,70103,70624,70068,70087,70733,7958,71068,70732,7960,71070,7967,70730,70591,70731,70750,7957,70126,7955,71067,70729,7806,70067,70826,7805,70827,7804,70465,70018,70466,70083) and (o.value_text &lt;>'' or o.value_numeric>0 or o.value_boolean>0 or value_datetime is not null) union select  ymdToDate(visitDateYy,visitDateMm,visitDateDd) as startDate,patientID,siteCode from labs where labID in (134,1603,1601,1602) and (result=1 or upper(result) like 'POS%') union select visitDate ,patientId,siteCode from encounter where encounterType=26 and encStatus &lt; 255) en, patient p,encValidAll e LEFT JOIN a_labs l ON (e.patientID = l.patientID AND e.siteCode = l.siteCode AND e.visitDateDd = l.visitDateDd AND e.visitDateMm = l.visitDateMm AND e.visitDateYy = l.visitDateYy AND e.seqNum = l.seqNum)	LEFT JOIN obs o ON (e.encounter_id = o.encounter_id AND e.siteCode = o.location_id) WHERE e.patientID = en.patientID AND p.patientID = e.patientID AND ((o.concept_id IN (70388) AND o.value_boolean = 1) OR (o.concept_id IN (70758) AND ISNUMERIC(o.value_text) = 1 AND o.value_text >= 0) OR ((l.ordered = 1 or l.result is not null or ltrim(rtrim(l.result)) != '' or l.result2 is not null or ltrim(rtrim(l.result2)) != '' or l.result3 is not null or ltrim(rtrim(l.result3)) != '' or l.result4 is not null or ltrim(rtrim(l.result4)) != '' or l.resultAbnormal is not null or l.resultDateyy is not null or ltrim(rtrim(l.resultDateyy)) != '' and l.resultRemarks is not null or ltrim(rtrim(l.resultRemarks)) != '') AND l.testnamefr like '%cd4%')) AND e.siteCode = '$site' AND e.encounterType IN (24,25,26) AND e.visitDate BETWEEN '$start' AND '$end'  and en.startDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7 ORDER BY 2,3</query>
				<description lang="en">Number of HIV+ pregnant women who’ve had a CD4 ct to determine their eligibility for ART during the period of review.</description>
				<description lang="fr">Qté de femmes enceintes VIH(+) qui, au cours du mois du rapport, ont eu une évaluation de leur compte CD4 en vue de déterminer leur éligibilité aux ARV.</description>
			</report>
			<report id="3106" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of HIV+ pregnant women who have been started on ARV prophylaxis</title>
				<title lang="fr">Nombre de femmes enceintes VIH(+) placées sous ARV comme prophylaxie</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT STRAIGHT_JOIN p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, #temp2$user t2, encValidAll e, a_prescriptions l, drugLookup d, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = t1.patientID AND p.patientID = t2.patientID AND p.patientID = e.patientID AND p.patientID = l.patientID AND l.drugID = d.drugID AND p.patientID NOT IN (SELECT patientid FROM pepfarTable WHERE (forPepPmtct = 0 OR forPepPmtct IS NULL) AND visitDate &lt; '$start') AND p.hivPositive = 1 AND t2.eligDate BETWEEN DATEADD(mm, -9, '$start') AND '$end' AND ISDATE(t2.eligDate) = 1 AND d.drugGroup IN ('NRTIs', 'NNRTIs', 'Pls') AND l.visitdate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Number of HIV+ pregnant women eligible for prophylaxis and who received prophylactic treatment with ART (monotherapy, dual therapy or triple therapy) during the period of review.</description>
				<description lang="fr">Qté de femmes enceintes VIH(+) éligibles pour la prophylaxie et qui ont reçu un traitement prophylactique aux ARV  (mono, bi, trithérapie) au cours du mois du rapport.</description>
			</report>
			<report id="3107" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of HIV+ pregnant women who have been started on AZT prophylaxis</title>
				<title lang="fr">Nombre de femmes enceintes VIH(+) placées sous AZT comme prophylaxie</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, #temp2$user t2, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = t1.patientID AND p.patientID = t2.patientID AND p.patientID = e.patientID AND p.patientID NOT IN (SELECT patientid FROM pepfarTable WHERE (forPepPmtct = 0 OR forPepPmtct IS NULL) AND visitDate &lt; '$start') AND p.hivPositive = 1 AND t2.eligDate BETWEEN DATEADD(mm, -9, '$start') AND '$end' AND ISDATE(t2.eligDate) = 1 AND p.patientID IN (SELECT t3.patientID FROM #temp3$user t3, #temp4$user t4 WHERE t3.patientID = t4.patientID AND t4.drugID IN (34) GROUP BY 1 HAVING COUNT(t3.drugID) = 1) GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Number of HIV+ pregnant women eligible for prophylaxis who have received AZT for prophylaxis during the period of review.</description>
				<description lang="fr">Qté de femmes enceintes VIH(+), éligibles pour la prophylaxie, et qui ont reçu un traitement prophylactique à l'AZT au cours du mois du rapport.</description>
			</report>
			<report id="3108" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of HIV+ pregnant women who have been started on nevirapine prophylaxis</title>
				<title lang="fr">Nombre de femmes enceintes VIH(+) placées sous nevirapine comme prophylaxie</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, #temp2$user t2, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = t1.patientID AND p.patientID = t2.patientID AND p.patientID = e.patientID AND p.patientID NOT IN (SELECT patientid FROM pepfarTable WHERE (forPepPmtct = 0 OR forPepPmtct IS NULL) AND visitDate &lt; '$start') AND p.hivPositive = 1 AND t2.eligDate BETWEEN DATEADD(mm, -9, '$start') AND '$end' AND ISDATE(t2.eligDate) = 1 AND p.patientID IN (SELECT t3.patientID FROM #temp3$user t3, #temp4$user t4 WHERE t3.patientID = t4.patientID AND t4.drugID IN (23) GROUP BY 1 HAVING COUNT(t3.drugID) = 1) GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Number of HIV+ pregnant women eligible for prophylaxis who have received nevirapine for prophylaxis during the period of review.</description>
				<description lang="fr">Qté de femmes enceintes VIH(+), éligibles pour la prophylaxie, et qui ont reçu un traitement prophylactique à la névirapine au cours du mois du rapport.</description>
			</report>
			<report id="3109" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of HIV+ pregnant women who have been started on ARV prophylaxis with two drugs</title>
				<title lang="fr">Nombre de femmes enceintes VIH(+) placées sous bithérapie comme prophylaxie</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, #temp2$user t2, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = t1.patientID AND p.patientID = t2.patientID AND p.patientID = e.patientID AND p.patientID NOT IN (SELECT patientid FROM pepfarTable WHERE (forPepPmtct = 0 OR forPepPmtct IS NULL) AND visitDate &lt; '$start') AND p.hivPositive = 1 AND t2.eligDate BETWEEN DATEADD(mm, -9, '$start') AND '$end' AND ISDATE(t2.eligDate) = 1 AND (p.patientID IN (SELECT t3.patientID FROM #temp3$user t3, #temp4$user t4 WHERE t3.patientID = t4.patientID AND t3.drugID &lt;> t4.drugID AND t4.drugID NOT IN (8,33) GROUP BY 1 HAVING COUNT(t3.drugID) = 2) OR p.patientID IN (SELECT t5.patientID FROM #temp5$user t5, #temp6$user t6 WHERE t5.patientID = t6.patientID AND t6.drugID IN (8) GROUP BY 1 HAVING COUNT(t5.drugID) = 1)) GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Number of HIV+ pregnant women eligible for prophylaxis who have received prophylaxis with at least two ARV medications during the period of review.</description>
				<description lang="fr">Qté de femmes enceintes VIH(+), éligibles pour la prophylaxie, et qui ont reçu un traitement prophylactique à base d'une combinaison de deux médicaments ARV (bithérapie) au cours du mois du rapport.</description>
			</report>
			<report id="3110" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of HIV+ pregnant women who have been started on ARV prophylaxis with three drugs</title>
				<title lang="fr">Nombre de femmes enceintes VIH(+) placées sous trithérapie comme prophylaxie</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, #temp2$user t2, encValidAll e, pepfarTable l, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = t1.patientID AND p.patientID = t2.patientID AND p.patientID = e.patientID AND p.patientID = l.patientID AND p.patientID NOT IN (SELECT patientid FROM pepfarTable WHERE (forPepPmtct = 0 OR forPepPmtct IS NULL) AND visitDate &lt; '$start') AND p.hivPositive = 1 AND t2.eligDate BETWEEN DATEADD(mm, -9, '$start') AND '$end' AND ISDATE(t2.eligDate) = 1 AND l.visitdate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Number of HIV+ pregnant women eligible for prophylaxis who have received prophylaxis with at least three ARV medications during the period of review.</description>
				<description lang="fr">Qté de femmes enceintes VIH(+), éligibles pour la prophylaxie, et qui ont reçu un traitement prophylactique à base d'une combinaison de trois médicaments ARV (trithérapie) au cours du mois du rapport.</description>
			</report>
			<report id="3144" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of HIV+ pregnant women who have been started on HAART</title>
				<title lang="fr">Nombre de femmes enceintes VIH(+) placées sous HAART</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT distinct p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(l.visitDate) AS LastDate FROM (  SELECT  ymdToDate(visitDateYy,visitDateMm,visitDateDd) as startDate,patientID,siteCode FROM `medicalEligARVs` WHERE pregnantWomen=1 union SELECT  e.visitDate, e.patientID, e.siteCode FROM  `obs` o, encounter e WHERE e.encounter_id = o.encounter_id AND o.concept_id IN (71262,7959,7098,7051,7053,7052,70118,70132,70150,70144,70130,70148,71140,70128,71398,70084,70069, 70082,70078,70086,70066,70103,70624,70068,70087,70733,7958,71068,70732,7960,71070,7967,70730,70591,70731,70750,7957,70126,7955,71067,70729,7806,70067,70826,7805,70827,7804,70465,70018,70466,70083) and (o.value_text &lt;>'' or o.value_numeric>0 or o.value_boolean>0 or value_datetime is not null) union select  ymdToDate(visitDateYy,visitDateMm,visitDateDd) as startDate,patientID,siteCode from labs where labID in (134,1603,1601,1602) and (result=1 or upper(result) like 'POS%') union select visitDate ,patientId,siteCode from encounter where encounterType=26 and encStatus &lt; 255) en,patient p, (select min(visitDate) as visitDate, patientID,siteCode from pepfarTable group by patientID,siteCode) l  WHERE l.patientID = en.patientID AND p.patientID = l.patientID AND l.siteCode = '$site' AND l.visitDate BETWEEN '$start' AND '$end'  and ((en.startDate BETWEEN '$start' AND '$end') or ( DATE_ADD(en.startDate, INTERVAL 9 Month) BETWEEN '$start' AND '$end')) GROUP BY 1,2,4,5,6,7 ORDER BY 2,3</query>
				<description lang="en">Number of HIV+ pregnant women started on HAART during the period of review.</description>
				<description lang="fr">Qté de femmes enceintes VIH(+), placées sous HAART (traitement antirétroviral hautement actif) au cours du mois du rapport.</description>
			</report>
			<report id="3120" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of HIV+ pregnant women who gave birth at a hospital</title>
				<title lang="fr">Nombre de femmes enceintes VIH(+) ayant accouché en milieu hospitalier</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM (  SELECT  ymdToDate(visitDateYy,visitDateMm,visitDateDd) as startDate,patientID,siteCode FROM `medicalEligARVs` WHERE pregnantWomen=1 union SELECT  e.visitDate, e.patientID, e.siteCode FROM  `obs` o, encounter e WHERE e.encounter_id = o.encounter_id AND o.concept_id IN (71262,7959,7098,7051,7053,7052,70118,70132,70150,70144,70130,70148,71140,70128,71398,70084,70069,70082,70078,70086,70066,70103,70624,70068,70087,70733,7958,71068,70732,7960,71070,7967,70730,70591,70731,70750,7957,70126,7955,71067,70729,7806,70067,70826,7805,70827,7804,70465,70018,70466,70083) and (o.value_text &lt;>'' or o.value_numeric>0 or o.value_boolean>0 or value_datetime is not null) union select  ymdToDate(visitDateYy,visitDateMm,visitDateDd) as startDate,patientID,siteCode from labs where labID in (134,1603,1601,1602) and (result=1 or upper(result) like 'POS%') union select visitDate ,patientId,siteCode from encounter where encounterType=26 and encStatus &lt; 255) en, patient p,encValidAll e,obs o WHERE e.patientID = en.patientID AND p.patientID = e.patientID   AND p.hivPositive = 1  AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id  AND ((o.concept_id=7800  AND (o.value_text = 2 OR o.value_numeric = 2)) or (o.concept_id=71282  AND  o.value_numeric = 1))  AND e.siteCode = '$site' AND e.encounterType=26 AND e.visitDate BETWEEN '$start' AND '$end'  and en.startDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7 ORDER BY 2,3</query>
				<description lang="en">Number of HIV+ pregnant women who gave birth at a hospital during the period of review.</description>
				<description lang="fr">Qté de femmes enceintes VIH(+) qui ont accouché, au cours du mois du rapport, dans un centre hospitalier.</description>
			</report>
			<report id="3121" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of HIV+ pregnant women who gave birth at home</title>
				<title lang="fr">Nombre de femmes enceintes VIH(+) ayant accouché à domicile</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM (  SELECT  ymdToDate(visitDateYy,visitDateMm,visitDateDd) as startDate,patientID,siteCode FROM `medicalEligARVs` WHERE pregnantWomen=1 union SELECT  e.visitDate, e.patientID, e.siteCode FROM  `obs` o, encounter e WHERE e.encounter_id = o.encounter_id AND o.concept_id IN (71262,7959,7098,7051,7053,7052,70118,70132,70150,70144,70130,70148,71140,70128,71398,70084,70069,70082,70078,70086,70066,70103,70624,70068,70087,70733,7958,71068,70732,7960,71070,7967,70730,70591,70731,70750,7957,70126,7955,71067,70729,7806,70067,70826,7805,70827,7804,70465,70018,70466,70083) and (o.value_text &lt;>'' or o.value_numeric>0 or o.value_boolean>0 or value_datetime is not null) union select  ymdToDate(visitDateYy,visitDateMm,visitDateDd) as startDate,patientID,siteCode from labs where labID in (134,1603,1601,1602) and (result=1 or upper(result) like 'POS%') union select visitDate ,patientId,siteCode from encounter where encounterType=26 and encStatus &lt; 255) en, patient p,encValidAll e,obs o WHERE e.patientID = en.patientID AND p.patientID = e.patientID   AND p.hivPositive = 1  AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id  AND ((o.concept_id=7800  AND (o.value_text = 1 OR o.value_numeric = 1)) or (o.concept_id=71282  AND  o.value_numeric = 2))  AND e.siteCode = '$site' AND e.encounterType=26 AND e.visitDate BETWEEN '$start' AND '$end'  and en.startDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7 ORDER BY 2,3</query>
				<description lang="en">Number of HIV+ pregnant women who gave birth at home during the period of review.</description>
				<description lang="fr">Qté de femmes enceintes VIH(+) ayant accouché en dehors d'une institution de santé au cours du mois du rapport.</description>
			</report>
			<report id="3112" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of infants born to HIV+ mothers registered in PTME program</title>
				<title lang="fr">Nombre d'enfants nés de mère VIH(+) (exposés) enregistrés dans le programme PTME</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValid e, pedHistory h, a_prescriptions l, drugLookup d, patient p WHERE p.patientID = e.patientID AND p.patientID = l.patientID AND p.hivPositive = 1 AND e.patientID = h.patientID AND e.siteCode = h.siteCode AND e.visitDateYy = h.visitDateYy AND e.visitDateMm = h.visitDateMm AND e.visitDateDd = h.visitDateDd AND e.seqNum = h.seqNum AND l.drugID = d.drugID AND ISDATE(dbo.ymdToDate(p.dobYy, p.dobMm, p.dobDd)) = 1 AND dbo.ymdToDate(p.dobYy, p.dobMm, p.dobDd) BETWEEN '$start' AND '$end' AND e.encounterType = 16 AND ((l.visitDate BETWEEN dbo.ymdToDate(p.dobYy, p.dobMm, p.dobDd) AND DATEADD(dd, 3, dbo.ymdToDate(p.dobYy, p.dobMm, p.dobDd)) AND d.drugGroup IN ('NRTIs', 'NNRTIs', 'Pls')) OR h.pedInfProArv = 1) AND e.siteCode = '$site' AND e.visitdate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7 ORDER BY 2</query>
				<description lang="en">Number of infants born to HIV+ mothers registered in PTME program during the period of review (they must have received prophylaxis within 72 hrs of birth).</description>
				<description lang="fr">Qté d'enfants nés de mère VIH(+) qui sont enregistrés dans le programme PTME au cours du mois du rapport (ils doivent avoir reçu la prophylaxie dans les 72 heures suivant la naissance).</description>
			</report>
			<report id="3113" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of infants born to HIV+ mothers who received ARV prophylaxis within 72 hours of birth</title>
				<title lang="fr">Nombre d'enfants nés de mère VIH(+) placés sous ARV comme prophylaxie dans les 72 heures après la naissance</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID,  p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, max(e.visitDate) AS VisitDt  FROM encValidAll e, patient p ,pedHistory p1  WHERE p.patientID = e.patientID and p1.patientID=e.patientID and p1.pedInfProArv=1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' and ymdToDate(p1.visitDateYy,p1.visitDateMm,p1.visitDateDd) BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7 ORDER BY 2,3</query>
				<description lang="en">Number of infants born to HIV+ mothers who received prophylaxis within 72 hours of birth during the period of review.</description>
				<description lang="fr">Qté d'enfants nés de mère VIH(+) auxquels on a administré au cours du mois du rapport, un traitement prophylactique à l'ARV au plus tard 72 heures après leur naissance.</description>
			</report>
			<report id="3114" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of HIV(+) women on ARVs who became pregnant</title>
				<title lang="fr">Nombre de femmes VIH(+) sous ARV devenues enceintes</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(en.startDate) AS LastDate  FROM (  SELECT  ymdToDate(visitDateYy,visitDateMm,visitDateDd) as startDate,patientID,siteCode FROM `medicalEligARVs` WHERE pregnantWomen=1 union SELECT  e.visitDate as startDate, e.patientID, e.siteCode FROM  `obs` o, encounter e WHERE e.encounter_id = o.encounter_id AND o.concept_id IN (71262,7959,7098,7051,7053,7052,70118,70132,70150,70144,70130,70148,71140,70128,71398,70084,70069,70082,70078,70086,70066,70103,70624,70068,70087,70733,7958,71068,70732,7960,71070,7967,70730,70591,70731,70750,7957,70126,7955,71067,70729,7806,70067,70826,7805,70827,7804,70465,70018,70466,70083) and (o.value_text &lt;>'' or o.value_numeric>0 or o.value_boolean>0 or value_datetime is not null) union select  ymdToDate(visitDateYy,visitDateMm,visitDateDd) as startDate,patientID,siteCode from labs where labID in (134,1603,1601,1602) and (result=1 or upper(result) like 'POS%') union select visitDate ,patientId,siteCode from encounter where encounterType=26 and encStatus &lt; 255) en,  patient p, (select patientID,min(visitDate) as visitDate from pepfarTable group by 1) e  WHERE e.patientID = en.patientID AND p.patientID = e.patientID   AND p.hivPositive = 1  and left(e.patientID,5) = p.location_id   AND p.location_id = '$site'  AND e.visitDate &lt; en.startDate  and en.startDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7 ORDER BY 2,3</query>
				<description lang="en">Number of HIV+ women who were enrolled in HIV care prior to the beginning of the period of analysis who became pregnant during the period of review.</description>
				<description lang="fr">Qté de femmes VIH(+) qui, étant préalablement enrôlées en soins au niveau d'une institution, se sont présentées ou ont été amenées enceintes au cours du mois du rapport.</description>
			</report>
			<report id="3145" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of HIV-positive pregnant women who had a plan of birth</title>
				<title lang="fr">Nombre de femmes enceintes VIH(+) pour lesquelles un plan de naissance a été élaboré</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = t1.patientID AND p.patientID = e.patientID AND p.hivPositive = 1 AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND ((o.concept_id BETWEEN 7979 AND 8038 AND o.value_text = 1) OR (o.concept_id IN (70729,70730,70731,70732,70733,71068) AND o.value_boolean = 1)) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Number of HIV+ pregnant women who had a plan of birth documented during the period of review.</description>
				<description lang="fr">Qté de femmes enceintes VIH(+) pour lesquelles un plan de naissance a été élaboré au cours du mois du rapport.</description>
			</report>
			<report id="3146" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of HIV-negative pregnant women who had a plan of birth</title>
				<title lang="fr">Nombre de femmes enceintes VIH(-) pour lesquelles un plan de naissance a été élaboré</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = t1.patientID AND p.patientID = e.patientID AND (p.hivPositive = 0 OR p.hivPositive IS NULL) AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND ((o.concept_id BETWEEN 7979 AND 8038 AND o.value_text = 1) OR (o.concept_id IN (70729,70730,70731,70732,70733,71068) AND o.value_boolean = 1)) AND e.siteCode = '$site' AND e.visitdate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Number of HIV- pregnant women who had a plan of birth documented during the period of review.</description>
				<description lang="fr">Qté de femmes enceintes VIH(-) pour lesquelles un plan de naissance a été élaboré au cours du mois du rapport.</description>
			</report>
			<report id="3115" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of exposed infants tested by PCR</title>
				<title lang="fr">Nombre d'enfants exposés testés par PCR</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(l.visitDate) AS LastDate   FROM a_labs l, patient p  WHERE p.patientID = l.patientID  AND l.labID = 181 AND dbo.ymdToDate(l.resultDateYy, l.resultDateMm, l.resultDateDd) BETWEEN '$start' AND '$end' AND l.siteCode = '$site' GROUP BY 1,2,4,5,6,7 ORDER BY 2</query>
				<description lang="en">Number of infants born to HIV+ mothers who had an HIV PCR test during the period of review.</description>
				<description lang="fr">Qté d'enfants nés de mère VIH(+) qui ont été testés par PCR (Polymerase Chain Reaction) au cours du mois du rapport.</description>
			</report>
			<report id="3116" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of exposed infants confirmed HIV+</title>
				<title lang="fr">Nombre d'enfants exposés confirmés VIH(+)</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(l.visitDate) AS LastDate FROM a_labs l, patient p WHERE p.patientID = l.patientID AND ISDATE(dbo.ymdToDate(p.dobYy, p.dobMm, p.dobDd)) = 1 AND dbo.ymdToDate(p.dobYy, p.dobMm, p.dobDd) BETWEEN '$start' AND '$end' AND l.result = 1 AND l.labID = 181 AND ISDATE(dbo.ymdToDate(l.resultDateYy, l.resultDateMm, l.resultDateDd)) = 1 AND dbo.ymdToDate(l.resultDateYy, l.resultDateMm, l.resultDateDd) BETWEEN '$start' AND '$end' AND l.siteCode = '$site' GROUP BY 1,2,4,5,6,7 ORDER BY 2</query>
				<description lang="en">Number of infants born to HIV+ mothers who had an HIV PCR test that confirmed HIV+ status during the period of review.</description>
				<description lang="fr">Qté d'enfants nés de mère VIH(+) sont le statut VIH a pu être confirmé positif, par PCR, au cours du mois du rapport.</description>
			</report>			
			<report id="3310" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of exposed children tested for PCR in the first two months of birth</title>
				<title lang="fr">Nombre d'enfants exposés testés pour le PCR au cours des deux premiers mois de naissance</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age from vitals v,patient p, (select ymdtodate(visitDateYy,visitDateMm,visitDateDd) as visitDate,l.patientID from labs l where labID=181) l where v.pedCurrHiv=1 and p.patientID=v.patientID  and l.patientID=v.patientID and datediff(l.visitDate,(ymdtodate(dobYy,case when dobMm='XX' or dobMm='' or dobMm is null then '01' else dobMm end,case when dobDd='XX' or dobDd='' or dobDd is null then '01' else dobDd end))) between 0 and 60 and ymdToDate(v.visitdateyy,v.visitdatemm,v.visitdatedd) BETWEEN '$start' AND '$end' AND p.location_id = '$site'</query>
				<description lang="en">Number of exposed children tested for PCR in the first two months of birth during the period of review.</description>
				<description lang="fr">Nombre d'enfants exposés testés pour le PCR au cours des deux premiers mois de naissance au cours du mois du rapport.</description>
			</report>
			<report id="3311" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of exposed children tested for PCR between 2nd and 12th month of birth</title>
				<title lang="fr">Nombre d'enfants exposés testés pour le PCR  entre le 2eme et le 12eme mois de naissance</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age from vitals v,patient p, (select ymdtodate(visitDateYy,visitDateMm,visitDateDd) as visitDate,l.patientID from labs l where labID=181) l where v.pedCurrHiv=1 and p.patientID=v.patientID  and l.patientID=v.patientID and datediff(l.visitDate,(ymdtodate(dobYy,case when dobMm='XX' or dobMm='' or dobMm is null then '01' else dobMm end,case when dobDd='XX' or dobDd='' or dobDd is null then '01' else dobDd end))) between 61 and 365 and ymdToDate(v.visitdateyy,v.visitdatemm,v.visitdatedd) BETWEEN '$start' AND '$end' AND p.location_id = '$site'</query>
				<description lang="en">Number of exposed children tested for PCR between 2nd and 12th month of birth during the period of review.</description>
				<description lang="fr">Nombre d'enfants exposés testés pour le PCR  entre le 2eme et le 12eme mois de naissance au cours du mois du rapport.</description>
			</report>
			<report id="4000" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">List of exposed children </title>
				<title lang="fr">Liste des enfants exposés </title>
				<reportFile></reportFile>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age from exposeChild v,patient p where  p.patientID=v.patientID AND p.location_id = '$site'</query>
				<description lang="en">List of exposed children (This list contains all patients who have been excluded from the list of ARVs patients including AES patients).</description>
				<description lang="fr">Nombre d'enfants exposés (Cette liste contient tous les patients qui ont été exclu de la liste des patients ARVs y compris les patient AES).</description>
			</report>
			<report id="4001" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">List of exposed infants who have a positif PCR</title>
				<title lang="fr">Liste des enfants exposés ayant un PCR(+)</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(l.visitDate) AS LastDate   FROM a_labs l, patient p  WHERE p.patientID = l.patientID  AND l.labID = 181 AND (l.result=1 or upper(l.result) like 'POS%') and  dbo.ymdToDate(l.resultDateYy, l.resultDateMm, l.resultDateDd) BETWEEN '$start' AND '$end' AND l.siteCode = '$site' GROUP BY 1,2,4,5,6,7 ORDER BY 2</query>
				<description lang="en">Number of infants born to HIV+ mothers who had an HIV PCR test during the period of review whose the result is positive</description>
				<description lang="fr">Qté d'enfants nés de mère VIH(+) qui ont été testés par PCR  au cours du mois du rapport et dont le resultat est positif</description>
			</report>
			
		</reportSubSet>
	</reportSet>
	<reportSet rtype="obGynDelivery">  <!--  Delivery reports -->
		<title lang="en">Delivery</title>
		<title lang="fr">Accouchement</title>
		<reportSubSet><!-- Delivery -->
			<title lang="en">Delivery</title>
			<title lang="fr">Accouchement</title>
			<report id="3017" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Expected Deliveries in period</title>
				<title lang="fr">Les accouchements attendues en période</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>select distinct clinicpatientid, p.patientID, fname, lname, stopdate as PPD 
				from dw_pregnancy_ranges d, patient p where d.patientid = p.patientid and stopdate BETWEEN '$start' AND '$end' order by 5</query>
				<description lang="en">Expected number of births during the period of review.</description>
				<description lang="fr">Nombre total d’accouchements effectués durant la période d'analyse.</description>
			</report>
			<report id="3117" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Total number of births</title>
				<title lang="fr">Nombre total d'accouchements</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, e.visitDate AS VisitDt, t1.living + t1.fetalMac + t1.fetalNonMac AS totalCnt FROM #temp1$user t1, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND e.encounter_id = t1.encID AND e.siteCode = t1.siteCode AND e.visitDate = t1.visitDate ORDER BY 2,3</query>
				<description lang="en">Total number of births during the period of review.</description>
				<description lang="fr">Nombre total d’accouchements effectués durant la période d'analyse.</description>
			</report>
			<report id="3118" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Total number of births at clinic/hospital</title>
				<title lang="fr">Nombre total d'accouchements institutionnels</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, e.visitDate AS VisitDt, t1.living + t1.fetalMac + t1.fetalNonMac AS totalCnt FROM #temp1$user t1, encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id = 7800 AND (o.value_text = 2 OR o.value_numeric = 2) AND e.encounter_id = t1.encID AND e.siteCode = t1.siteCode AND e.visitDate = t1.visitDate ORDER BY 2,3</query>
				<description lang="en">Total number of births occuring at a hospital or clinic during the period of review.</description>
				<description lang="fr">Nombre total d’accouchements en milieu hospitalier ou centre de santé durant la période d'analyse.</description>
			</report>
			<report id="3119" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Total number of births at home</title>
				<title lang="fr">Nombre total d'accouchements à domicile</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, e.visitDate AS VisitDt, t1.living + t1.fetalMac + t1.fetalNonMac AS totalCnt FROM #temp1$user t1, encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id = 7800 AND (o.value_text = 1 OR o.value_numeric = 1) AND e.encounter_id = t1.encID AND e.siteCode = t1.siteCode AND e.visitDate = t1.visitDate ORDER BY 2,3</query>
				<description lang="en">Total number of births occuring at home during the period of review.</description>
				<description lang="fr">Nombre total d’accouchements effectués à domicile durant la période d'analyse.</description>
			</report>
			<report id="3122" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Total number of births by caesarean section</title>
				<title lang="fr">Nombre total d'accouchements par césarienne</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, e.visitDate AS VisitDt, t1.living + t1.fetalMac + t1.fetalNonMac AS totalCnt FROM #temp1$user t1, encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id = 7820 AND (o.value_text IN (2,4) OR o.value_numeric IN (2,4)) AND e.encounter_id = t1.encID AND e.siteCode = t1.siteCode AND e.visitDate = t1.visitDate ORDER BY 2,3</query>
				<description lang="en">Total number of births by Caesarean section during the period of review.</description>
				<description lang="fr">Nombre total d’accouchements par césarienne durant la période d'analyse.</description>
			</report>
			<report id="3005" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Proportion of vaginal births</title>
				<title lang="fr">Proportion d'accouchements par voie basse</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, e.visitDate AS VisitDt, t1.living + t1.fetalMac + t1.fetalNonMac AS totalCnt FROM #temp1$user t1, encValidAll e, obs o2, obs o3, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND e.encounter_id = o2.encounter_id AND e.siteCode = o2.location_id AND o2.concept_id = 7820 AND (o2.value_text = 1 OR o2.value_numeric = 1) AND e.encounter_id = o3.encounter_id AND e.siteCode = o3.location_id AND o3.concept_id = 71137 AND o3.value_numeric = 1 AND e.encounter_id = t1.encID AND e.siteCode = t1.siteCode AND e.visitDate = t1.visitDate ORDER BY 2,3</query>
				<description lang="en">Percentage of vaginal births.&lt;BR/&gt;Numerator: Total number of vaginal births during the period of review&lt;BR/&gt;Denominator: Total number of births during the period of review</description>
				<description lang="fr">Pourcentage de femmes ayant accouche par voie basse.&lt;BR/&gt;Numérateur : nombre de femmes ayant accouché par voie basse réalisée durant la période d'analyse&lt;BR/&gt;Dénominateur : nombre total d'accouchements enregistrés durant la période d'analyse</description>
			</report>
			<report id="3004" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Low birth weight (&lt; 2500 g)</title>
				<title lang="fr">Proportion de poids faible chez les nouveau-nés</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, e.visitDate AS VisitDt, COUNT(t2.wt) AS totalCnt FROM #temp2$user t2, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND e.encounter_id = t2.encID AND e.siteCode = t2.siteCode AND e.visitDate = t2.visitDate AND t2.wt &lt; 2.5 GROUP BY 1,2,4,5,6,7,8,9 ORDER BY 2,3</query>
				<description lang="en">Proportion of live births with weight under 2500g.&lt;BR/&gt;Numerator: Number of live births with weight under 2500g during the period of review&lt;BR/&gt;Denominator: Number of live births during the period of review</description>
				<description lang="fr">Proportion de naissances vivantes de poids inférieur à 2500g.&lt;BR/&gt;Numérateur : nombre de naissances vivantes &lt; 2500g durant la période d'analyse&lt;BR/&gt;Dénominateur : nombre de naissances vivantes durant la période d'analyse</description>
			</report>
			<report id="3128" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Births with instruments</title>
				<title lang="fr">Accouchements instrumental</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT DISTINCT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, e.visitDate AS VisitDt FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND ((o.concept_id = 70524 AND o.value_numeric = 1) OR (o.concept_id = 7822 AND (o.value_text = 1 OR o.value_numeric = 1))) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' ORDER BY 2,3</query>
				<description lang="en">Total number of births using instruments during the period of review.</description>
				<description lang="fr">Nombre de cas ayant eu un accouchement par ventouse ou forceps durant la période d'analyse.</description>
			</report>
			<report id="3124" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of unmacerated fetal deaths</title>
				<title lang="fr">Mort fœtale non macérée</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, e.visitDate AS VisitDt, t1.fetalNonMac AS totalCnt FROM #temp1$user t1, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND e.encounter_id = t1.encID AND e.siteCode = t1.siteCode AND e.visitDate = t1.visitDate AND t1.fetalNonMac > 0 ORDER BY 2,3</query>
				<description lang="en">Total number of unmacerated fetal deaths during the period of review.</description>
				<description lang="fr">Nombre total de cas de mort fœtale non macérée enregistrée durant la période d'analyse.</description>
			</report>
			<report id="3125" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of neonatal deaths</title>
				<title lang="fr">Décès néonataux</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, e.visitDate AS VisitDt, t1.neonatal AS totalCnt FROM #temp1$user t1, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND e.encounter_id = t1.encID AND e.siteCode = t1.siteCode AND e.visitDate = t1.visitDate AND t1.neonatal > 0 ORDER BY 2,3</query>
				<description lang="en">Total number of neonatal deaths during the period of review.</description>
				<description lang="fr">Nombre total de décès néonataux survenus durant la période d'analyse.</description>
			</report>
			<report id="3126" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Perineum lacerations</title>
				<title lang="fr">Lacération du périnée</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, e.visitDate AS VisitDt FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id = 7825 AND (o.value_text = 1 OR o.value_numeric = 1) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' ORDER BY 2,3</query>
				<description lang="en">Total number of perineum lacerations during the period of review.</description>
				<description lang="fr">Nombre de cas de lacération du périnée durant la période d'analyse.</description>
			</report>
			<report id="3127" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Placental retentions</title>
				<title lang="fr">Rétention du placenta</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, e.visitDate AS VisitDt FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id = 70530 AND o.value_numeric = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' ORDER BY 2,3</query>
				<description lang="en">Total number of placental retentions during the period of review.</description>
				<description lang="fr">Nombre de cas présentant une rétention du placenta durant la période d'analyse.</description>
			</report>
			<report id="3129" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Uterine ruptures</title>
				<title lang="fr">Ruptures utérine</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, e.visitDate AS VisitDt FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id = 70534 AND o.value_numeric = 4 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' ORDER BY 2,3</query>
				<description lang="en">Total number of uterine ruptures during the period of review.</description>
				<description lang="fr">Nombre de cas présentant une rupture utérine durant la période d'analyse.</description>
			</report>
			<report id="3132" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Eclampsia</title>
				<title lang="fr">Eclampsie</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT DISTINCT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, e.visitDate AS VisitDt FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70084,70148) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' ORDER BY 2,3</query>
				<description lang="en">Total number of eclampsia diagnoses during the period of review.</description>
				<description lang="fr">Nombre de cas d'éclampsie durant la période d'analyse.</description>
			</report>
			<report id="3162" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Maternal deaths</title>
				<title lang="fr">Décès maternels</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT DISTINCT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, e.visitDate AS VisitDt FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id = 70521 AND o.value_numeric = 8 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' ORDER BY 2,3</query>
				<description lang="en">Total number of maternal deaths during the period of review.</description>
				<description lang="fr">Nombre de cas de décès maternels durant la période d'analyse.</description>
			</report>
			<report id="3148" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Third trimester hemorrhage</title>
				<title lang="fr">Hémorragie du troisième trimestre</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT DISTINCT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, e.visitDate AS VisitDt FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70069,70132) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' ORDER BY 2,3</query>
				<description lang="en">Total number of third trimester hemorrhages reported during the period of review.</description>
				<description lang="fr">Nombre de cas d’hémorragie du troisième trimestre durant la période d'analyse.</description>
			</report>
			<report id="3123" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of women who had at least one prenatal visit prior to delivery</title>
				<title lang="fr">Nombre de femmes ayant eu au moins 1 visite prénatale avant l'accouchement dans l'institution</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e2.visitDate) AS LastDate FROM encValidAll e1, obs o2, encValidAll e2, obs o3, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e1.patientID AND e1.patientID = e2.patientID AND e1.siteCode = e2.siteCode AND e1.encounter_id = o2.encounter_id AND e1.siteCode = o2.location_id AND e1.encounterType IN (24,25) AND e1.visitDate &lt; e2.visitDate AND e2.encounterType = 26 AND e2.encounter_id = o3.encounter_id AND e2.siteCode = o3.location_id AND o3.concept_id = 7800 AND (o3.value_text IN (1,2) OR o3.value_numeric IN (1,2)) AND e1.siteCode = '$site' AND e2.visitdate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Total number of women who had at least one prenatal visit prior to delivery during the period of review.</description>
				<description lang="fr">Nombre de femmes accouchées et ayant eu au moins 1 visite prénatale dans l’institution durant la période d'analyse.</description>
			</report>
		</reportSubSet>
	</reportSet>
	<reportSet rtype="obGynPostnatal"> <!--  Postnatal reports -->
		<title lang="en">Postnatal</title>
		<title lang="fr">Postnatal</title>
		<reportSubSet><!-- Postnatal -->
			<title lang="en">Postnatal</title>
			<title lang="fr">Postnatal</title>
			<report id="3138" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of women who gave birth at a hospital or clinic</title>
				<title lang="fr">Nombre de femmes ayant accouché dans l'institution</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = t1.patientID AND p.patientID = e.patientID AND e.encounterType = 26 AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id = 7800 AND (o.value_text = 2 OR o.value_numeric = 2) AND e.siteCode = '$site' AND e.visitdate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Number of women who gave birth at a hospital or clinic during the period of review.</description>
				<description lang="fr">Nombre de femmes ayant accouché dans l'institution durant la période d'analyse.</description>
			</report>
			<report id="3149" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of women seen for post-natal visit within 72 hours after delivery</title>
				<title lang="fr">Nombre de femmes vues en clinique post-natale dans les  72 heures apres l'accouchement</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e2.visitDate) AS LastDate FROM encValidAll e1, encValidAll e2, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e1.patientID AND p.patientID = e2.patientID AND e1.encounterType = 26 AND e2.encounterType IN (24,25) AND e1.siteCode = '$site' AND e2.siteCode = '$site' AND e2.visitDate BETWEEN e1.visitDate AND DATEADD(day, 3, e1.visitDate) AND e2.visitdate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Number of women who were seen for a post-natal visit within 72 hours after delivery during the period of review.</description>
				<description lang="fr">Nombre de femmes vues en clinique post-natale dans les 72 heures apres l'accouchement durant la période d'analyse.</description>
			</report>
		</reportSubSet>
	</reportSet>
	<reportSet rtype="obGynOther">     <!--  Other Ob/Gyn reports -->
		<title lang="en">Other Ob/Gyn</title>
		<title lang="fr">Autres Ob-Gyn</title>
		<reportSubSet><!-- Gynecology -->
			<title lang="en">Gynecology</title>
			<title lang="fr">Gynécologie</title>
			<report id="3143" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Detection of precancerous cervical lesions</title>
				<title lang="fr">Dépistage des lésions précancéreuses du col de l'utérus</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM encValidAll e LEFT JOIN vitals v ON e.patientID = v.patientID AND e.siteCode = v.siteCode AND e.visitDateDd = v.visitDateDd AND e.visitDateMm = v.visitDateMm AND e.visitDateYy = v.visitDateYy AND e.seqNum = v.seqNum LEFT JOIN a_labs l ON e.patientID = l.patientID AND e.siteCode = l.siteCode AND e.visitDateDd = l.visitDateDd AND e.visitDateMm = l.visitDateMm AND e.visitDateYy = l.visitDateYy AND e.seqNum = l.seqNum, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND ((v.papTest = 1 AND ISDATE(dbo.ymdToDate(v.papTestYy, v.papTestMm, v.papTestDd)) = 1 AND dbo.ymdToDate(v.papTestYy, v.papTestMm, v.papTestDd) BETWEEN '$start' AND '$end') OR ((l.ordered = 1 or l.result is not null or ltrim(rtrim(l.result)) != '' or l.result2 is not null or ltrim(rtrim(l.result2)) != '' or l.result3 is not null or ltrim(rtrim(l.result3)) != '' or l.result4 is not null or ltrim(rtrim(l.result4)) != '' or l.resultAbnormal is not null or l.resultDateyy is not null or ltrim(rtrim(l.resultDateyy)) != '' or l.resultRemarks is not null or ltrim(rtrim(l.resultRemarks)) != '') AND (l.testnamefr like '%pap%' or l.testnamefr like '%frottis%'))) AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Number of women given a PAP test during the period of review.</description>
				<description lang="fr">Nombre de femmes ayant bénéficié de tests de dépistage des lésions précancéreuses du col de l'utérus durant la période d'analyse.</description>
			</report>
			<report id="3131" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">New cases of breast cancer</title>
				<title lang="fr">Nouveaux cas de cancer du sein  chez les femmes</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS pcID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #tempIncidence1$user t1, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = t1.patientID AND p.patientID = e.patientID AND t1.visitDate BETWEEN '$start' AND '$end' GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Total number of new cases of breast cancer diagnosed during the period of review.</description>
				<description lang="fr">Fréquences de nouveaux cas de cancer du sein rapporté durant la période d'analyse.</description>
			</report>
		</reportSubSet>
		<reportSubSet><!-- Family Planning -->
			<title lang="en">Family Planning</title>
			<title lang="fr">Planning familial</title>
			<report id="3150" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of women accepting a modern method of contraception</title>
				<title lang="fr">Nombre de femmes acceptantes de méthodes contraceptives modernes</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT DISTINCT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND t1.startDate BETWEEN '$start' AND '$end' AND (t1.pill = 1 OR t1.condom = 1 OR t1.tablet = 1 OR t1.inject = 1 OR t1.implant = 1) GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Total number of women accepting a modern method of contraception during the period of review.</description>
				<description lang="fr">Nombre de femmes  acceptantes de méthodes contraceptives modernes durant la période d'analyse.</description>
			</report>
			<report id="3151" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of women accepting the pill for contraception</title>
				<title lang="fr">Nombre de femmes ayant accepté la pillule comme méthode de contraception</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT DISTINCT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND t1.startDate BETWEEN '$start' AND '$end' AND t1.pill = 1 GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Total number of women accepting the pill for contraception during the period of review.</description>
				<description lang="fr">Nombre de femmes ayant accepté la pillule comme méthode de contraception durant la période d'analyse.</description>
			</report>
			<report id="3152" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of women accepting the condom for contraception</title>
				<title lang="fr">Nombre de femmes ayant accepté le condom comme méthode de contraception</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT DISTINCT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND t1.startDate BETWEEN '$start' AND '$end' AND t1.condom = 1 GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Total number of women accepting the condom for contraception during the period of review.</description>
				<description lang="fr">Nombre de femmes ayant accepté le condom comme méthode de contraception durant la période d'analyse.</description>
			</report>
			<report id="3153" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of women accepting the vaginal tablet for contraception</title>
				<title lang="fr">Nombre de femmes ayant accepté la tablette vaginale comme méthode de contraception</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT DISTINCT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND t1.startDate BETWEEN '$start' AND '$end' AND t1.tablet = 1 GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Total number of women accepting the vaginal tablet for contraception during the period of review.</description>
				<description lang="fr">Nombre de femmes ayant accepté la tablette vaginale comme méthode de contraception durant la période d'analyse.</description>
			</report>
			<report id="3154" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of women accepting injectables for contraception</title>
				<title lang="fr">Nombre de femmes ayant accepté des injectables comme méthode de contraception</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT DISTINCT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND t1.startDate BETWEEN '$start' AND '$end' AND t1.inject = 1 GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Total number of women accepting injectables for contraception during the period of review.</description>
				<description lang="fr">Nombre de femmes ayant accepté des injectables comme méthode de contraception durant la période d'analyse.</description>
			</report>
			<report id="3155" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of women accepting implants for contraception</title>
				<title lang="fr">Nombre de femmes ayant accepté de l'implant comme méthode de contraception</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT DISTINCT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND t1.startDate BETWEEN '$start' AND '$end' AND t1.implant = 1 GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Total number of women accepting implants for contraception during the period of review.</description>
				<description lang="fr">Nombre de femmes ayant accepté de l'implant comme méthode de contraception durant la période d'analyse.</description>
			</report>
			<report id="3156" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of women using a modern method of contraception</title>
				<title lang="fr">Nombre de femmes utilisatrices de méthodes contraceptives modernes</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT DISTINCT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, #temp2$user t2, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND p.patientID = t2.patientID AND t1.startDate &lt; '$start' AND (t1.pill = 1 OR t1.condom = 1 OR t1.tablet = 1 OR t1.inject = 1 OR t1.implant = 1) AND t2.contDate BETWEEN '$start' AND '$end' AND (t2.pill = t1.pill OR t2.condom = t1.condom OR t2.tablet = t1.tablet OR t2.inject = t1.inject OR t2.implant = t1.implant) GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Total number of women using a modern method of contraception during the period of review.</description>
				<description lang="fr">Nombre de femmes  acceptantes de méthodes contraceptives modernes durant la période d'analyse.</description>
			</report>
			<report id="3157" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of women using the pill for contraception</title>
				<title lang="fr">Nombre de femmes ayant utilisé la pillule comme méthode de contraception</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT DISTINCT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, #temp2$user t2, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND p.patientID = t2.patientID AND t1.startDate &lt; '$start' AND t1.pill = 1 AND t2.contDate BETWEEN '$start' AND '$end' AND t2.pill = t1.pill GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Total number of women using the pill for contraception during the period of review.</description>
				<description lang="fr">Nombre de femmes ayant utilisé la pillule comme méthode de contraception durant la période d'analyse.</description>
			</report>
			<report id="3158" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of women using the condom for contraception</title>
				<title lang="fr">Nombre de femmes ayant utilisé le condom comme méthode de contraception</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT DISTINCT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, #temp2$user t2, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND p.patientID = t2.patientID AND t1.startDate &lt; '$start' AND t1.condom = 1 AND t2.contDate BETWEEN '$start' AND '$end' AND t2.condom = t1.condom GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Total number of women using the condom for contraception during the period of review.</description>
				<description lang="fr">Nombre de femmes ayant utilisé le condom comme méthode de contraception durant la période d'analyse.</description>
			</report>
			<report id="3159" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of women using the vaginal tablet for contraception</title>
				<title lang="fr">Nombre de femmes ayant utilisé la tablette vaginale comme méthode de contraception</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT DISTINCT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, #temp2$user t2, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND p.patientID = t2.patientID AND t1.startDate &lt; '$start' AND t1.tablet = 1 AND t2.contDate BETWEEN '$start' AND '$end' AND t2.tablet = t1.tablet GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Total number of women using the vaginal tablet for contraception during the period of review.</description>
				<description lang="fr">Nombre de femmes ayant utilisé la tablette vaginale comme méthode de contraception durant la période d'analyse.</description>
			</report>
			<report id="3160" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of women using injectables for contraception</title>
				<title lang="fr">Nombre de femmes ayant utilisé des injectables comme méthode de contraception</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT DISTINCT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, #temp2$user t2, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND p.patientID = t2.patientID AND t1.startDate &lt; '$start' AND t1.inject = 1 AND t2.contDate BETWEEN '$start' AND '$end' AND t2.inject = t1.inject GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Total number of women using injectables for contraception during the period of review.</description>
				<description lang="fr">Nombre de femmes ayant utilisé des injectables comme méthode de contraception durant la période d'analyse.</description>
			</report>
			<report id="3161" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of women using implants for contraception</title>
				<title lang="fr">Nombre de femmes ayant utilisé de l'implant comme méthode de contraception</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT DISTINCT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, MAX(e.visitDate) AS LastDate FROM #temp1$user t1, #temp2$user t2, encValidAll e, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND p.patientID = t1.patientID AND p.patientID = t2.patientID AND t1.startDate &lt; '$start' AND t1.implant = 1 AND t2.contDate BETWEEN '$start' AND '$end' AND t2.implant = t1.implant GROUP BY 1,2,4,5,6,7,8 ORDER BY 2,3</query>
				<description lang="en">Total number of women using implants for contraception during the period of review.</description>
				<description lang="fr">Nombre de femmes ayant utilisé de l'implant comme méthode de contraception durant la période d'analyse.</description>
			</report>
		</reportSubSet>
		<reportSubSet><!-- Sexual Violence -->
			<title lang="en">Sexual Violence</title>
			<title lang="fr">Violence sexuelle</title>
			<report id="3130" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of rape survivors examined</title>
				<title lang="fr">Nombre de cas de violences sexuelles</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT DISTINCT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, e.visitDate AS VisitDt FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (70360,70361,71131,71132,71133,71134) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' ORDER BY 2,3</query>
				<description lang="en">Total number of sexual violence cases seen during the period of review.</description>
				<description lang="fr">Nombre de cas de violences sexuelles reçues durant la période d'analyse.</description>
			</report>
			<report id="3139" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of rape survivors examined within 72 hours</title>
				<title lang="fr">Nombre de cas de violences sexuelles dans les 72 heures suivant l'incident</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT DISTINCT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, e.visitDate AS VisitDt FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (71131) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' ORDER BY 2,3</query>
				<description lang="en">Total number of sexual violence cases seen in the first 72 hours following the incident during the period of review.</description>
				<description lang="fr">Nombre de cas de violences sexuelles examinés 72 heures après l'incident durant la période d'analyse.</description>
			</report>
			<report id="3140" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of rape survivors examined within 72 - 120 hours</title>
				<title lang="fr">Nombre de cas de violences sexuelles examinés entre 72 et 120 heures suivant l'incident</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT DISTINCT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, e.visitDate AS VisitDt FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (71132) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' ORDER BY 2,3</query>
				<description lang="en">Total number of sexual violence cases seen between 72 and 120 hours following the incident during the period of review.</description>
				<description lang="fr">Nombre de cas de violences sexuelles examinés entre 72 et 120 heures après l'incident durant la période d'analyse.</description>
			</report>
			<report id="3141" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of rape survivors examined within 120  hours - 2 weeks</title>
				<title lang="fr">Nombre de cas de violences sexuelles examinés entre 120 heures et 2 semaines suivant l'incident</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT DISTINCT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, e.visitDate AS VisitDt FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (71133) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' ORDER BY 2,3</query>
				<description lang="en">Total number of sexual violence cases seen between 120 hours and 2 weeks following the incident during the period of review.</description>
				<description lang="fr">Nombre de cas de violences sexuelles examinés entre 120 heures et 2 semaines après l'incident durant la période d'analyse.</description>
			</report>
			<report id="3142" patientStatus="0" treatmentStatus="0" testType="0">
				<title lang="en">Number of rape survivors examined after 2 weeks</title>
				<title lang="fr">Nombre de cas de violences sexuelles examinés après deux semaines suivant l'incident</title>
				<reportFile></reportFile>
				<menuSelection>dateSelect</menuSelection>
				<query>SELECT DISTINCT p.patientID, CASE WHEN p.clinicPatientID IS NULL OR LTRIM(RTRIM(p.clinicPatientID)) = '' THEN 'N/A' ELSE p.clinicPatientID END AS clinicPatientID, CASE WHEN o1.value_text IS NULL OR LTRIM(RTRIM(o1.value_text)) = '' THEN 'N/A' ELSE o1.value_text END AS obGynID, p.nationalID, p.fname, p.lname, p.sex, $computed_age AS age, e.visitDate AS VisitDt FROM encValidAll e, obs o, patient p LEFT JOIN obs o1 ON p.person_id = o1.person_id AND p.location_id = o1.location_id AND o1.concept_id = 70040 WHERE p.patientID = e.patientID AND e.encounter_id = o.encounter_id AND e.siteCode = o.location_id AND o.concept_id IN (71134) AND o.value_boolean = 1 AND e.siteCode = '$site' AND e.visitDate BETWEEN '$start' AND '$end' ORDER BY 2,3</query>
				<description lang="en">Total number of sexual violence cases seen more than 2 weeks following the incident during the period of review.</description>
				<description lang="fr">Nombre de cas de violences sexuelles examinés après deux semaines durant la période d'analyse.</description>
			</report>
		</reportSubSet>
	</reportSet>
</reports>
